import{c as Lt}from"./chunk-LCVX2N4P.js";import{a as Xt}from"./chunk-GG7AHMIJ.js";import{c as zt,d as Yt}from"./chunk-AWERIOQH.js";import{Ad as Bt,Bc as Ce,Ca as Tt,Fc as Rt,Ib as j,Kb as W,Lc as ke,Mb as Nt,Mc as Ue,Nb as Ft,Ob as kt,Pb as q,Qb as I,Rb as N,Sb as k,Xc as ut,Yc as re,Za as _e,Zc as ft,_b as we,bb as M,bc as he,dc as S,kc as ct,lc as Ut,ob as At,oc as dt,qa as ge,ra as pe,rc as Ne,sc as Fe}from"./chunk-KIZZVTEV.js";function Ht(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,n)}return t}function Z(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(t),!0).forEach(function(n){mn(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ht(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Ze(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ze=function(e){return typeof e}:Ze=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(i)}function mn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ne(){return ne=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},ne.apply(this,arguments)}function vn(i,e){if(i==null)return{};var t={},n=Object.keys(i),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function bn(i,e){if(i==null)return{};var t=vn(i,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}var _n="1.15.6";function te(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var ie=te(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),je=te(/Edge/i),Gt=te(/firefox/i),Ye=te(/safari/i)&&!te(/chrome/i)&&!te(/android/i),Dt=te(/iP(ad|od|hone)/i),Zt=te(/chrome/i)&&te(/android/i),Jt={capture:!1,passive:!1};function v(i,e,t){i.addEventListener(e,t,!ie&&Jt)}function m(i,e,t){i.removeEventListener(e,t,!ie&&Jt)}function it(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function en(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function V(i,e,t,n){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&it(i,e):it(i,e))||n&&i===t)return i;if(i===t)break}while(i=en(i))}return null}var jt=/\s+/g;function Y(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var n=(" "+i.className+" ").replace(jt," ").replace(" "+e+" "," ");i.className=(n+(t?" "+e:"")).replace(jt," ")}}function g(i,e,t){var n=i&&i.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function De(i,e){var t="";if(typeof i=="string")t=i;else do{var n=g(i,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function tn(i,e,t){if(i){var n=i.getElementsByTagName(e),o=0,a=n.length;if(t)for(;o<a;o++)t(n[o],o);return n}return[]}function Q(){var i=document.scrollingElement;return i||document.documentElement}function O(i,e,t,n,o){if(!(!i.getBoundingClientRect&&i!==window)){var a,r,l,s,c,f,u;if(i!==window&&i.parentNode&&i!==Q()?(a=i.getBoundingClientRect(),r=a.top,l=a.left,s=a.bottom,c=a.right,f=a.height,u=a.width):(r=0,l=0,s=window.innerHeight,c=window.innerWidth,f=window.innerHeight,u=window.innerWidth),(e||t)&&i!==window&&(o=o||i.parentNode,!ie))do if(o&&o.getBoundingClientRect&&(g(o,"transform")!=="none"||t&&g(o,"position")!=="static")){var b=o.getBoundingClientRect();r-=b.top+parseInt(g(o,"border-top-width")),l-=b.left+parseInt(g(o,"border-left-width")),s=r+a.height,c=l+a.width;break}while(o=o.parentNode);if(n&&i!==window){var C=De(o||i),_=C&&C.a,w=C&&C.d;C&&(r/=w,l/=_,u/=_,f/=w,s=r+f,c=l+u)}return{top:r,left:l,bottom:s,right:c,width:u,height:f}}}function Wt(i,e,t){for(var n=ce(i,!0),o=O(i)[e];n;){var a=O(n)[t],r=void 0;if(t==="top"||t==="left"?r=o>=a:r=o<=a,!r)return n;if(n===Q())break;n=ce(n,!1)}return!1}function Oe(i,e,t,n){for(var o=0,a=0,r=i.children;a<r.length;){if(r[a].style.display!=="none"&&r[a]!==p.ghost&&(n||r[a]!==p.dragged)&&V(r[a],t.draggable,i,!1)){if(o===e)return r[a];o++}a++}return null}function Ot(i,e){for(var t=i.lastElementChild;t&&(t===p.ghost||g(t,"display")==="none"||e&&!it(t,e));)t=t.previousElementSibling;return t||null}function L(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==p.clone&&(!e||it(i,e))&&t++;return t}function $t(i){var e=0,t=0,n=Q();if(i)do{var o=De(i),a=o.a,r=o.d;e+=i.scrollLeft*a,t+=i.scrollTop*r}while(i!==n&&(i=i.parentNode));return[e,t]}function wn(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===i[t][n])return Number(t)}return-1}function ce(i,e){if(!i||!i.getBoundingClientRect)return Q();var t=i,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=g(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Q();if(n||e)return t;n=!0}}while(t=t.parentNode);return Q()}function Cn(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function gt(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var Xe;function nn(i,e){return function(){if(!Xe){var t=arguments,n=this;t.length===1?i.call(n,t[0]):i.apply(n,t),Xe=setTimeout(function(){Xe=void 0},e)}}}function yn(){clearTimeout(Xe),Xe=void 0}function on(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function an(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function rn(i,e,t){var n={};return Array.from(i.children).forEach(function(o){var a,r,l,s;if(!(!V(o,e.draggable,i,!1)||o.animated||o===t)){var c=O(o);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,c.left),n.top=Math.min((r=n.top)!==null&&r!==void 0?r:1/0,c.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,c.right),n.bottom=Math.max((s=n.bottom)!==null&&s!==void 0?s:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var R="Sortable"+new Date().getTime();function xn(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(g(o,"display")==="none"||o===p.ghost)){i.push({target:o,rect:O(o)});var a=Z({},i[i.length-1].rect);if(o.thisAnimationDuration){var r=De(o,!0);r&&(a.top-=r.f,a.left-=r.e)}o.fromRect=a}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(wn(i,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,r=0;i.forEach(function(l){var s=0,c=l.target,f=c.fromRect,u=O(c),b=c.prevFromRect,C=c.prevToRect,_=l.rect,w=De(c,!0);w&&(u.top-=w.f,u.left-=w.e),c.toRect=u,c.thisAnimationDuration&&gt(b,u)&&!gt(f,u)&&(_.top-u.top)/(_.left-u.left)===(f.top-u.top)/(f.left-u.left)&&(s=Sn(_,b,C,o.options)),gt(u,f)||(c.prevFromRect=f,c.prevToRect=u,s||(s=o.options.animation),o.animate(c,_,u,s)),s&&(a=!0,r=Math.max(r,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},s),c.thisAnimationDuration=s)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),i=[]},animate:function(n,o,a,r){if(r){g(n,"transition",""),g(n,"transform","");var l=De(this.el),s=l&&l.a,c=l&&l.d,f=(o.left-a.left)/(s||1),u=(o.top-a.top)/(c||1);n.animatingX=!!f,n.animatingY=!!u,g(n,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=En(n),g(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),g(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){g(n,"transition",""),g(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}function En(i){return i.offsetWidth}function Sn(i,e,t,n){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var ye=[],pt={initializeByDefault:!0},We={mount:function(e){for(var t in pt)pt.hasOwnProperty(t)&&!(t in e)&&(e[t]=pt[t]);ye.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ye.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var a=e+"Global";ye.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][a]&&t[r.pluginName][a](Z({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Z({sortable:t},n)))})},initializePlugins:function(e,t,n,o){ye.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var c=new l(e,t,e.options);c.sortable=e,c.options=e.options,e[s]=c,ne(n,c.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var r=this.modifyOption(e,a,e.options[a]);typeof r<"u"&&(e.options[a]=r)}},getEventProperties:function(e,t){var n={};return ye.forEach(function(o){typeof o.eventProperties=="function"&&ne(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return ye.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(o=a.optionListeners[t].call(e[a.pluginName],n))}),o}};function Dn(i){var e=i.sortable,t=i.rootEl,n=i.name,o=i.targetEl,a=i.cloneEl,r=i.toEl,l=i.fromEl,s=i.oldIndex,c=i.newIndex,f=i.oldDraggableIndex,u=i.newDraggableIndex,b=i.originalEvent,C=i.putSortable,_=i.extraEventProperties;if(e=e||t&&t[R],!!e){var w,H=e.options,J="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ie&&!je?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=r||t,w.from=l||t,w.item=o||t,w.clone=a,w.oldIndex=s,w.newIndex=c,w.oldDraggableIndex=f,w.newDraggableIndex=u,w.originalEvent=b,w.pullMode=C?C.lastPutMode:void 0;var A=Z(Z({},_),We.getEventProperties(n,e));for(var G in A)w[G]=A[G];t&&t.dispatchEvent(w),H[J]&&H[J].call(e,w)}}var On=["evt"],U=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,a=bn(n,On);We.pluginEvent.bind(p)(e,t,Z({dragEl:d,parentEl:E,ghostEl:h,rootEl:y,nextEl:be,lastDownEl:Je,cloneEl:x,cloneHidden:se,dragStarted:Re,putSortable:P,activeSortable:p.active,originalEvent:o,oldIndex:Se,oldDraggableIndex:Le,newIndex:X,newDraggableIndex:le,hideGhostForTarget:dn,unhideGhostForTarget:un,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(l){F({sortable:t,name:l,originalEvent:o})}},a))};function F(i){Dn(Z({putSortable:P,cloneEl:x,targetEl:d,rootEl:y,oldIndex:Se,oldDraggableIndex:Le,newIndex:X,newDraggableIndex:le},i))}var d,E,h,y,be,Je,x,se,Se,X,Le,le,Ve,P,Ee=!1,ot=!1,at=[],me,$,ht,mt,Vt,Kt,Re,xe,He,Ge=!1,Ke=!1,et,T,vt=[],yt=!1,rt=[],st=typeof document<"u",qe=Dt,qt=je||ie?"cssFloat":"float",In=st&&!Zt&&!Dt&&"draggable"in document.createElement("div"),ln=(function(){if(st){if(ie)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}})(),sn=function(e,t){var n=g(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Oe(e,0,t),r=Oe(e,1,t),l=a&&g(a),s=r&&g(r),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+O(a).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+O(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l.float&&l.float!=="none"){var u=l.float==="left"?"left":"right";return r&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return a&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||c>=o&&n[qt]==="none"||r&&n[qt]==="none"&&c+f>o)?"vertical":"horizontal"},Mn=function(e,t,n){var o=n?e.left:e.top,a=n?e.right:e.bottom,r=n?e.width:e.height,l=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return o===l||a===s||o+r/2===l+c/2},Pn=function(e,t){var n;return at.some(function(o){var a=o[R].options.emptyInsertThreshold;if(!(!a||Ot(o))){var r=O(o),l=e>=r.left-a&&e<=r.right+a,s=t>=r.top-a&&t<=r.bottom+a;if(l&&s)return n=o}}),n},cn=function(e){function t(a,r){return function(l,s,c,f){var u=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(a==null&&(r||u))return!0;if(a==null||a===!1)return!1;if(r&&a==="clone")return a;if(typeof a=="function")return t(a(l,s,c,f),r)(l,s,c,f);var b=(r?l:s).options.group.name;return a===!0||typeof a=="string"&&a===b||a.join&&a.indexOf(b)>-1}}var n={},o=e.group;(!o||Ze(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},dn=function(){!ln&&h&&g(h,"display","none")},un=function(){!ln&&h&&g(h,"display","")};st&&!Zt&&document.addEventListener("click",function(i){if(ot)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),ot=!1,!1},!0);var ve=function(e){if(d){e=e.touches?e.touches[0]:e;var t=Pn(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[R]._onDragOver(n)}}},Tn=function(e){d&&d.parentNode[R]._isOutsideThisEl(e.target)};function p(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=ne({},e),i[R]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return sn(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!Ye||Dt),emptyInsertThreshold:5};We.initializePlugins(this,i,t);for(var n in t)!(n in e)&&(e[n]=t[n]);cn(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:In,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?v(i,"pointerdown",this._onTapStart):(v(i,"mousedown",this._onTapStart),v(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(i,"dragover",this),v(i,"dragenter",this)),at.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ne(this,xn())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(xe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,a=o.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,f=o.filter;if(zn(n),!d&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Ye&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=V(s,o.draggable,n,!1),!(s&&s.animated)&&Je!==s)){if(Se=L(s),Le=L(s,o.draggable),typeof f=="function"){if(f.call(this,e,s,this)){F({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),U("filter",t,{evt:e}),a&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(u){if(u=V(c,u.trim(),n,!1),u)return F({sortable:t,rootEl:u,name:"filter",targetEl:s,fromEl:n,toEl:n}),U("filter",t,{evt:e}),!0}),f)){a&&e.preventDefault();return}o.handle&&!V(c,o.handle,n,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,n){var o=this,a=o.el,r=o.options,l=a.ownerDocument,s;if(n&&!d&&n.parentNode===a){var c=O(n);if(y=a,d=n,E=d.parentNode,be=d.nextSibling,Je=n,Ve=r.group,p.dragged=d,me={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},Vt=me.clientX-c.left,Kt=me.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",s=function(){if(U("delayEnded",o,{evt:e}),p.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Gt&&o.nativeDraggable&&(d.draggable=!0),o._triggerDragStart(e,t),F({sortable:o,name:"choose",originalEvent:e}),Y(d,r.chosenClass,!0)},r.ignore.split(",").forEach(function(f){tn(d,f.trim(),bt)}),v(l,"dragover",ve),v(l,"mousemove",ve),v(l,"touchmove",ve),r.supportPointer?(v(l,"pointerup",o._onDrop),!this.nativeDraggable&&v(l,"pointercancel",o._onDrop)):(v(l,"mouseup",o._onDrop),v(l,"touchend",o._onDrop),v(l,"touchcancel",o._onDrop)),Gt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),U("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(je||ie))){if(p.eventCanceled){this._onDrop();return}r.supportPointer?(v(l,"pointerup",o._disableDelayedDrag),v(l,"pointercancel",o._disableDelayedDrag)):(v(l,"mouseup",o._disableDelayedDrag),v(l,"touchend",o._disableDelayedDrag),v(l,"touchcancel",o._disableDelayedDrag)),v(l,"mousemove",o._delayedDragTouchMoveHandler),v(l,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&v(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,r.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&bt(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;m(e,"mouseup",this._disableDelayedDrag),m(e,"touchend",this._disableDelayedDrag),m(e,"touchcancel",this._disableDelayedDrag),m(e,"pointerup",this._disableDelayedDrag),m(e,"pointercancel",this._disableDelayedDrag),m(e,"mousemove",this._delayedDragTouchMoveHandler),m(e,"touchmove",this._delayedDragTouchMoveHandler),m(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):t?v(document,"touchmove",this._onTouchMove):v(document,"mousemove",this._onTouchMove):(v(d,"dragend",this),v(y,"dragstart",this._onDragStart));try{document.selection?tt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ee=!1,y&&d){U("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Tn);var n=this.options;!e&&Y(d,n.dragClass,!1),Y(d,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),F({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if($){this._lastX=$.clientX,this._lastY=$.clientY,dn();for(var e=document.elementFromPoint($.clientX,$.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint($.clientX,$.clientY),e!==t);)t=e;if(d.parentNode[R]._isOutsideThisEl(e),t)do{if(t[R]){var n=void 0;if(n=t[R]._onDragOver({clientX:$.clientX,clientY:$.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=en(t));un()}},_onTouchMove:function(e){if(me){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,a=e.touches?e.touches[0]:e,r=h&&De(h,!0),l=h&&r&&r.a,s=h&&r&&r.d,c=qe&&T&&$t(T),f=(a.clientX-me.clientX+o.x)/(l||1)+(c?c[0]-vt[0]:0)/(l||1),u=(a.clientY-me.clientY+o.y)/(s||1)+(c?c[1]-vt[1]:0)/(s||1);if(!p.active&&!Ee){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(h){r?(r.e+=f-(ht||0),r.f+=u-(mt||0)):r={a:1,b:0,c:0,d:1,e:f,f:u};var b="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");g(h,"webkitTransform",b),g(h,"mozTransform",b),g(h,"msTransform",b),g(h,"transform",b),ht=f,mt=u,$=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!h){var e=this.options.fallbackOnBody?document.body:y,t=O(d,!0,qe,!0,e),n=this.options;if(qe){for(T=e;g(T,"position")==="static"&&g(T,"transform")==="none"&&T!==document;)T=T.parentNode;T!==document.body&&T!==document.documentElement?(T===document&&(T=Q()),t.top+=T.scrollTop,t.left+=T.scrollLeft):T=Q(),vt=$t(T)}h=d.cloneNode(!0),Y(h,n.ghostClass,!1),Y(h,n.fallbackClass,!0),Y(h,n.dragClass,!0),g(h,"transition",""),g(h,"transform",""),g(h,"box-sizing","border-box"),g(h,"margin",0),g(h,"top",t.top),g(h,"left",t.left),g(h,"width",t.width),g(h,"height",t.height),g(h,"opacity","0.8"),g(h,"position",qe?"absolute":"fixed"),g(h,"zIndex","100000"),g(h,"pointerEvents","none"),p.ghost=h,e.appendChild(h),g(h,"transform-origin",Vt/parseInt(h.style.width)*100+"% "+Kt/parseInt(h.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,a=n.options;if(U("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}U("setupClone",this),p.eventCanceled||(x=an(d),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),Y(x,this.options.chosenClass,!1),p.clone=x),n.cloneId=tt(function(){U("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||y.insertBefore(x,d),n._hideClone(),F({sortable:n,name:"clone"}))}),!t&&Y(d,a.dragClass,!0),t?(ot=!0,n._loopId=setInterval(n._emulateDragOver,50)):(m(document,"mouseup",n._onDrop),m(document,"touchend",n._onDrop),m(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(n,o,d)),v(document,"drop",n),g(d,"transform","translateZ(0)")),Ee=!0,n._dragStartId=tt(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),Re=!0,window.getSelection().removeAllRanges(),Ye&&g(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,o,a,r,l=this.options,s=l.group,c=p.active,f=Ve===s,u=l.sort,b=P||c,C,_=this,w=!1;if(yt)return;function H(Ae,pn){U(Ae,_,Z({evt:e,isOwner:f,axis:C?"vertical":"horizontal",revert:r,dragRect:o,targetRect:a,canSort:u,fromSortable:b,target:n,completed:A,onMove:function(Pt,hn){return Qe(y,t,d,o,Pt,O(Pt),e,hn)},changed:G},pn))}function J(){H("dragOverAnimationCapture"),_.captureAnimationState(),_!==b&&b.captureAnimationState()}function A(Ae){return H("dragOverCompleted",{insertion:Ae}),Ae&&(f?c._hideClone():c._showClone(_),_!==b&&(Y(d,P?P.options.ghostClass:c.options.ghostClass,!1),Y(d,l.ghostClass,!0)),P!==_&&_!==p.active?P=_:_===p.active&&P&&(P=null),b===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){H("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===t&&!n.animated)&&(xe=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[R]._isOutsideThisEl(e.target),!Ae&&ve(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function G(){X=L(d),le=L(d,l.draggable),F({sortable:_,name:"change",toEl:t,newIndex:X,newDraggableIndex:le,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=V(n,l.draggable,t,!0),H("dragOver"),p.eventCanceled)return w;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return A(!1);if(ot=!1,c&&!l.disabled&&(f?u||(r=E!==y):P===this||(this.lastPutMode=Ve.checkPull(this,c,d,e))&&s.checkPut(this,c,d,e))){if(C=this._getDirection(e,n)==="vertical",o=O(d),H("dragOverValid"),p.eventCanceled)return w;if(r)return E=y,J(),this._hideClone(),H("revert"),p.eventCanceled||(be?y.insertBefore(d,be):y.appendChild(d)),A(!0);var B=Ot(t,l.draggable);if(!B||kn(e,C,this)&&!B.animated){if(B===d)return A(!1);if(B&&t===e.target&&(n=B),n&&(a=O(n)),Qe(y,t,d,o,n,a,e,!!n)!==!1)return J(),B&&B.nextSibling?t.insertBefore(d,B.nextSibling):t.appendChild(d),E=t,G(),A(!0)}else if(B&&Fn(e,C,this)){var de=Oe(t,0,l,!0);if(de===d)return A(!1);if(n=de,a=O(n),Qe(y,t,d,o,n,a,e,!1)!==!1)return J(),t.insertBefore(d,de),E=t,G(),A(!0)}else if(n.parentNode===t){a=O(n);var K=0,ue,Ie=d.parentNode!==t,z=!Mn(d.animated&&d.toRect||o,n.animated&&n.toRect||a,C),Me=C?"top":"left",oe=Wt(n,"top","top")||Wt(d,"top","top"),Pe=oe?oe.scrollTop:void 0;xe!==n&&(ue=a[Me],Ge=!1,Ke=!z&&l.invertSwap||Ie),K=Un(e,n,a,C,z?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ke,xe===n);var ee;if(K!==0){var fe=L(d);do fe-=K,ee=E.children[fe];while(ee&&(g(ee,"display")==="none"||ee===h))}if(K===0||ee===n)return A(!1);xe=n,He=K;var Te=n.nextElementSibling,ae=!1;ae=K===1;var $e=Qe(y,t,d,o,n,a,e,ae);if($e!==!1)return($e===1||$e===-1)&&(ae=$e===1),yt=!0,setTimeout(Nn,30),J(),ae&&!Te?t.appendChild(d):n.parentNode.insertBefore(d,ae?Te:n),oe&&on(oe,0,Pe-oe.scrollTop),E=d.parentNode,ue!==void 0&&!Ke&&(et=Math.abs(ue-O(n)[Me])),G(),A(!0)}if(t.contains(d))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){m(document,"mousemove",this._onTouchMove),m(document,"touchmove",this._onTouchMove),m(document,"pointermove",this._onTouchMove),m(document,"dragover",ve),m(document,"mousemove",ve),m(document,"touchmove",ve)},_offUpEvents:function(){var e=this.el.ownerDocument;m(e,"mouseup",this._onDrop),m(e,"touchend",this._onDrop),m(e,"pointerup",this._onDrop),m(e,"pointercancel",this._onDrop),m(e,"touchcancel",this._onDrop),m(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(X=L(d),le=L(d,n.draggable),U("drop",this,{evt:e}),E=d&&d.parentNode,X=L(d),le=L(d,n.draggable),p.eventCanceled){this._nulling();return}Ee=!1,Ke=!1,Ge=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xt(this.cloneId),xt(this._dragStartId),this.nativeDraggable&&(m(document,"drop",this),m(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ye&&g(document.body,"user-select",""),g(d,"transform",""),e&&(Re&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),h&&h.parentNode&&h.parentNode.removeChild(h),(y===E||P&&P.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),d&&(this.nativeDraggable&&m(d,"dragend",this),bt(d),d.style["will-change"]="",Re&&!Ee&&Y(d,P?P.options.ghostClass:this.options.ghostClass,!1),Y(d,this.options.chosenClass,!1),F({sortable:this,name:"unchoose",toEl:E,newIndex:null,newDraggableIndex:null,originalEvent:e}),y!==E?(X>=0&&(F({rootEl:E,name:"add",toEl:E,fromEl:y,originalEvent:e}),F({sortable:this,name:"remove",toEl:E,originalEvent:e}),F({rootEl:E,name:"sort",toEl:E,fromEl:y,originalEvent:e}),F({sortable:this,name:"sort",toEl:E,originalEvent:e})),P&&P.save()):X!==Se&&X>=0&&(F({sortable:this,name:"update",toEl:E,originalEvent:e}),F({sortable:this,name:"sort",toEl:E,originalEvent:e})),p.active&&((X==null||X===-1)&&(X=Se,le=Le),F({sortable:this,name:"end",toEl:E,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){U("nulling",this),y=d=E=h=be=x=Je=se=me=$=Re=X=le=Se=Le=xe=He=P=Ve=p.dragged=p.ghost=p.clone=p.active=null,rt.forEach(function(e){e.checked=!0}),rt.length=ht=mt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),An(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,o=0,a=n.length,r=this.options;o<a;o++)t=n[o],V(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Bn(t));return e},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(a,r){var l=o.children[r];V(l,this.options.draggable,o,!1)&&(n[a]=l)},this),t&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(o.removeChild(n[a]),o.appendChild(n[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return V(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=We.modifyOption(this,e,t);typeof o<"u"?n[e]=o:n[e]=t,e==="group"&&cn(n)},destroy:function(){U("destroy",this);var e=this.el;e[R]=null,m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart),m(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),at.splice(at.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(U("hideClone",this),p.eventCanceled)return;g(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),se=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(se){if(U("showClone",this),p.eventCanceled)return;d.parentNode==y&&!this.options.group.revertClone?y.insertBefore(x,d):be?y.insertBefore(x,be):y.appendChild(x),this.options.group.revertClone&&this.animate(d,x),g(x,"display",""),se=!1}}};function An(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Qe(i,e,t,n,o,a,r,l){var s,c=i[R],f=c.options.onMove,u;return window.CustomEvent&&!ie&&!je?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=i,s.dragged=t,s.draggedRect=n,s.related=o||e,s.relatedRect=a||O(e),s.willInsertAfter=l,s.originalEvent=r,i.dispatchEvent(s),f&&(u=f.call(c,s,r)),u}function bt(i){i.draggable=!1}function Nn(){yt=!1}function Fn(i,e,t){var n=O(Oe(t.el,0,t.options,!0)),o=rn(t.el,t.options,h),a=10;return e?i.clientX<o.left-a||i.clientY<n.top&&i.clientX<n.right:i.clientY<o.top-a||i.clientY<n.bottom&&i.clientX<n.left}function kn(i,e,t){var n=O(Ot(t.el,t.options.draggable)),o=rn(t.el,t.options,h),a=10;return e?i.clientX>o.right+a||i.clientY>n.bottom&&i.clientX>n.left:i.clientY>o.bottom+a||i.clientX>n.right&&i.clientY>n.top}function Un(i,e,t,n,o,a,r,l){var s=n?i.clientY:i.clientX,c=n?t.height:t.width,f=n?t.top:t.left,u=n?t.bottom:t.right,b=!1;if(!r){if(l&&et<c*o){if(!Ge&&(He===1?s>f+c*a/2:s<u-c*a/2)&&(Ge=!0),Ge)b=!0;else if(He===1?s<f+et:s>u-et)return-He}else if(s>f+c*(1-o)/2&&s<u-c*(1-o)/2)return Rn(e)}return b=b||r,b&&(s<f+c*a/2||s>u-c*a/2)?s>f+c/2?1:-1:0}function Rn(i){return L(d)<L(i)?1:-1}function Bn(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function zn(i){rt.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&rt.push(n)}}function tt(i){return setTimeout(i,0)}function xt(i){return clearTimeout(i)}st&&v(document,"touchmove",function(i){(p.active||Ee)&&i.cancelable&&i.preventDefault()});p.utils={on:v,off:m,css:g,find:tn,is:function(e,t){return!!V(e,t,e,!1)},extend:Cn,throttle:nn,closest:V,toggleClass:Y,clone:an,index:L,nextTick:tt,cancelNextTick:xt,detectDirection:sn,getChild:Oe,expando:R};p.get=function(i){return i[R]};p.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=Z(Z({},p.utils),n.utils)),We.mount(n)})};p.create=function(i,e){return new p(i,e)};p.version=_n;var D=[],Be,Et,St=!1,_t,wt,lt,ze;function Yn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):n.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):(m(document,"pointermove",this._handleFallbackAutoScroll),m(document,"touchmove",this._handleFallbackAutoScroll),m(document,"mousemove",this._handleFallbackAutoScroll)),Qt(),nt(),yn()},nulling:function(){lt=Et=Be=St=ze=_t=wt=null,D.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,a=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(a,r);if(lt=t,n||this.options.forceAutoScrollFallback||je||ie||Ye){Ct(t,this.options,l,n);var s=ce(l,!0);St&&(!ze||a!==_t||r!==wt)&&(ze&&Qt(),ze=setInterval(function(){var c=ce(document.elementFromPoint(a,r),!0);c!==s&&(s=c,nt()),Ct(t,o.options,c,n)},10),_t=a,wt=r)}else{if(!this.options.bubbleScroll||ce(l,!0)===Q()){nt();return}Ct(t,this.options,ce(l,!1),!1)}}},ne(i,{pluginName:"scroll",initializeByDefault:!0})}function nt(){D.forEach(function(i){clearInterval(i.pid)}),D=[]}function Qt(){clearInterval(ze)}var Ct=nn(function(i,e,t,n){if(e.scroll){var o=(i.touches?i.touches[0]:i).clientX,a=(i.touches?i.touches[0]:i).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,s=Q(),c=!1,f;Et!==t&&(Et=t,nt(),Be=e.scroll,f=e.scrollFn,Be===!0&&(Be=ce(t,!0)));var u=0,b=Be;do{var C=b,_=O(C),w=_.top,H=_.bottom,J=_.left,A=_.right,G=_.width,B=_.height,de=void 0,K=void 0,ue=C.scrollWidth,Ie=C.scrollHeight,z=g(C),Me=C.scrollLeft,oe=C.scrollTop;C===s?(de=G<ue&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),K=B<Ie&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(de=G<ue&&(z.overflowX==="auto"||z.overflowX==="scroll"),K=B<Ie&&(z.overflowY==="auto"||z.overflowY==="scroll"));var Pe=de&&(Math.abs(A-o)<=r&&Me+G<ue)-(Math.abs(J-o)<=r&&!!Me),ee=K&&(Math.abs(H-a)<=r&&oe+B<Ie)-(Math.abs(w-a)<=r&&!!oe);if(!D[u])for(var fe=0;fe<=u;fe++)D[fe]||(D[fe]={});(D[u].vx!=Pe||D[u].vy!=ee||D[u].el!==C)&&(D[u].el=C,D[u].vx=Pe,D[u].vy=ee,clearInterval(D[u].pid),(Pe!=0||ee!=0)&&(c=!0,D[u].pid=setInterval((function(){n&&this.layer===0&&p.active._onTouchMove(lt);var Te=D[this.layer].vy?D[this.layer].vy*l:0,ae=D[this.layer].vx?D[this.layer].vx*l:0;typeof f=="function"&&f.call(p.dragged.parentNode[R],ae,Te,i,lt,D[this.layer].el)!=="continue"||on(D[this.layer].el,ae,Te)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&b!==s&&(b=ce(b,!1)));St=c}},30),fn=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,a=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||a;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(f.clientX,f.clientY);s(),c&&!c.el.contains(u)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function It(){}It.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Oe(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:fn};ne(It,{pluginName:"revertOnSpill"});function Mt(){}Mt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:fn};ne(Mt,{pluginName:"removeOnSpill"});p.mount(new Yn);p.mount(Mt,It);var gn=p;var Xn=["mediaModal"],Ln=["imageList"],Hn=()=>[];function Gn(i,e){if(i&1&&k(0,"img",10),i&2){let t=S(2).$implicit;q("src",Ce(t==null?null:t.original_url),_e)}}function jn(i,e){if(i&1&&k(0,"img",10),i&2){let t=S(2).$implicit,n=S();q("src",n.getMimeTypeImage(t.mime_type),_e)}}function Wn(i,e){i&1&&(I(0,"div",11),k(1,"i",17),I(2,"span"),Ne(3),ke(4,"translate"),N()()),i&2&&(M(3),Fe(Ue(4,1,"cover")))}function $n(i,e){if(i&1){let t=we();I(0,"button",18),ke(1,"translate"),he("click",function(){ge(t);let o=S(2).$index,a=S();return pe(a.setCoverImage(o))}),k(2,"i",19),N()}if(i&2){let t=S(2).$index,n=S();dt("active",n.coverImageIndex()===t),q("title",Ce(Ue(1,4,"set_as_cover")))}}function Vn(i,e){i&1&&(I(0,"div",16),ke(1,"translate"),k(2,"i",20),N()),i&2&&q("title",Ce(Ue(1,2,"drag_to_reorder")))}function Kn(i,e){if(i&1){let t=we();I(0,"div",4),j(1,Gn,1,2,"img",10)(2,jn,1,1,"img",10),j(3,Wn,5,3,"div",11),I(4,"div",12),j(5,$n,3,6,"button",13),I(6,"button",14),ke(7,"translate"),he("click",function(){ge(t);let o=S().$index,a=S();return pe(a.remove(o,"multiple"))}),k(8,"i",15),N()(),j(9,Vn,3,4,"div",16),N(),I(10,"h6"),Ne(11),N()}if(i&2){let t=S(),n=t.$implicit,o=t.$index,a=S();M(),W(n&&n.mime_type&&n.mime_type.startsWith("image")?1:2),M(2),W(a.coverImageIndex()===o?3:-1),M(2),W(a.multipleImage()&&a.enableSorting()?5:-1),M(),q("title",Ce(Ue(7,7,"remove"))),M(3),W(a.multipleImage()&&a.enableSorting()&&a.showImages.length>1?9:-1),M(2),Fe(n==null?null:n.file_name)}}function qn(i,e){if(i&1&&(I(0,"li",9),j(1,Kn,12,9),N()),i&2){let t=e.$implicit,n=e.$index,o=S();dt("is-cover",o.coverImageIndex()===n),M(),W(t?1:-1)}}function Qn(i,e){if(i&1&&k(0,"img",10),i&2){let t=S(2);q("src",Ce(t.showImage.original_url),_e)}}function Zn(i,e){if(i&1&&k(0,"img",10),i&2){let t=S(2);q("src",t.getMimeTypeImage(t.showImage.mime_type),_e)}}function Jn(i,e){if(i&1){let t=we();I(0,"li")(1,"div",4),j(2,Qn,1,2,"img",10)(3,Zn,1,1,"img",10),I(4,"a",21),he("click",function(){ge(t);let o=S();return pe(o.remove(o.showImage.id,"single"))}),k(5,"i",22),N()(),I(6,"h6"),Ne(7),N()()}if(i&2){let t=S();M(2),W(t.showImage&&t.showImage.mime_type&&t.showImage.mime_type.startsWith("image")?2:3),M(5),Fe(t.showImage.file_name)}}function ei(i,e){i&1&&k(0,"img",23)}function ti(i,e){if(i&1&&k(0,"img",10),i&2){let t=S(2);q("src",t.StorageURL+t.showImageUrl,_e)}}function ni(i,e){if(i&1){let t=we();I(0,"li")(1,"div",4),j(2,ei,1,0,"img",23)(3,ti,1,1,"img",10),I(4,"a",21),he("click",function(){ge(t);let o=S();return pe(o.remove(1,"single_image_url"))}),k(5,"i",22),N()()()}if(i&2){let t=S();M(2),W(t.videoType.includes(t.showImageUrl.substring(t.showImageUrl.lastIndexOf(".")+1))?2:3)}}function ii(i,e){if(i&1&&(I(0,"p",7),Ne(1),N()),i&2){let t=S();M(),Fe(t.helpText())}}var mi=(()=>{let e=class e{constructor(){this.MediaModal=ft("mediaModal"),this.imageList=ft("imageList"),this.id=re(void 0),this.url=re(!1),this.multipleImage=re(!1),this.helpText=re(void 0),this.accept=re(void 0),this.enableSorting=re(!0),this.coverImageIndex=re(0),this.images=[],this.selectedFiles=ut(),this.coverImageChanged=ut(),this.showImages=[],this.videoType=["mp4","webm","ogg"],this.StorageURL=Xt.storageURL,this.sortable=null,this.mimeImageMapping=[{mimeType:"application/pdf",imagePath:"assets/images/pdf.png"},{mimeType:"application/msword",imagePath:"assets/images/word.png"},{mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",imagePath:"assets/images/word.png"},{mimeType:"application/vnd.ms-excel",imagePath:"assets/images/xls.png"},{mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",imagePath:"assets/images/xls.png"},{mimeType:"application/vnd.ms-powerpoint",imagePath:"assets/images/folder.png"},{mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation",imagePath:"assets/images/folder.png"},{mimeType:"text/plain",imagePath:"assets/images/txt.png"},{mimeType:"audio/mpeg",imagePath:"assets/images/sound.png"},{mimeType:"audio/wav",imagePath:"assets/images/sound.png"},{mimeType:"audio/ogg",imagePath:"assets/images/sound.png"},{mimeType:"video/mp4",imagePath:"assets/images/video.png"},{mimeType:"video/webm",imagePath:"assets/images/video.png"},{mimeType:"video/ogg",imagePath:"assets/images/video.png"},{mimeType:"application/zip",imagePath:"assets/images/zip.png"},{mimeType:"application/x-tar",imagePath:"assets/images/zip.png"},{mimeType:"application/gzip",imagePath:"assets/images/zip.png"}]}ngOnChanges(){this.showImage=this.image,this.showImages=this.images?[...this.images]:[],this.showImageUrl=this.imageUrl}ngAfterViewInit(){this.multipleImage()&&this.enableSorting()&&this.imageList()&&this.initSortable()}ngOnDestroy(){this.sortable&&this.sortable.destroy()}initSortable(){let n=this.imageList()?.nativeElement;n&&(this.sortable=new gn(n,{animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",filter:".choosefile-input",onEnd:o=>{o.oldIndex!==void 0&&o.newIndex!==void 0&&this.onImageReorder(o.oldIndex,o.newIndex)}}))}onImageReorder(n,o){let a=n-1,r=o-1;if(a>=0&&r>=0&&a<this.showImages.length&&r<this.showImages.length){let l=this.showImages.splice(a,1)[0];this.showImages.splice(r,0,l),this.images=[...this.showImages],this.selectedFiles.emit(this.images)}}setCoverImage(n){this.coverImageChanged.emit(n)}selectImage(n,o){if(Array.isArray(n)?(this.images=n,this.showImages=n):o?(this.imageUrl=n.original_url,this.showImageUrl=n.original_url):(this.image=n,this.showImage=n),this.imageUrl)this.selectedFiles.emit(n.asset_url);else{let a=this.images;this.selectedFiles.emit(a.length?a:this.image)}}remove(n,o){let a=this.images;o=="multiple"&&Array.isArray(a)?(a.splice(n,1),this.showImages=a):o=="single_image_url"?(this.imageUrl=null,this.showImageUrl=null,this.image=null):(this.image=null,this.showImage=null),this.selectedFiles.emit(a.length?a:this.image)}getMimeTypeImage(n){return this.mimeImageMapping.find(o=>o.mimeType==n)?.imagePath}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=At({type:e,selectors:[["app-image-upload"]],viewQuery:function(o,a){o&1&&(ct(a.MediaModal,Xn,5),ct(a.imageList,Ln,5)),o&2&&Ut(2)},inputs:{id:[1,"id"],url:[1,"url"],multipleImage:[1,"multipleImage"],helpText:[1,"helpText"],accept:[1,"accept"],enableSorting:[1,"enableSorting"],coverImageIndex:[1,"coverImageIndex"],images:"images",image:"image",imageUrl:"imageUrl"},outputs:{selectedFiles:"selectedFiles",coverImageChanged:"coverImageChanged"},features:[Tt],decls:12,vars:8,consts:[["imageList",""],["mediaModal",""],[1,"image-select-list","cursor-pointer"],[1,"choosefile-input",3,"click"],[1,"media-img-box"],["src","assets/images/add-image.png","alt","img",1,"img-fluid","add-icon"],[1,"sortable-item",3,"is-cover"],[1,"help-text"],[3,"selectImage","multipleImage","url","accept","selectedImagesIds"],[1,"sortable-item"],["alt","image",1,"img-fluid",3,"src"],[1,"cover-badge"],[1,"image-actions"],["type","button",1,"action-btn","set-cover-btn",3,"active","title"],["type","button",1,"action-btn","remove-btn",3,"click","title"],[1,"ri-close-line"],[1,"drag-handle",3,"title"],[1,"ri-star-fill"],["type","button",1,"action-btn","set-cover-btn",3,"click","title"],[1,"ri-star-line"],[1,"ri-drag-move-2-line"],["href","javascript:void(0)",1,"remove-icon",3,"click"],[1,"ri-close-line","text-white"],["src","assets/images/video.png","alt","image",1,"img-fluid"]],template:function(o,a){if(o&1){let r=we();I(0,"ul",2,0)(2,"li",3),he("click",function(){return ge(r),pe(a.MediaModal().openModal())}),I(3,"div",4),k(4,"img",5),N()(),Ft(5,qn,2,3,"li",6,Nt),j(7,Jn,8,2,"li"),j(8,ni,6,1,"li"),N(),j(9,ii,2,1,"p",7),I(10,"app-media-modal",8,1),he("selectImage",function(s){return ge(r),pe(a.selectImage(s,a.url()))}),N()}o&2&&(M(5),kt(a.showImages),M(2),W(a.showImage?7:-1),M(),W(a.showImageUrl?8:-1),M(),W(a.helpText()?9:-1),M(),q("multipleImage",a.multipleImage())("url",a.url())("accept",a.accept())("selectedImagesIds",a.showImage?a.showImage:a.showImages!=null&&a.showImages.length?a.showImages:a.showImageUrl?a.showImageUrl:Rt(7,Hn)))},dependencies:[Lt,Bt,Yt,zt],styles:['.image-select-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin:0;padding:0;list-style:none}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:8px;overflow:hidden;border:2px solid #e9ecef;transition:all .3s ease}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border-color:#007bff;transform:translateY(-2px);box-shadow:0 4px 12px #007bff26}.image-select-list[_ngcontent-%COMP%]   li.choosefile-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f8f9fa;cursor:pointer;border:2px dashed #dee2e6}.image-select-list[_ngcontent-%COMP%]   li.choosefile-input[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#e7f3ff}.image-select-list[_ngcontent-%COMP%]   li.choosefile-input[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.image-select-list[_ngcontent-%COMP%]   li.choosefile-input[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{width:40px;height:40px;opacity:.6}.image-select-list[_ngcontent-%COMP%]   li.sortable-item[_ngcontent-%COMP%]{cursor:move}.image-select-list[_ngcontent-%COMP%]   li.sortable-item.is-cover[_ngcontent-%COMP%]{border-color:#ffc107;box-shadow:0 0 0 2px #ffc10740}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .cover-badge[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;background:linear-gradient(135deg,#ffc107,#ff8c00);color:#fff;padding:2px 6px;border-radius:12px;font-size:10px;font-weight:600;display:flex;align-items:center;gap:2px;z-index:3}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .cover-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8px}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;display:flex;gap:4px;opacity:0;transition:all .3s ease;z-index:2}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:24px;height:24px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px;cursor:pointer;transition:all .3s ease}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]   .action-btn.set-cover-btn[_ngcontent-%COMP%]{background:#ffc107e6}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]   .action-btn.set-cover-btn[_ngcontent-%COMP%]:hover{background:#ffc107;transform:scale(1.1)}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]   .action-btn.set-cover-btn.active[_ngcontent-%COMP%]{background:#ffc107}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]   .action-btn.set-cover-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"\\ea7a"}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%]{background:#dc3545e6}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%]:hover{background:#dc3545;transform:scale(1.1)}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;width:20px;height:20px;background:#000000b3;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;cursor:move;opacity:0;transition:all .3s ease;z-index:2}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:hover{background:#000000e6}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]:hover   .image-actions[_ngcontent-%COMP%], .image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media-img-box[_ngcontent-%COMP%]:hover   .drag-handle[_ngcontent-%COMP%]{opacity:1}.image-select-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;margin:0;padding:8px;background:linear-gradient(transparent,#000000b3);color:#fff;font-size:11px;font-weight:500;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sortable-ghost[_ngcontent-%COMP%]{opacity:.5;background:#f8f9fa;border:2px dashed #007bff!important}.sortable-chosen[_ngcontent-%COMP%]{transform:rotate(5deg);z-index:1000}.sortable-drag[_ngcontent-%COMP%]{opacity:.8;transform:rotate(5deg);box-shadow:0 8px 25px #0000004d}']});let i=e;return i})();export{mi as a};
