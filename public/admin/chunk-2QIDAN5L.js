import{a as g}from"./chunk-T5ULGFUG.js";import{a as x}from"./chunk-GG7AHMIJ.js";import{sa as i,ta as v,ua as d}from"./chunk-IKKQDHIF.js";import{g as S}from"./chunk-OTODDIHK.js";import{d as O}from"./chunk-EY6JDCC6.js";import{$ as h,ea as m,ja as n,l as o}from"./chunk-KIZZVTEV.js";import{a as p,b as u}from"./chunk-4CLCTAJ7.js";var w=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Order] Get";let e=t;return e})(),U=(()=>{let t=class t{constructor(r){this.id=r}};t.type="[Order] User";let e=t;return e})(),k=(()=>{let t=class t{constructor(r){this.id=r}};t.type="[Order] View";let e=t;return e})(),I=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Order] Checkout";let e=t;return e})(),j=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Order] Place";let e=t;return e})(),b=(()=>{let t=class t{constructor(r,l){this.id=r,this.payload=l}};t.type="[Order] Update Status";let e=t;return e})(),C=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Order] Invoice";let e=t;return e})(),E=(()=>{let t=class t{constructor(){}};t.type="[Order] Clear";let e=t;return e})();var F=(()=>{let t=class t{constructor(){this.http=n(O)}getOrders(r){return this.http.get(`${x.URL}/order.json`,{params:r})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var a,s=(a=class{constructor(){this.router=n(S),this.orderService=n(F),this.userService=n(g)}static order(t){return t.order}static selectedUser(t){return t.selectedUser}static selectedOrder(t){return t.selectedOrder}static checkout(t){return t.checkout}getOrders(t,c){return this.orderService.getOrders(c?.payload).pipe(h({next:r=>{t.patchState({order:{data:r.data,total:r?.total?r?.total:r.data?.length}})},error:r=>{throw new Error(r?.error?.message)}}))}selectUser(t,{id:c}){return this.userService.getUsers().pipe(h({next:r=>{let l=t.getState(),y=r.data.find(f=>f.id==c);t.patchState(u(p({},l),{selectedUser:y,checkout:null}))},error:r=>{throw new Error(r?.error?.message)}}))}viewOrder(t,{id:c}){return this.orderService.getOrders().pipe(h({next:r=>{let l=t.getState(),y=r.data.find(f=>Number(f.order_number)==c);t.patchState(u(p({},l),{selectedOrder:y}))},error:r=>{throw new Error(r?.error?.message)}}))}checkout(t,c){}placeOrder(t,c){}updateOrderStatus(t,{id:c,payload:r}){}downloadInvoice(t,c){}clear(t){let c=t.getState();t.patchState(u(p({},c),{selectedUser:null,checkout:null}))}},a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=m({token:a,factory:a.\u0275fac}),a);o([i(w)],s.prototype,"getOrders",null);o([i(U)],s.prototype,"selectUser",null);o([i(k)],s.prototype,"viewOrder",null);o([i(I)],s.prototype,"checkout",null);o([i(j)],s.prototype,"placeOrder",null);o([i(b)],s.prototype,"updateOrderStatus",null);o([i(C)],s.prototype,"downloadInvoice",null);o([i(E)],s.prototype,"clear",null);o([d()],s,"order",null);o([d()],s,"selectedUser",null);o([d()],s,"selectedOrder",null);o([d()],s,"checkout",null);s=o([v({name:"order",defaults:{order:{data:[],total:0},selectedOrder:null,selectedUser:null,checkout:null}})],s);export{w as a,U as b,k as c,I as d,j as e,b as f,C as g,E as h,s as i};
