import{a as z}from"./chunk-Z567FFSJ.js";import{a as W}from"./chunk-EGIXQ7ZE.js";import{a as N,e as q,f as G,g as H,i as O}from"./chunk-VPYJY44D.js";import{a as R}from"./chunk-GJUMWKSA.js";import{a as U}from"./chunk-3ARB4UI6.js";import{a as Q}from"./chunk-MPC4A6Z2.js";import{qa as x}from"./chunk-IKKQDHIF.js";import{g as F,h as I,l as $}from"./chunk-OTODDIHK.js";import{c as j,d as L}from"./chunk-AWERIOQH.js";import{Gc as D,Ib as M,Kb as A,Lc as v,Mc as C,Pb as d,Qb as p,Rb as m,Sb as g,Yc as E,Zc as B,_b as f,bb as a,bc as _,dc as h,ja as u,kc as S,lc as P,ob as V,qa as l,ra as s,rc as T,tc as b,ub as k}from"./chunk-KIZZVTEV.js";var J=["csvModal"],K=t=>[t];function X(t,o){if(t&1){let r=f();p(0,"a",6),_("click",function(){l(r);let i=h(2);return s(i.export())}),g(1,"i",11),T(2),v(3,"translate"),m()}t&2&&(a(2),b(" ",C(3,1,"export")," "))}function Y(t,o){if(t&1){let r=f();p(0,"div",5)(1,"a",6),_("click",function(){l(r);let i=h();return s(i.CSVModal().openModal())}),g(2,"i",7),T(3),v(4,"translate"),m(),M(5,X,4,3,"a",8),p(6,"a",9),g(7,"i",10),T(8),v(9,"translate"),m()()}if(t&2){let r=h();a(3),b(" ",C(4,4,"import")," "),a(2),A(r.tagType()==="product"?5:-1),a(),d("routerLink",D(8,K,r.tagType()==="post"?"/blog/tag/create":"/tag/create")),a(2),b(" ",C(9,6,"add_tag")," ")}}var ge=(()=>{let o=class o{constructor(){this.store=u(x),this.router=u(F),this.tag$=u(x).select(z.tag),this.tagType=E("product"),this.CSVModal=B("csvModal"),this.tableConfig={columns:[{title:"name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"tag.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"tag.destroy"}],data:[],total:0}}ngOnInit(){this.tag$.subscribe(e=>{this.tableConfig.data=e?e?.data:[],this.tableConfig.total=e?e?.total:0})}onTableChange(e){e.type=this.tagType(),this.store.dispatch(new N(e))}onActionClicked(e){e.actionToPerform=="edit"?this.edit(e.data):e.actionToPerform=="status"?this.status(e.data):e.actionToPerform=="delete"?this.delete(e.data):e.actionToPerform=="deleteAll"&&this.deleteAll(e.data)}edit(e){this.tagType()=="post"?this.router.navigateByUrl(`/blog/tag/edit/${e.id}`):this.router.navigateByUrl(`/tag/edit/${e.id}`)}status(e){this.store.dispatch(new q(e.id,e.status))}delete(e){this.store.dispatch(new G(e.id))}deleteAll(e){this.store.dispatch(new H(e))}export(){this.store.dispatch(new O)}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=V({type:o,selectors:[["app-tag"]],viewQuery:function(i,n){i&1&&S(n.CSVModal,J,5),i&2&&P()},inputs:{tagType:[1,"tagType"]},decls:5,vars:6,consts:[["csvModal",""],[3,"gridClass","title"],["class","d-flex flex-wrap gap-2","button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],[3,"module"],["button","",1,"d-flex","flex-wrap","gap-2"],["href","javascript:void(0)",1,"align-items-center","btn","btn-light-bg","me-2",3,"click"],[1,"ri-upload-2-line"],["href","javascript:void(0)",1,"align-items-center","btn","btn-light-bg","me-2"],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"],[1,"ri-download-2-line"]],template:function(i,n){if(i&1){let w=f();p(0,"app-page-wrapper",1),k(1,Y,10,10,"div",2),p(2,"app-table",3),_("tableChanged",function(c){return l(w),s(n.onTableChange(c))})("rowClicked",function(c){return l(w),s(n.edit(c))})("action",function(c){return l(w),s(n.onActionClicked(c))}),m()(),g(3,"app-import-csv-modal",4,0)}i&2&&(d("gridClass","col-sm-12")("title","tags"),a(),d("hasPermission","tag.create"),a(),d("tableConfig",n.tableConfig)("hasCheckbox",!0),a(),d("module","tag"))},dependencies:[L,$,I,U,Q,R,W,j],encapsulation:2});let t=o;return t})();export{ge as a};
