import{a as g,b as C}from"./chunk-5NHYDWWW.js";import{a as b}from"./chunk-GJUMWKSA.js";import"./chunk-6TS3CAIM.js";import"./chunk-2MGWSW7E.js";import"./chunk-YJGMUJNE.js";import"./chunk-HD5XXWEJ.js";import"./chunk-HJPVTB2W.js";import"./chunk-MLWMDQKS.js";import{a as h}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import"./chunk-5DTRVH74.js";import"./chunk-GG7AHMIJ.js";import{qa as n}from"./chunk-IKKQDHIF.js";import{g as f}from"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import"./chunk-AWERIOQH.js";import{Pb as r,Qb as d,Rb as p,bb as l,bc as c,ja as o,ob as m}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var k=(()=>{let i=class i{constructor(){this.store=o(n),this.router=o(f),this.commission$=o(n).select(C.commission),this.tableConfig={columns:[{title:"order_id",dataField:"order_id"},{title:"store_name",dataField:"store_name"},{title:"admin_commission",dataField:"admin_commission",type:"price"},{title:"vendor_commission",dataField:"vendor_commission",type:"price"},{title:"created_at",dataField:"created_at",type:"date"}],data:[],total:0}}ngOnInit(){this.commission$.subscribe(t=>{let a=t?.data?.filter(e=>(e.store_name=`<span class="text-capitalize">${e.store.store_name}</span>`,e.order_id=`<span class="fw-bolder">#${e.order.order_number}</span>`,e));this.tableConfig.data=t?a:[],this.tableConfig.total=t?t?.total:0})}onTableChange(t){this.store.dispatch(new g(t))}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=m({type:i,selectors:[["app-commission"]],decls:2,vars:5,consts:[[3,"gridClass","title"],[3,"tableChanged","tableConfig","hasCheckbox","dateRange"]],template:function(a,e){a&1&&(d(0,"app-page-wrapper",0)(1,"app-table",1),c("tableChanged",function(_){return e.onTableChange(_)}),p()()),a&2&&(r("gridClass","col-sm-12")("title","commission_history"),l(),r("tableConfig",e.tableConfig)("hasCheckbox",!1)("dateRange",!0))},dependencies:[h,b],encapsulation:2});let s=i;return s})();export{k as Commission};
