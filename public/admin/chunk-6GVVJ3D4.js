import{a as f}from"./chunk-GG7AHMIJ.js";import{Ia as x,qa as R,sa as i,ta as g,ua as p}from"./chunk-IKKQDHIF.js";import{d as y}from"./chunk-EY6JDCC6.js";import{$ as d,ea as u,ja as c,l}from"./chunk-KIZZVTEV.js";import{a as h,b as m}from"./chunk-4CLCTAJ7.js";var S=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Role] Get";let e=t;return e})(),v=(()=>{let t=class t{constructor(){}};t.type="[Role] Module Get";let e=t;return e})(),j=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Role] Create";let e=t;return e})(),w=(()=>{let t=class t{constructor(r){this.id=r}};t.type="[Role] Edit";let e=t;return e})(),b=(()=>{let t=class t{constructor(r,n){this.payload=r,this.id=n}};t.type="[Role] Update";let e=t;return e})(),M=(()=>{let t=class t{constructor(r){this.id=r}};t.type="[Role] Delete";let e=t;return e})(),I=(()=>{let t=class t{constructor(r){this.ids=r}};t.type="[Role] Delete All";let e=t;return e})();var A=(()=>{let t=class t{constructor(){this.http=c(y)}getRoleModules(){return this.http.get(`${f.URL}/module.json`)}getRoles(r){return this.http.get(`${f.URL}/role.json`,{params:r})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var a,s=(a=class{constructor(){this.store=c(R),this.notificationService=c(x),this.roleService=c(A)}static role(t){return t.role}static roles(t){return t.role.data.map(o=>({label:o?.name,value:o?.id})).filter(o=>o.label!=="admin"&&o.label!=="vendor")}static selectedRole(t){return t.selectedRole}static roleModules(t){return t.modules}getRoles(t,o){return this.roleService.getRoles(o?.payload).pipe(d({next:r=>{t.patchState({role:{data:r.data,total:r?.total?r?.total:r.data.length}})},error:r=>{throw new Error(r?.error?.message)}}))}getRoleModules(t){return this.roleService.getRoleModules().pipe(d({next:o=>{let r=t.getState();t.patchState(m(h({},r),{modules:o}))},error:o=>{throw new Error(o?.error?.message)}}))}create(t,o){}edit(t,{id:o}){return this.roleService.getRoles().pipe(d({next:r=>{let n=t.getState(),E=r.data.find(U=>U.id==o);t.patchState(m(h({},n),{selectedRole:E}))},error:r=>{throw new Error(r?.error?.message)}}))}update(t,{payload:o,id:r}){}delete(t,{id:o}){}deleteAll(t,{ids:o}){}},a.\u0275fac=function(o){return new(o||a)},a.\u0275prov=u({token:a,factory:a.\u0275fac}),a);l([i(S)],s.prototype,"getRoles",null);l([i(v)],s.prototype,"getRoleModules",null);l([i(j)],s.prototype,"create",null);l([i(w)],s.prototype,"edit",null);l([i(b)],s.prototype,"update",null);l([i(M)],s.prototype,"delete",null);l([i(I)],s.prototype,"deleteAll",null);l([p()],s,"role",null);l([p()],s,"roles",null);l([p()],s,"selectedRole",null);l([p()],s,"roleModules",null);s=l([g({name:"role",defaults:{role:{data:[],total:0},selectedRole:null,modules:[]}})],s);export{S as a,v as b,j as c,w as d,b as e,M as f,I as g,s as h};
