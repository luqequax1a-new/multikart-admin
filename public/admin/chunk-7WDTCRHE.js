import{a as h}from"./chunk-GG7AHMIJ.js";import{Ia as d,sa as l,ta as f,ua as u}from"./chunk-IKKQDHIF.js";import{d as m}from"./chunk-EY6JDCC6.js";import{$ as p,ea as s,ja as c,l as o}from"./chunk-KIZZVTEV.js";var w=(()=>{let t=class t{constructor(a){this.payload=a}};t.type="[Wallet] Transaction Get";let r=t;return r})(),y=(()=>{let t=class t{constructor(a){this.payload=a}};t.type="[Wallet] Credit";let r=t;return r})(),b=(()=>{let t=class t{constructor(a){this.payload=a}};t.type="[Wallet] Debit";let r=t;return r})();var v=(()=>{let t=class t{constructor(){this.http=c(m)}getUserTransaction(a){return this.http.get(`${h.URL}/wallet.json`,{params:a})}};t.\u0275fac=function(x){return new(x||t)},t.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var e,n=(e=class{constructor(){this.notificationService=c(d),this.walletService=c(v)}static wallet(t){return t.wallet}getUserTransations(t,{payload:i}){return this.walletService.getUserTransaction(i).pipe(p({next:a=>{t.patchState({wallet:{consumer_id:a?.consumer_id,balance:a?.balance,transactions:{data:a?.transactions?.data,total:a?.transactions?.total?a?.transactions?.total:a?.transactions?.data?.length}}})},error:a=>{throw t.patchState({wallet:{consumer_id:null,balance:0,transactions:{data:[],total:0}}}),new Error(a?.error?.message)}}))}credit(t,i){}debit(t,i){}},e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac}),e);o([l(w)],n.prototype,"getUserTransations",null);o([l(y)],n.prototype,"credit",null);o([l(b)],n.prototype,"debit",null);o([u()],n,"wallet",null);n=o([f({name:"wallet",defaults:{wallet:{consumer_id:null,balance:0,transactions:{data:[],total:0}}}})],n);export{w as a,y as b,b as c,n as d};
