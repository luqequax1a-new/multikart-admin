import{a as S}from"./chunk-GG7AHMIJ.js";import{Ia as T,qa as f,sa as c,ta as y,ua as d}from"./chunk-IKKQDHIF.js";import{d as m}from"./chunk-EY6JDCC6.js";import{$ as u,ea as p,ja as n,l as o}from"./chunk-KIZZVTEV.js";import{a as x,b as h}from"./chunk-4CLCTAJ7.js";var g=(()=>{let t=class t{constructor(a){this.payload=a}};t.type="[Tax] Get";let e=t;return e})(),v=(()=>{let t=class t{constructor(a){this.payload=a}};t.type="[Tax] Create";let e=t;return e})(),j=(()=>{let t=class t{constructor(a){this.id=a}};t.type="[Tax] Edit";let e=t;return e})(),w=(()=>{let t=class t{constructor(a,l){this.payload=a,this.id=l}};t.type="[Tax] Update";let e=t;return e})(),b=(()=>{let t=class t{constructor(a,l){this.id=a,this.status=l}};t.type="[Tax] Update Status";let e=t;return e})(),I=(()=>{let t=class t{constructor(a){this.id=a}};t.type="[Tax] Delete";let e=t;return e})(),A=(()=>{let t=class t{constructor(a){this.ids=a}};t.type="[Tax] Delete All";let e=t;return e})();var E=(()=>{let t=class t{constructor(){this.http=n(m)}getTaxes(a){return this.http.get(`${S.URL}/tax.json`,{params:a})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var i,s=(i=class{constructor(){this.store=n(f),this.notificationService=n(T),this.taxService=n(E)}static tax(t){return t.tax}static taxes(t){return t.tax.data.map(r=>({label:r?.name,value:r?.id}))}static selectedTax(t){return t.selectedTax}getTaxes(t,r){return this.taxService.getTaxes(r.payload).pipe(u({next:a=>{t.patchState({tax:{data:a.data,total:a?.total?a?.total:a.data?.length}})},error:a=>{throw new Error(a?.error?.message)}}))}create(t,r){}edit(t,{id:r}){return this.taxService.getTaxes().pipe(u({next:a=>{let l=t.getState(),U=a.data.find(k=>k.id==r);t.patchState(h(x({},l),{selectedTax:U}))},error:a=>{throw new Error(a?.error?.message)}}))}update(t,{payload:r,id:a}){}updateStatus(t,{id:r,status:a}){}delete(t,{id:r}){}deleteAll(t,{ids:r}){}},i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=p({token:i,factory:i.\u0275fac}),i);o([c(g)],s.prototype,"getTaxes",null);o([c(v)],s.prototype,"create",null);o([c(j)],s.prototype,"edit",null);o([c(w)],s.prototype,"update",null);o([c(b)],s.prototype,"updateStatus",null);o([c(I)],s.prototype,"delete",null);o([c(A)],s.prototype,"deleteAll",null);o([d()],s,"tax",null);o([d()],s,"taxes",null);o([d()],s,"selectedTax",null);s=o([y({name:"tax",defaults:{tax:{data:[],total:0},selectedTax:null}})],s);export{g as a,v as b,j as c,w as d,b as e,I as f,A as g,s as h};
