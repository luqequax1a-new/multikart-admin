import{a as L}from"./chunk-5UYNAAI2.js";import{c as U}from"./chunk-IF3O4EA4.js";import{d as $}from"./chunk-YJGMUJNE.js";import{a as j}from"./chunk-MLWMDQKS.js";import{B as k,C as D,D as G,d as C,e as h,g as F,h as M,k as A,m as N,q as E,qa as v,t as T,z as V}from"./chunk-IKKQDHIF.js";import{g as B}from"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as I,d as P}from"./chunk-AWERIOQH.js";import{Lc as l,Mc as m,Pb as u,Qb as t,Rb as n,Sb as d,Za as _,bb as e,bc as y,ja as r,ob as S,qc as b,rc as a,sc as x,tc as c,td as w}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var it=(()=>{let i=class i{constructor(){this.router=r(B),this.store=r(v),this.formBuilder=r(k),this.setting$=r(v).select($.setting),this.email=this.store.selectSnapshot(g=>g.auth.email),this.email||this.router.navigateByUrl("/auth/login"),this.form=this.formBuilder.group({otp:new A("",[h.required,h.minLength(5)])})}submit(){this.form.markAllAsTouched(),this.form.valid&&this.store.dispatch(new U({email:this.email,token:this.form.value.otp})).subscribe({complete:()=>{this.router.navigateByUrl("/auth/update-password")}})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=S({type:i,selectors:[["app-otp"]],decls:25,vars:17,consts:[[1,"log-in-section","section-b-space"],[1,"container","w-100"],[1,"row"],[1,"col-xl-5","col-lg-6","m-auto"],[3,"ngSubmit","formGroup"],[1,"log-in-box"],[1,"log-in-title"],["alt","",1,"img-fluid","logo-img",3,"src"],[1,"text-content"],["id","otp",1,"row","d-flex","row-cols-6","g-2","mb-5","m-auto"],[1,"outer-otp"],[1,"inner-otp"],["type","text","formControlName","otp","maxlength","5","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","onKeyPress","if(this.value.length==5) return false;"],[3,"id"]],template:function(s,p){if(s&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-alert"),t(5,"form",4),y("ngSubmit",function(){return p.submit()}),t(6,"div",5)(7,"div",6),d(8,"img",7),l(9,"async"),t(10,"h3",8),a(11),l(12,"translate"),n(),t(13,"h5",8),a(14),l(15,"translate"),t(16,"span"),a(17),n()()(),t(18,"div",9)(19,"div",10)(20,"div",11),d(21,"input",12),n()()(),t(22,"app-button",13),a(23),l(24,"translate"),n()()()()()()()),s&2){let o;e(5),u("formGroup",p.form),e(3),u("src",(o=m(9,9,p.setting$))==null||o.general==null||o.general.dark_logo_image==null?null:o.general.dark_logo_image.original_url,_),e(3),c(" ",m(12,11,"please_enter_the_one_time_password_to_verify_your_account")," "),e(3),c(" ",m(15,13,"a_code_has_been_sent_to")," "),e(3),x(p.email),e(5),b("btn btn-theme w-100 justify-content-center"),u("id","otp_btn"),e(),c(" ",m(24,15,"validate")," ")}},dependencies:[P,D,N,C,F,M,V,G,E,T,L,j,I,w],encapsulation:2});let f=i;return f})();export{it as Otp};
