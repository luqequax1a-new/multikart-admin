import{f}from"./chunk-5DTRVH74.js";import{qa as p}from"./chunk-IKKQDHIF.js";import{Ca as n,Yc as h,db as a,ja as t,jb as o,qb as m}from"./chunk-KIZZVTEV.js";var C=(()=>{let i=class i{constructor(){this.templateRef=t(a),this.viewContainerRef=t(o),this.permission=h(void 0,{alias:"hasPermission"}),this.permissions$=t(p).select(f.permissions),this.permissions=[],this.isViewCreated=!1}ngOnInit(){this.permissions$.subscribe(e=>{this.permissions=e?.map(s=>s?.name),this.checkPermissions()})}checkPermissions(){let e=this.permission();!Array.isArray(e)&&this.permissions?.includes(e)||!e?this.isViewCreated||(this.viewContainerRef.createEmbeddedView(this.templateRef),this.isViewCreated=!0):Array.isArray(e)&&e?.length&&e.every(s=>this.permissions?.includes(s))?this.isViewCreated||(this.viewContainerRef.createEmbeddedView(this.templateRef),this.isViewCreated=!0):this.isViewCreated&&(this.viewContainerRef.clear(),this.isViewCreated=!1)}ngOnChanges(e){e.permission&&!e.permission.firstChange&&this.checkPermissions()}};i.\u0275fac=function(s){return new(s||i)},i.\u0275dir=m({type:i,selectors:[["","hasPermission",""]],inputs:{permission:[1,"hasPermission","permission"]},features:[n]});let r=i;return r})();export{C as a};
