import{a as Xe}from"./chunk-EOJ72O7D.js";import{a as Je}from"./chunk-RSBT43UQ.js";import{c as qe,d as Qe,e as j}from"./chunk-L64HS5AO.js";import{a as ze,i as Ke}from"./chunk-FDG3HQPX.js";import{b as je}from"./chunk-I4EG6FBQ.js";import{b as Oe}from"./chunk-SPPECMGV.js";import{a as Re}from"./chunk-DRWHSBYU.js";import{a as We}from"./chunk-LCVX2N4P.js";import"./chunk-M3HD75V3.js";import{a as Le}from"./chunk-Y2Z4WWCH.js";import"./chunk-QVI36XHK.js";import{l as $e,m as Ge}from"./chunk-HMBOAMDM.js";import{a as He}from"./chunk-7RQBIUSJ.js";import{a as T}from"./chunk-VO736VT2.js";import"./chunk-DNDGKAFO.js";import{a as Ue}from"./chunk-3ARB4UI6.js";import"./chunk-HD5XXWEJ.js";import"./chunk-HJPVTB2W.js";import{a as Me}from"./chunk-MLWMDQKS.js";import{a as De}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import"./chunk-5DTRVH74.js";import"./chunk-GG7AHMIJ.js";import{$ as Fe,A as ue,B as fe,C as ge,D as be,E as ve,F as ye,G as he,H as xe,I as we,J as Ce,X as ke,Y as Ee,Z as Be,_ as Ne,aa as Se,ba as Ie,c as ae,d as oe,fa as Ae,g as le,h as ce,i as v,k as p,m as pe,q as se,qa as F,r as de,s as _e,t as me}from"./chunk-IKKQDHIF.js";import"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as Ve,d as Te}from"./chunk-AWERIOQH.js";import{Ac as O,Ad as ie,Bc as A,Ed as re,Fc as B,Gc as V,Ib as G,J as R,Ja as K,Kb as D,Lc as s,Mb as Q,Mc as d,Nb as X,Ob as Y,Pb as o,Qb as c,Rb as r,Sb as f,Wb as Z,Xb as P,_b as C,bb as i,bc as y,dc as _,g as L,gb as J,ja as x,mc as M,ob as q,qa as g,qc as ee,ra as b,rc as h,sc as I,tc as N,td as ne,ub as w,uc as te,va as z,x as W,yc as U,zc as H}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var $=a=>[a],S=()=>[];function Ze(a,u){if(a&1){let n=C();c(0,"app-form-fields",32)(1,"app-image-upload",33),y("selectedFiles",function(t){g(n);let l=_().$index,m=_(3);return b(m.selectHomeBannerArray(t,l))}),r()(),c(2,"app-link",34),s(3,"async"),s(4,"async"),y("productFilter",function(t){g(n);let l=_(4);return b(l.getProducts(t))}),r(),c(5,"app-form-fields",32)(6,"div",35)(7,"label",36),f(8,"input",37)(9,"span",38),r()()()}if(a&2){let n,e,t=_(),l=t.$implicit,m=t.$index,k=_(3);o("label","image")("for","image_url"),i(),o("url",!0)("multipleImage",!1)("accept",V(15,$,k.mediaConfig.image))("helpText","*Upload image size 376x231px recommended")("imageUrl",(n=k.form.get("content.home_banner.banners"))==null?null:n.value[m].image_url),i(),o("products",(e=d(3,11,k.product$))!=null&&e.length?d(4,13,k.product$):B(17,S))("linkForm",l.get("redirect_link")),i(3),o("label","status")("for","status"+m)}}function Pe(a,u){if(a&1){let n=C();c(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25)(5,"button",26),h(6),s(7,"translate"),r()(),c(8,"div",27)(9,"div",28),w(10,Ze,10,18,"ng-template"),r()()()()(),c(11,"div",29)(12,"a",30),y("click",function(){let t=g(n).$index,l=_(3);return b(l.removeHomeBanner(t))}),f(13,"i",31),r()()()}if(a&2){let n=u.$index;o("formGroupName",A(n)),i(3),o("collapsed",!1),i(3),te(" ",d(7,5,"banner")," ",n+1," ")}}function et(a,u){if(a&1&&(c(0,"div",19)(1,"div",20),Z(2),X(3,Pe,14,7,"div",21,Q),P(),r()()),a&2){let n=_(2);i(3),Y(n.homeBannersArray.controls)}}function tt(a,u){if(a&1){let n=C();c(0,"div",17)(1,"app-button",18),y("click",function(t){g(n);let l=_();return b(l.addHomeBanner(t))}),h(2),s(3,"translate"),r(),G(4,et,5,0,"div",19),r()}if(a&2){let n=_();i(),ee("btn btn-animation mb-3"),o("id","add_banners_btn")("spinner",!1),i(),N(" ",d(3,6,"add_banners")," "),i(2),D(!(n.homeBannersArray==null||n.homeBannersArray.controls==null)&&n.homeBannersArray.controls.length?4:-1)}}function nt(a,u){if(a&1){let n=C();c(0,"div",44)(1,"app-form-fields",32)(2,"app-image-upload",33),y("selectedFiles",function(t){g(n);let l=_(2);return b(l.selectImage(t,"content.offer_banner.banner_1.image_url"))}),r()(),c(3,"app-link",34),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=_(2);return b(l.getProducts(t))}),r(),c(6,"app-form-fields",32)(7,"div",35)(8,"label",36),f(9,"input",37)(10,"span",38),r()()()()}if(a&2){let n,e,t=_(2);i(),o("label","image")("for","image_url"),i(),o("url",!0)("multipleImage",!1)("accept",V(15,$,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.offer_banner.banner_1.image_url"))==null?null:n.value),i(),o("products",(e=d(4,11,t.product$))!=null&&e.length?d(5,13,t.product$):B(17,S))("linkForm",t.form.get("content.offer_banner.banner_1.redirect_link")),i(3),o("label","status")("for","status")}}function it(a,u){if(a&1){let n=C();c(0,"div",45)(1,"app-form-fields",32)(2,"app-image-upload",33),y("selectedFiles",function(t){g(n);let l=_(2);return b(l.selectImage(t,"content.offer_banner.banner_2.image_url"))}),r()(),c(3,"app-link",34),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=_(2);return b(l.getProducts(t))}),r(),c(6,"app-form-fields",32)(7,"div",35)(8,"label",36),f(9,"input",37)(10,"span",38),r()()()()}if(a&2){let n,e,t=_(2);i(),o("label","image")("for","image_url"),i(),o("url",!0)("multipleImage",!1)("accept",V(15,$,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.offer_banner.banner_2.image_url"))==null?null:n.value),i(),o("products",(e=d(4,11,t.product$))!=null&&e.length?d(5,13,t.product$):B(17,S))("linkForm",t.form.get("content.offer_banner.banner_2.redirect_link")),i(3),o("label","status")("for","status")}}function rt(a,u){if(a&1){let n=C();c(0,"div",46)(1,"app-form-fields",32)(2,"app-image-upload",33),y("selectedFiles",function(t){g(n);let l=_(2);return b(l.selectImage(t,"content.offer_banner.banner_3.image_url"))}),r()(),c(3,"app-link",34),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=_(2);return b(l.getProducts(t))}),r(),c(6,"app-form-fields",32)(7,"div",35)(8,"label",36),f(9,"input",37)(10,"span",38),r()()()()}if(a&2){let n,e,t=_(2);i(),o("label","image")("for","image_url"),i(),o("url",!0)("multipleImage",!1)("accept",V(15,$,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.offer_banner.banner_3.image_url"))==null?null:n.value),i(),o("products",(e=d(4,11,t.product$))!=null&&e.length?d(5,13,t.product$):B(17,S))("linkForm",t.form.get("content.offer_banner.banner_3.redirect_link")),i(3),o("label","status")("for","status")}}function at(a,u){if(a&1){let n=C();c(0,"div",39)(1,"div",40)(2,"ul",41,0),O("activeIdChange",function(t){g(n);let l=_();return H(l.banner,t)||(l.banner=t),b(t)}),c(4,"li",42)(5,"a",8),h(6),s(7,"translate"),r(),w(8,nt,11,18,"ng-template",10),r(),c(9,"li",42)(10,"a",8),h(11),s(12,"translate"),r(),w(13,it,11,18,"ng-template",10),r(),c(14,"li",42)(15,"a",8),h(16),s(17,"translate"),r(),w(18,rt,11,18,"ng-template",10),r()(),f(19,"div",43),r()()}if(a&2){let n=M(3),e=_();i(2),U("activeId",e.banner),i(2),o("ngbNavItem",1),i(2),N("",d(7,8,"banner")," 1"),i(3),o("ngbNavItem",2),i(2),N("",d(12,10,"banner")," 2"),i(3),o("ngbNavItem",3),i(2),N("",d(17,12,"banner")," 3"),i(3),o("ngbNavOutlet",n)}}function ot(a,u){if(a&1){let n=C();c(0,"div",47)(1,"app-form-fields",32),f(2,"input",48),s(3,"translate"),r(),c(4,"app-form-fields",32),f(5,"input",49),s(6,"translate"),r(),c(7,"app-form-fields",32)(8,"app-advance-dropdown",50),s(9,"async"),s(10,"async"),y("selectedItem",function(t){g(n);let l=_();return b(l.selectCategoryItem(t,"content.category_product.category_ids"))}),r()(),c(11,"app-form-fields",32)(12,"div",35)(13,"label",36),f(14,"input",37)(15,"span",38),r()()()()}if(a&2){let n,e=_();i(),o("label","tag")("for","tag"),i(),o("placeholder",A(d(3,16,"enter_tag"))),i(2),o("label","title")("for","title"),i(),o("placeholder",A(d(6,18,"enter_title"))),i(2),o("label","categories")("for","type"),i(),o("position","bottom")("selectedOption",e.selectedCategories)("options",!((n=d(9,20,e.category$))==null||n.data==null)&&n.data.length?(n=d(10,22,e.category$))==null?null:n.data:B(24,S))("subArrayKey","subcategories"),i(3),o("label","status")("for","status")}}function lt(a,u){if(a&1&&(f(0,"select2",52),s(1,"translate"),s(2,"async"),s(3,"async"),s(4,"translate")),a&2){let n,e=_(2);o("noResultMessage",A(d(1,4,"no_data_found")))("data",(n=d(2,6,e.brand$))!=null&&n.length?d(3,8,e.brand$):B(12,S))("placeholder",d(4,10,"select_brand"))}}function ct(a,u){if(a&1&&(c(0,"div",51)(1,"app-form-fields",32),G(2,lt,5,13,"select2",52),r(),c(3,"app-form-fields",32)(4,"div",35)(5,"label",36),f(6,"input",37)(7,"span",38),r()()()()),a&2){let n=_();i(),o("label","brand")("for","type"),i(),D(n.isBrowser?2:-1),i(),o("label","status")("for","status")}}function pt(a,u){a&1&&(c(0,"app-button",53),h(1),s(2,"translate"),r()),a&2&&(o("id","theme_11_submit"),i(),N(" ",d(2,2,"submit")," "))}var jt=(()=>{let u=class u{constructor(){this.store=x(F),this.formBuilder=x(fe),this.renderer=x(J),this.document=x(z),this.home_page$=x(F).select(j.homePage),this.product$=x(F).select(je.products),this.category$=x(F).select(Oe.category),this.brand$=x(F).select(Ke.brands),this.active="home_banner",this.banner=1,this.selectedCategories=[],this.search=new L,this.filter={status:1,search:"",paginate:15,ids:"",with_union_products:0,is_approved:1},this.mediaConfig=We;let e=x(K);this.isBrowser=re(e),this.form=new v({content:new v({home_banner:new v({status:new p(!0),banners:new ue([])}),offer_banner:new v({banner_1:new v({image_url:new p,status:new p(!0),redirect_link:new v({link:new p(""),link_type:new p(""),product_ids:new p("")})}),banner_2:new v({image_url:new p,status:new p(!0),redirect_link:new v({link:new p(""),link_type:new p(""),product_ids:new p("")})}),banner_3:new v({image_url:new p,status:new p(!0),redirect_link:new v({link:new p(""),link_type:new p(""),product_ids:new p("")})})}),category_product:new v({tag:new p(""),title:new p(""),category_ids:new p([]),status:new p(!0)}),brand:new v({brand_ids:new p(""),status:new p(!1)}),products_ids:new p([])}),slug:new p("electronics_one")})}ngOnInit(){let e=this.store.dispatch(new He({status:1,type:"product"})),t=this.store.dispatch(new qe({slug:"electronics_one"})),l=this.store.dispatch(new ze({status:1}));W([t,e,l]).subscribe({complete:()=>{this.store.select(j.homePage).subscribe({next:m=>{m?.content?.products_ids&&(this.filter.paginate=m?.content?.products_ids?.length>=15?m?.content?.products_ids?.length:15,this.filter.ids=m?.content?.products_ids?.join(),this.filter.with_union_products=m?.content?.products_ids?.length?m?.content?.products_ids?.length>=15?0:1:0),this.store.dispatch(new T(this.filter)).subscribe({complete:()=>{this.patchForm()}})}})}}),this.search.pipe(R(300)).subscribe(m=>{this.store.dispatch(new T({status:1,is_approved:1,paginate:15,search:m})),this.renderer.addClass(this.document.body,"loader-none")})}patchForm(){this.home_page$.subscribe(e=>{this.page_data=e,this.selectedCategories=e?.content?.category_product?.category_ids||[],this.form.patchValue({content:{home_banner:{status:e?.content?.home_banner?.status},offer_banner:{banner_1:{image_url:e?.content?.offer_banner?.banner_1?.image_url,status:e?.content?.offer_banner?.banner_1?.status,redirect_link:{link:e?.content?.offer_banner?.banner_1?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_1?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_1?.redirect_link?.product_ids}},banner_2:{image_url:e?.content?.offer_banner?.banner_2?.image_url,status:e?.content?.offer_banner?.banner_2?.status,redirect_link:{link:e?.content?.offer_banner?.banner_2?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_2?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_2?.redirect_link?.product_ids}},banner_3:{image_url:e?.content?.offer_banner?.banner_3?.image_url,status:e?.content?.offer_banner?.banner_3?.status,redirect_link:{link:e?.content?.offer_banner?.banner_3?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_3?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_3?.redirect_link?.product_ids}}},category_product:{tag:e?.content?.category_product?.tag,title:e?.content?.category_product?.title,category_ids:e?.content?.category_product?.category_ids,status:e?.content?.category_product?.status},brand:{brand_ids:e?.content?.brand?.brand_ids,status:e?.content?.brand?.status},products_ids:e?.content?.products_ids},slug:e?.slug}),this.homeBannersArray.clear(),e?.content?.home_banner?.banners?.forEach(t=>this.homeBannersArray.push(this.formBuilder.group({redirect_link:new v({link:new p(t?.redirect_link?.link),link_type:new p(t?.redirect_link?.link_type)}),status:new p(t?.status),image_url:new p(t?.image_url)})))})}selectCategoryItem(e,t){Array.isArray(e)&&this.form.get(t)?.setValue(e)}getProducts(e){this.filter.search=e.search,this.filter.ids=this.filter.search.length?"":this.page_data?.content?.products_ids?.join(),this.filter.paginate=this.page_data?.content?.products_ids?.length>=15?this.page_data?.content?.products_ids?.length:15,this.store.dispatch(new T(this.filter)),this.renderer.addClass(this.document.body,"loader-none")}productDropdown(e){e.innerSearchText&&(this.search.next(""),this.getProducts(this.filter))}searchProduct(e){this.search.next(e.search)}get homeBannersArray(){return this.form.get("content.home_banner.banners")}addHomeBanner(e){e.preventDefault(),this.homeBannersArray.push(this.formBuilder.group({redirect_link:new v({link:new p(""),link_type:new p("")}),image_url:new p,status:new p(!0)}))}removeHomeBanner(e){this.homeBannersArray.length<=1||this.homeBannersArray.removeAt(e)}selectHomeBannerArray(e,t){this.homeBannersArray.at(t).get("image_url")?.setValue(e||null)}selectImage(e,t){this.form.get(t)?.setValue(e||null)}concatDynamicProductKeys(e){let t=[];function l(m){if(Array.isArray(m))m.forEach(l);else if(m!==null&&typeof m=="object")for(let[k,E]of Object.entries(m))k==="product_ids"&&Array.isArray(E)&&E.every(Ye=>typeof Ye=="number")?t.push(...E):l(E)}return l(e),t}submit(){let e=Array.from(new Set(this.concatDynamicProductKeys(this.form.value)));this.form.get("content.products_ids")?.setValue(e),this.form.valid&&this.store.dispatch(new Qe(this.page_data.id,this.form.value))}};u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=q({type:u,selectors:[["app-electronics-1"]],decls:34,vars:18,consts:[["nav","ngbNav"],[3,"gridClass","title"],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"vertical-tabs"],[1,"row"],[1,"col-xl-3","col-lg-4"],["ngbNav","","orientation","vertical","formGroupName","content",1,"nav-pills",3,"activeIdChange","activeId"],["ngbNavItem","home_banner"],["ngbNavLink",""],[1,"ri-record-circle-line"],["ngbNavContent",""],["ngbNavItem","offer_banner"],["ngbNavItem","category_product"],["ngbNavItem","brand"],[1,"col-xl-7","col-lg-8"],[3,"ngbNavOutlet"],[3,"id",4,"hasPermission"],["formGroupName","home_banner"],[3,"click","id","spinner"],[1,"shipping-accordion","variant-accordion"],["formArrayName","banners"],[1,"d-flex",3,"formGroupName"],[1,"col-11"],["ngbAccordion",""],["ngbAccordionItem","",3,"collapsed"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"col-1","text-center","fs-20"],["href","javascript:void(0)",1,"invalid-feedback","text-end","cursor-pointer","d-inline-block","w-auto","mt-2",3,"click"],[1,"ri-close-line"],[3,"label","for"],[3,"selectedFiles","url","multipleImage","accept","helpText","imageUrl"],[3,"productFilter","products","linkForm"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],["formGroupName","offer_banner"],[1,"inside-horizontal-tabs"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],[1,"mt-3",3,"ngbNavOutlet"],["formGroupName","banner_1"],["formGroupName","banner_2"],["formGroupName","banner_3"],["formGroupName","category_product"],["id","tag","type","text","formControlName","tag",1,"form-control",3,"placeholder"],["id","title","type","text","formControlName","title",1,"form-control",3,"placeholder"],[3,"selectedItem","position","selectedOption","options","subArrayKey"],["formGroupName","brand"],["formControlName","brand_ids","multiple","true",1,"custom-select",3,"data","placeholder","noResultMessage"],[3,"id"]],template:function(t,l){if(t&1){let m=C();c(0,"app-page-wrapper",1)(1,"form",2),y("ngSubmit",function(){return g(m),b(l.submit())}),c(2,"div",3)(3,"div",4)(4,"div",5)(5,"ul",6,0),O("activeIdChange",function(E){return g(m),H(l.active,E)||(l.active=E),b(E)}),c(7,"li",7)(8,"a",8),f(9,"i",9),h(10),s(11,"translate"),r(),w(12,tt,5,8,"ng-template",10),r(),c(13,"li",11)(14,"a",8),f(15,"i",9),h(16),s(17,"translate"),r(),w(18,at,20,14,"ng-template",10),r(),c(19,"li",12)(20,"a",8),f(21,"i",9),h(22),s(23,"translate"),r(),w(24,ot,16,25,"ng-template",10),r(),c(25,"li",13)(26,"a",8),f(27,"i",9),h(28),s(29,"translate"),r(),w(30,ct,8,5,"ng-template",10),r()()(),c(31,"div",14),f(32,"div",15),r()(),w(33,pt,3,4,"app-button",16),r()()()}if(t&2){let m=M(6);o("gridClass","col-sm-12")("title","electronic_1_settings"),i(),o("formGroup",l.form),i(4),U("activeId",l.active),i(5),I(d(11,10,"home_banner")),i(6),I(d(17,12,"offer_banner")),i(6),I(d(23,14,"category_product")),i(6),I(d(29,16,"brand")),i(4),o("ngbNavOutlet",m),i(),o("hasPermission","theme.edit")}},dependencies:[ie,Te,ge,pe,oe,ae,le,ce,be,se,me,de,_e,Ge,$e,Ue,Ae,he,Ce,we,xe,ve,ye,ke,Ne,Be,Ee,Se,Fe,Ie,De,Me,Le,Xe,Re,Je,ne,Ve],encapsulation:2});let a=u;return a})();export{jt as Electronics1};
