import{a as g}from"./chunk-GG7AHMIJ.js";import{Ia as S,qa as M,sa as s,ta as x,ua as d}from"./chunk-IKKQDHIF.js";import{g as y}from"./chunk-OTODDIHK.js";import{d as f}from"./chunk-EY6JDCC6.js";import{$ as l,ea as u,ja as c,l as o}from"./chunk-KIZZVTEV.js";import{a as m,b as h}from"./chunk-4CLCTAJ7.js";var v=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Menu] Get";let e=t;return e})(),j=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Menu] Create";let e=t;return e})(),w=(()=>{let t=class t{constructor(r){this.id=r}};t.type="[Menu] Edit";let e=t;return e})(),I=(()=>{let t=class t{constructor(r,p){this.payload=r,this.id=p}};t.type="[Menu] Update";let e=t;return e})(),b=(()=>{let t=class t{constructor(r){this.payload=r}};t.type="[Menu] Update Sort";let e=t;return e})(),E=(()=>{let t=class t{constructor(r){this.id=r}};t.type="[Menu] Delete";let e=t;return e})();var U=(()=>{let t=class t{constructor(){this.http=c(f)}getMenu(r){return this.http.get(`${g.URL}/menu.json`,{params:r})}};t.\u0275fac=function(p){return new(p||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var n,a=(n=class{constructor(){this.notificationService=c(S),this.menuService=c(U),this.store=c(M),this.router=c(y)}static menu(t){return t.menu}static selectedMenu(t){return t.selectedMenu}getMenu(t,i){return this.menuService.getMenu(i.payload).pipe(l({next:r=>{t.patchState({menu:{data:r.data,total:r?.total?r?.total:r.data?.length}})},error:r=>{throw new Error(r?.error?.message)}}))}create(t,i){}edit(t,{id:i}){return this.menuService.getMenu().pipe(l({next:r=>{let p=t.getState(),k=r.data.find(C=>C.id==i);t.patchState(h(m({},p),{selectedMenu:k}))},error:r=>{throw new Error(r?.error?.message)}}))}update(t,{payload:i,id:r}){}updateShort(t,i){}delete(t,{id:i}){}},n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=u({token:n,factory:n.\u0275fac}),n);o([s(v)],a.prototype,"getMenu",null);o([s(j)],a.prototype,"create",null);o([s(w)],a.prototype,"edit",null);o([s(I)],a.prototype,"update",null);o([s(b)],a.prototype,"updateShort",null);o([s(E)],a.prototype,"delete",null);o([d()],a,"menu",null);o([d()],a,"selectedMenu",null);a=o([x({name:"menu",defaults:{menu:{data:[],total:0},selectedMenu:null}})],a);export{v as a,j as b,w as c,I as d,b as e,E as f,a as g};
