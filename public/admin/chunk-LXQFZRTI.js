import{a as Pe}from"./chunk-EOJ72O7D.js";import{a as Xe}from"./chunk-RSBT43UQ.js";import{c as Ye,d as Ze,e as Q}from"./chunk-L64HS5AO.js";import{a as qe,i as Qe}from"./chunk-FDG3HQPX.js";import{a as Re}from"./chunk-Q2HG4MQ4.js";import{b as Le}from"./chunk-I4EG6FBQ.js";import{b as je}from"./chunk-SPPECMGV.js";import{a as Je}from"./chunk-DRWHSBYU.js";import{a as Ke}from"./chunk-LCVX2N4P.js";import"./chunk-M3HD75V3.js";import{a as We}from"./chunk-Y2Z4WWCH.js";import"./chunk-QVI36XHK.js";import{l as Me,m as Ue}from"./chunk-HMBOAMDM.js";import{a as ze}from"./chunk-7RQBIUSJ.js";import{a as q}from"./chunk-VO736VT2.js";import"./chunk-DNDGKAFO.js";import{a as Oe}from"./chunk-3ARB4UI6.js";import"./chunk-HD5XXWEJ.js";import"./chunk-HJPVTB2W.js";import{a as He}from"./chunk-MLWMDQKS.js";import{a as De}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import"./chunk-5DTRVH74.js";import"./chunk-GG7AHMIJ.js";import{$ as Ge,A as L,B as be,C as ve,D as xe,E as ye,F as he,G as we,H as Ce,I as ke,J as Se,X as Be,Y as Ee,Z as Fe,_ as Ve,aa as Ie,ba as Ae,c as se,d as pe,fa as Ne,g as ce,h as de,i as y,k as p,m as _e,q as me,qa as $,r as ue,s as ge,t as fe}from"./chunk-IKKQDHIF.js";import"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as Te,d as $e}from"./chunk-AWERIOQH.js";import{Ac as J,Ad as le,Bc as k,Ed as oe,Fc as E,Gc as I,Ib as N,J as Z,Ja as ee,Kb as T,Lc as d,Mb as U,Mc as _,Nb as D,Ob as H,Pb as l,Pc as re,Qb as o,Rb as r,Sb as u,Wb as O,Xb as R,Za as te,_b as w,bb as n,bc as x,dc as c,g as X,gb as ie,ja as B,mc as z,ob as ne,qa as g,qc as M,ra as f,rc as h,sc as F,tc as V,td as ae,ub as C,uc as j,va as P,x as Y,yc as W,zc as K}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var A=a=>[a],G=()=>[];function tt(a,m){if(a&1){let i=w();o(0,"app-form-fields",37)(1,"app-image-upload",38),x("selectedFiles",function(t){g(i);let s=c().$index,b=c(3);return f(b.selectHomeBannerArray(t,s))}),r()(),o(2,"app-link",39),d(3,"async"),d(4,"async"),x("productFilter",function(t){g(i);let s=c(4);return f(s.getProducts(t))}),r(),o(5,"app-form-fields",37)(6,"div",40)(7,"label",41),u(8,"input",42)(9,"span",43),r()()()}if(a&2){let i,e,t=c(),s=t.$implicit,b=t.$index,v=c(3);l("label","image")("for","image_url"),n(),l("url",!0)("accept",I(15,A,v.mediaConfig.image))("multipleImage",!1)("helpText","*Upload image size 376x231px recommended")("imageUrl",(i=v.form.get("content.home_banner.banners"))==null?null:i.value[b].image_url),n(),l("products",(e=_(3,11,v.product$))!=null&&e.length?_(4,13,v.product$):E(17,G))("linkForm",s.get("redirect_link")),n(3),l("label","status")("for","status"+b)}}function it(a,m){if(a&1){let i=w();o(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"button",31),h(6),d(7,"translate"),r()(),o(8,"div",32)(9,"div",33),C(10,tt,10,18,"ng-template"),r()()()()(),o(11,"div",34)(12,"a",35),x("click",function(){let t=g(i).$index,s=c(3);return f(s.removeHomeBanner(t))}),u(13,"i",36),r()()()}if(a&2){let i=m.$index;l("formGroupName",k(i)),n(3),l("collapsed",!1),n(3),j(" ",_(7,5,"banner")," ",i+1," ")}}function nt(a,m){if(a&1&&(o(0,"div",24)(1,"div",25),O(2),D(3,it,14,7,"div",26,U),R(),r()()),a&2){let i=c(2);n(3),H(i.homeBannersArray.controls)}}function rt(a,m){if(a&1){let i=w();o(0,"div",22)(1,"app-button",23),x("click",function(t){g(i);let s=c();return f(s.addHomeBanner(t))}),h(2),d(3,"translate"),r(),N(4,nt,5,0,"div",24),r()}if(a&2){let i=c();n(),M("btn btn-animation mb-3"),l("id","add_banners_btn")("spinner",!1),n(),V(" ",_(3,6,"add_banners")," "),n(2),T(!(i.homeBannersArray==null||i.homeBannersArray.controls==null)&&i.homeBannersArray.controls.length?4:-1)}}function at(a,m){if(a&1){let i=w();o(0,"app-form-fields",37),u(1,"input",45),d(2,"translate"),r(),o(3,"app-form-fields",37),u(4,"input",46),d(5,"translate"),r(),o(6,"app-form-fields",37)(7,"app-image-upload",38),x("selectedFiles",function(t){g(i);let s=c().$index,b=c(3);return f(b.selectServiceImage(t,s))}),r()(),o(8,"app-form-fields",37)(9,"div",40)(10,"label",41),u(11,"input",42)(12,"span",43),r()()()}if(a&2){let i,e=c().$index,t=c(3);l("label","title")("for","title"),n(),l("placeholder",k(_(2,17,"enter_title"))),n(2),l("label","description")("for","description"),n(),l("placeholder",k(_(5,19,"enter_description"))),n(2),l("label","image")("for","image_url"),n(),l("url",!0)("accept",I(21,A,t.mediaConfig.image))("multipleImage",!1)("helpText","*Upload image size 375x586px recommended")("imageUrl",(i=t.form.get("content.services.banners"))==null?null:i.value[e].image_url),n(),l("label","status")("for","status")}}function lt(a,m){if(a&1){let i=w();o(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"button",31),h(6),d(7,"translate"),r()(),o(8,"div",32)(9,"div",33),C(10,at,13,23,"ng-template"),r()()()()(),o(11,"div",34)(12,"a",35),x("click",function(){let t=g(i).$index,s=c(3);return f(s.removeServiceBanner(t))}),u(13,"i",36),r()()()}if(a&2){let i=m.$index;l("formGroupName",k(i)),n(3),l("collapsed",!1),n(3),j(" ",_(7,5,"service")," ",i+1," ")}}function ot(a,m){if(a&1&&(o(0,"div",24)(1,"div",25),O(2),D(3,lt,14,7,"div",26,U),R(),r()()),a&2){let i=c(2);n(3),H(i.servicesArray.controls)}}function st(a,m){if(a&1){let i=w();o(0,"div",44)(1,"app-button",23),x("click",function(t){g(i);let s=c();return f(s.addServiceBanner(t))}),h(2),d(3,"translate"),r(),N(4,ot,5,0,"div",24),r()}if(a&2){let i=c();n(),M("btn btn-animation mb-3"),l("id","add_banners_btn")("spinner",!1),n(),V(" ",_(3,6,"add_banners")," "),n(2),T(!(i.servicesArray==null||i.servicesArray.controls==null)&&i.servicesArray.controls.length?4:-1)}}function pt(a,m){if(a&1){let i=w();o(0,"div",52)(1,"app-form-fields",37)(2,"app-image-upload",38),x("selectedFiles",function(t){g(i);let s=c(2);return f(s.selectImage(t,"content.offer_banner.banner_1.image_url"))}),r()(),o(3,"app-link",39),d(4,"async"),d(5,"async"),x("productFilter",function(t){g(i);let s=c(2);return f(s.getProducts(t))}),r(),o(6,"app-form-fields",37)(7,"div",40)(8,"label",41),u(9,"input",42)(10,"span",43),r()()()()}if(a&2){let i,e,t=c(2);n(),l("label","image")("for","image_url"),n(),l("url",!0)("accept",I(15,A,t.mediaConfig.image))("multipleImage",!1)("helpText","*Upload image size 806x670px recommended")("imageUrl",(i=t.form.get("content.offer_banner.banner_1.image_url"))==null?null:i.value),n(),l("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):E(17,G))("linkForm",t.form.get("content.offer_banner.banner_1.redirect_link")),n(3),l("label","status")("for","status")}}function ct(a,m){if(a&1){let i=w();o(0,"div",53)(1,"app-form-fields",37)(2,"app-image-upload",38),x("selectedFiles",function(t){g(i);let s=c(2);return f(s.selectImage(t,"content.offer_banner.banner_2.image_url"))}),r()(),o(3,"app-link",39),d(4,"async"),d(5,"async"),x("productFilter",function(t){g(i);let s=c(2);return f(s.getProducts(t))}),r(),o(6,"app-form-fields",37)(7,"div",40)(8,"label",41),u(9,"input",42)(10,"span",43),r()()()()}if(a&2){let i,e,t=c(2);n(),l("label","image")("for","image_url"),n(),l("url",!0)("accept",I(15,A,t.mediaConfig.image))("multipleImage",!1)("helpText","*Upload image size 806x670px recommended")("imageUrl",(i=t.form.get("content.offer_banner.banner_2.image_url"))==null?null:i.value),n(),l("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):E(17,G))("linkForm",t.form.get("content.offer_banner.banner_2.redirect_link")),n(3),l("label","status")("for","status")}}function dt(a,m){if(a&1){let i=w();o(0,"div",54)(1,"app-form-fields",37)(2,"app-image-upload",38),x("selectedFiles",function(t){g(i);let s=c(2);return f(s.selectImage(t,"content.offer_banner.banner_3.image_url"))}),r()(),o(3,"app-link",39),d(4,"async"),d(5,"async"),x("productFilter",function(t){g(i);let s=c(2);return f(s.getProducts(t))}),r(),o(6,"app-form-fields",37)(7,"div",40)(8,"label",41),u(9,"input",42)(10,"span",43),r()()()()}if(a&2){let i,e,t=c(2);n(),l("label","image")("for","image_url"),n(),l("url",!0)("accept",I(15,A,t.mediaConfig.image))("multipleImage",!1)("helpText","*Upload image size 806x670px recommended")("imageUrl",(i=t.form.get("content.offer_banner.banner_3.image_url"))==null?null:i.value),n(),l("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):E(17,G))("linkForm",t.form.get("content.offer_banner.banner_3.redirect_link")),n(3),l("label","status")("for","status")}}function _t(a,m){if(a&1){let i=w();o(0,"div",47)(1,"div",48)(2,"ul",49,0),J("activeIdChange",function(t){g(i);let s=c();return K(s.banner,t)||(s.banner=t),f(t)}),o(4,"li",50)(5,"a",9),h(6),d(7,"translate"),r(),C(8,pt,11,18,"ng-template",11),r(),o(9,"li",50)(10,"a",9),h(11),d(12,"translate"),r(),C(13,ct,11,18,"ng-template",11),r(),o(14,"li",50)(15,"a",9),h(16),d(17,"translate"),r(),C(18,dt,11,18,"ng-template",11),r()(),u(19,"div",51),r()()}if(a&2){let i=z(3),e=c();n(2),W("activeId",e.banner),n(2),l("ngbNavItem",1),n(2),V("",_(7,8,"banner")," 1"),n(3),l("ngbNavItem",2),n(2),V("",_(12,10,"banner")," 2"),n(3),l("ngbNavItem",3),n(2),V("",_(17,12,"banner")," 3"),n(3),l("ngbNavOutlet",i)}}function mt(a,m){if(a&1&&(o(0,"div",59),u(1,"img",60),r(),h(2)),a&2){let i=m.data;n(),M("img-fluid selection-image"),l("src",i.image,te),n(),V(" ",i.name," ")}}function ut(a,m){if(a&1){let i=w();o(0,"select2",58),d(1,"translate"),d(2,"async"),d(3,"async"),d(4,"translate"),x("close",function(t){g(i);let s=c(2);return f(s.productDropdown(t))})("search",function(t){g(i);let s=c(2);return f(s.searchProduct(t))}),C(5,mt,3,4,"ng-template",null,1,re),r()}if(a&2){let i,e=z(6),t=c(2);l("noResultMessage",k(_(1,6,"no_data_found")))("templates",e)("data",(i=_(2,8,t.product$))!=null&&i.length?_(3,10,t.product$):E(14,G))("placeholder",_(4,12,"select_product"))("customSearchEnabled",!0)}}function gt(a,m){if(a&1&&(o(0,"div",55)(1,"app-form-fields",37),d(2,"translate"),u(3,"input",56),d(4,"translate"),r(),o(5,"app-form-fields",37),u(6,"input",45),d(7,"translate"),r(),o(8,"app-form-fields",37),u(9,"input",46),d(10,"translate"),r(),o(11,"app-form-fields",37),N(12,ut,7,15,"select2",57),r(),o(13,"app-form-fields",37)(14,"div",40)(15,"label",41),u(16,"input",42)(17,"span",43),r()()()()),a&2){let i=c();n(),l("label",_(2,17,"tag"))("for","tag"),n(2),l("placeholder",k(_(4,19,"enter_tag"))),n(2),l("label","title")("for","title"),n(),l("placeholder",k(_(7,21,"enter_title"))),n(2),l("label","description")("for","description"),n(),l("placeholder",k(_(10,23,"enter_description"))),n(2),l("label","product")("for","product_ids"),n(),T(i.isBrowser?12:-1),n(),l("label","status")("for","status")}}function ft(a,m){if(a&1){let i=w();o(0,"div",61)(1,"app-form-fields",37)(2,"div",40)(3,"label",41),u(4,"input",42)(5,"span",43),r()()(),o(6,"app-form-fields",37)(7,"app-image-upload",62),x("selectedFiles",function(t){g(i);let s=c();return f(s.selectImage(t,"content.full_banner.image_url"))}),r()(),o(8,"app-link",39),d(9,"async"),d(10,"async"),x("productFilter",function(t){g(i);let s=c();return f(s.getProducts(t))}),r()()}if(a&2){let i,e,t=c();n(),l("label","status")("for","status"),n(5),l("label","image")("for","image_url"),n(),l("url",!0)("multipleImage",!1)("accept",I(15,A,t.mediaConfig.image))("helpText","*Upload image size 1920x1018px recommended")("imageUrl",(i=t.form.get("content.full_banner.image_url"))==null?null:i.value),n(),l("products",(e=_(9,11,t.product$))!=null&&e.length?_(10,13,t.product$):E(17,G))("linkForm",t.form.get("content.full_banner.redirect_link"))}}function bt(a,m){if(a&1){let i=w();o(0,"div",63)(1,"app-form-fields",37)(2,"app-advance-dropdown",64),d(3,"async"),d(4,"async"),x("selectedItem",function(t){g(i);let s=c();return f(s.selectCategoryItem(t,"content.category_product.category_ids"))}),r()(),o(5,"app-form-fields",37)(6,"div",40)(7,"label",41),u(8,"input",42)(9,"span",43),r()()()()}if(a&2){let i,e=c();n(),l("label","categories")("for","type"),n(),l("position","bottom")("selectedOption",e.selectedCategories)("options",!((i=_(3,8,e.category$))==null||i.data==null)&&i.data.length?(i=_(4,10,e.category$))==null?null:i.data:E(12,G))("subArrayKey","subcategories"),n(3),l("label","status")("for","status")}}function vt(a,m){if(a&1){let i=w();o(0,"app-form-fields",37)(1,"app-image-upload",38),x("selectedFiles",function(t){g(i);let s=c().$index,b=c(3);return f(b.selectSocialMediaImage(t,s))}),r()(),o(2,"app-link",39),d(3,"async"),d(4,"async"),x("productFilter",function(t){g(i);let s=c(4);return f(s.getProducts(t))}),r(),o(5,"app-form-fields",37)(6,"div",40)(7,"label",41),u(8,"input",42)(9,"span",43),r()()()}if(a&2){let i,e,t=c(),s=t.$implicit,b=t.$index,v=c(3);l("label","image")("for","image_url"),n(),l("url",!0)("accept",I(15,A,v.mediaConfig.image))("multipleImage",!1)("helpText","*Upload image size 375x586px recommended")("imageUrl",(i=v.form.get("content.social_media.banners"))==null?null:i.value[b].image_url),n(),l("products",(e=_(3,11,v.product$))!=null&&e.length?_(4,13,v.product$):E(17,G))("linkForm",s.get("redirect_link")),n(3),l("label","status")("for","status")}}function xt(a,m){if(a&1){let i=w();o(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"button",31),h(6),d(7,"translate"),r()(),o(8,"div",32)(9,"div",33),C(10,vt,10,18,"ng-template"),r()()()()(),o(11,"div",34)(12,"a",35),x("click",function(){let t=g(i).$index,s=c(3);return f(s.removeSocialMediaBanner(t))}),u(13,"i",36),r()()()}if(a&2){let i=m.$index;l("formGroupName",k(i)),n(3),l("collapsed",!1),n(3),j(" ",_(7,5,"social_media")," ",i+1," ")}}function yt(a,m){if(a&1&&(o(0,"div",24)(1,"div",25),O(2),D(3,xt,14,7,"div",26,U),R(),r()()),a&2){let i=c(2);n(3),H(i.socialMediaArray.controls)}}function ht(a,m){if(a&1){let i=w();o(0,"div",65)(1,"app-form-fields",37),u(2,"input",45),d(3,"translate"),r(),o(4,"app-form-fields",37)(5,"div",40)(6,"label",41),u(7,"input",42)(8,"span",43),r()()(),o(9,"app-button",23),x("click",function(t){g(i);let s=c();return f(s.addSocialMediaBanner(t))}),h(10),d(11,"translate"),r(),N(12,yt,5,0,"div",24),r()}if(a&2){let i=c();n(),l("label","title")("for","title"),n(),l("placeholder",k(_(3,12,"enter_title"))),n(2),l("label","status")("for","status"),n(5),M("btn btn-animation mb-3"),l("id","add_banners_btn")("spinner",!1),n(),V(" ",_(11,14,"add_banners")," "),n(2),T(!(i.socialMediaArray==null||i.socialMediaArray.controls==null)&&i.socialMediaArray.controls.length?12:-1)}}function wt(a,m){if(a&1&&(u(0,"select2",67),d(1,"translate"),d(2,"async"),d(3,"async"),d(4,"translate")),a&2){let i,e=c(2);l("noResultMessage",k(_(1,4,"no_data_found")))("data",(i=_(2,6,e.brand$))!=null&&i.length?_(3,8,e.brand$):E(12,G))("placeholder",_(4,10,"select_brand"))}}function Ct(a,m){if(a&1&&(o(0,"div",66)(1,"app-form-fields",37),N(2,wt,5,13,"select2",67),r(),o(3,"app-form-fields",37)(4,"div",40)(5,"label",41),u(6,"input",42)(7,"span",43),r()()()()),a&2){let i=c();n(),l("label","brand")("for","type"),n(),T(i.isBrowser?2:-1),n(),l("label","status")("for","status")}}function kt(a,m){a&1&&(o(0,"app-button",68),h(1),d(2,"translate"),r()),a&2&&(l("id","theme_1_submit"),n(),V(" ",_(2,2,"submit")," "))}var ni=(()=>{let m=class m{constructor(){this.store=B($),this.formBuilder=B(be),this.renderer=B(ie),this.document=B(P),this.home_page$=B($).select(Q.homePage),this.product$=B($).select(Le.products),this.category$=B($).select(je.category),this.brand$=B($).select(Qe.brands),this.active="home_banner",this.banner=1,this.selectedCategories=[],this.search=new X,this.filter={status:1,search:"",paginate:15,ids:"",with_union_products:0,is_approved:1},this.mediaConfig=Ke;let e=B(ee);this.isBrowser=oe(e),this.form=new y({content:new y({home_banner:new y({status:new p(!0),banners:new L([])}),services:new y({banners:new L([]),status:new p(!0)}),offer_banner:new y({banner_1:new y({image_url:new p,status:new p(!0),redirect_link:new y({link:new p(""),link_type:new p(""),product_ids:new p("")})}),banner_2:new y({image_url:new p,status:new p(!0),redirect_link:new y({link:new p(""),link_type:new p(""),product_ids:new p("")})}),banner_3:new y({image_url:new p,status:new p(!0),redirect_link:new y({link:new p(""),link_type:new p(""),product_ids:new p("")})})}),products_list:new y({title:new p(""),tag:new p(""),description:new p(""),product_ids:new p([]),status:new p(!0)}),full_banner:new y({image_url:new p,redirect_link:new y({link:new p(""),link_type:new p(""),product_ids:new p("")}),status:new p(!0)}),category_product:new y({category_ids:new p([]),status:new p(!0)}),social_media:new y({status:new p(!0),title:new p(""),banners:new L([])}),brand:new y({brand_ids:new p(""),status:new p(!1)}),products_ids:new p([])}),slug:new p("goggles")})}ngOnInit(){let e=this.store.dispatch(new Re({status:1})),t=this.store.dispatch(new Ye({slug:"goggles"})),s=this.store.dispatch(new ze({status:1,type:"product"})),b=this.store.dispatch(new qe({status:1}));Y([e,t,s,b]).subscribe({complete:()=>{this.store.select(Q.homePage).subscribe({next:v=>{v?.content?.products_ids&&(this.filter.paginate=v?.content?.products_ids?.length>=15?v?.content?.products_ids?.length:15,this.filter.ids=v?.content?.products_ids?.join(),this.filter.with_union_products=v?.content?.products_ids?.length?v?.content?.products_ids?.length>=15?0:1:0),this.store.dispatch(new q(this.filter)).subscribe({complete:()=>{this.patchForm()}})}})}}),this.search.pipe(Z(300)).subscribe(v=>{this.filter.search=v,this.getProducts(this.filter),this.renderer.addClass(this.document.body,"loader-none")})}patchForm(){this.home_page$.subscribe(e=>{this.page_data=e,this.selectedCategories=e?.content?.category_product?.category_ids||[],this.form.patchValue({content:{home_banner:{status:e?.content?.home_banner?.status},services:{status:e?.content?.services?.status},offer_banner:{banner_1:{image_url:e?.content?.offer_banner?.banner_1?.image_url,status:e?.content?.offer_banner?.banner_1?.status,redirect_link:{link:e?.content?.offer_banner?.banner_1?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_1?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_1?.redirect_link?.product_ids}},banner_2:{image_url:e?.content?.offer_banner?.banner_2?.image_url,status:e?.content?.offer_banner?.banner_2?.status,redirect_link:{link:e?.content?.offer_banner?.banner_2?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_2?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_2?.redirect_link?.product_ids}},banner_3:{image_url:e?.content?.offer_banner?.banner_3?.image_url,status:e?.content?.offer_banner?.banner_3?.status,redirect_link:{link:e?.content?.offer_banner?.banner_3?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_3?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_3?.redirect_link?.product_ids}}},products_list:{title:e?.content?.products_list?.title,tag:e?.content?.products_list?.tag,description:e?.content?.products_list?.description,product_ids:e?.content?.products_list?.product_ids,status:e?.content?.products_list?.status},full_banner:{image_url:e?.content?.full_banner?.image_url,redirect_link:{link:e?.content?.full_banner?.redirect_link?.link,link_type:e?.content?.full_banner?.redirect_link?.link_type,product_ids:e?.content?.full_banner?.redirect_link?.product_ids},status:e?.content?.full_banner?.status},category_product:{category_ids:e?.content?.category_product?.category_ids,status:e?.content?.category_product?.status},social_media:{status:e?.content?.social_media?.status,title:e?.content?.social_media?.title},brand:{brand_ids:e?.content?.brand?.brand_ids,status:e?.content?.brand?.status},products_ids:e?.content?.products_ids},slug:e?.slug}),this.homeBannersArray.clear(),e?.content?.home_banner?.banners?.forEach(t=>this.homeBannersArray.push(this.formBuilder.group({redirect_link:new y({link:new p(t?.redirect_link?.link),link_type:new p(t?.redirect_link?.link_type)}),status:new p(t?.status),image_url:new p(t?.image_url)}))),this.servicesArray.clear(),e?.content?.services?.banners?.forEach(t=>this.servicesArray.push(this.formBuilder.group({title:new p(t?.title),description:new p(t?.description),status:new p(t?.status),image_url:new p(t?.image_url)}))),this.socialMediaArray.clear(),e?.content?.social_media?.banners?.forEach(t=>this.socialMediaArray.push(this.formBuilder.group({redirect_link:new y({link:new p(t?.redirect_link?.link),link_type:new p(t?.redirect_link?.link_type)}),status:new p(t?.status),image_url:new p(t?.image_url)})))})}selectCategoryItem(e,t){Array.isArray(e)&&this.form.get(t)?.setValue(e)}getProducts(e){this.filter.search=e.search,this.filter.ids=this.filter.search.length?"":this.page_data?.content?.products_ids?.join(),this.filter.paginate=this.page_data?.content?.products_ids?.length>=15?this.page_data?.content?.products_ids?.length:15,this.store.dispatch(new q(this.filter)),this.renderer.addClass(this.document.body,"loader-none")}productDropdown(e){e.innerSearchText&&(this.search.next(""),this.getProducts(this.filter))}searchProduct(e){this.search.next(e.search)}get homeBannersArray(){return this.form.get("content.home_banner.banners")}get servicesArray(){return this.form.get("content.services.banners")}get socialMediaArray(){return this.form.get("content.social_media.banners")}addHomeBanner(e){e.preventDefault(),this.homeBannersArray.push(this.formBuilder.group({redirect_link:new y({link:new p(""),link_type:new p(""),product_ids:new p("")}),image_url:new p,status:new p(!0)}))}addServiceBanner(e){e.preventDefault(),this.servicesArray.length!=3&&this.servicesArray.push(this.formBuilder.group({title:new p,description:new p,image_url:new p,status:new p(!0)}))}addSocialMediaBanner(e){e.preventDefault(),this.socialMediaArray.push(this.formBuilder.group({redirect_link:new y({link:new p(""),link_type:new p("")}),image_url:new p,status:new p(!0)}))}removeHomeBanner(e){this.homeBannersArray.length<=1||this.homeBannersArray.removeAt(e)}removeServiceBanner(e){this.servicesArray.length<=1||this.servicesArray.removeAt(e)}removeSocialMediaBanner(e){this.socialMediaArray.length<=1||this.socialMediaArray.removeAt(e)}selectImage(e,t){this.form.get(t)?.setValue(e||null)}selectHomeBannerArray(e,t){this.homeBannersArray.at(t).get("image_url")?.setValue(e||null)}selectServiceImage(e,t){this.servicesArray.at(t).get("image_url")?.setValue(e||null)}selectSocialMediaImage(e,t){this.socialMediaArray.at(t).get("image_url")?.setValue(e||null)}concatDynamicProductKeys(e){let t=[];function s(b){if(Array.isArray(b))b.forEach(s);else if(b!==null&&typeof b=="object")for(let[v,S]of Object.entries(b))v==="product_ids"&&Array.isArray(S)&&S.every(et=>typeof et=="number")?t.push(...S):v==="product_ids"&&typeof S=="number"?t.push(S):s(S)}return s(e),t}submit(){let e=Array.from(new Set(this.concatDynamicProductKeys(this.form.value)));this.form.get("content.products_ids")?.setValue(e),this.form.valid&&this.store.dispatch(new Ze(this.page_data.id,this.form.value))}};m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=ne({type:m,selectors:[["app-goggles"]],decls:58,vars:30,consts:[["nav","ngbNav"],["template",""],[3,"gridClass","title"],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"vertical-tabs"],[1,"row"],[1,"col-xl-3","col-lg-4"],["ngbNav","","orientation","vertical","formGroupName","content",1,"nav-pills",3,"activeIdChange","activeId"],["ngbNavItem","home_banner"],["ngbNavLink",""],[1,"ri-record-circle-line"],["ngbNavContent",""],["ngbNavItem","services"],["ngbNavItem","offer_banner"],["ngbNavItem","products_list"],["ngbNavItem","full_banner"],["ngbNavItem","category_product"],["ngbNavItem","social_media"],["ngbNavItem","brand"],[1,"col-xl-7","col-lg-8"],[3,"ngbNavOutlet"],[3,"id",4,"hasPermission"],["formGroupName","home_banner"],[3,"click","id","spinner"],[1,"shipping-accordion","variant-accordion"],["formArrayName","banners"],[1,"d-flex",3,"formGroupName"],[1,"col-11"],["ngbAccordion",""],["ngbAccordionItem","",3,"collapsed"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"col-1","text-center","fs-20"],["href","javascript:void(0)",1,"invalid-feedback","text-end","cursor-pointer","d-inline-block","w-auto","mt-2",3,"click"],[1,"ri-close-line"],[3,"label","for"],[3,"selectedFiles","url","accept","multipleImage","helpText","imageUrl"],[3,"productFilter","products","linkForm"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],["formGroupName","services"],["id","title","type","text","formControlName","title",1,"form-control",3,"placeholder"],["id","description","type","text","formControlName","description",1,"form-control",3,"placeholder"],["formGroupName","offer_banner"],[1,"inside-horizontal-tabs"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],[1,"mt-3",3,"ngbNavOutlet"],["formGroupName","banner_1"],["formGroupName","banner_2"],["formGroupName","banner_3"],["formGroupName","products_list"],["id","tag","type","text","formControlName","tag",1,"form-control",3,"placeholder"],["formControlName","product_ids","multiple","true","resettable","",1,"custom-select",3,"templates","data","placeholder","noResultMessage","customSearchEnabled"],["formControlName","product_ids","multiple","true","resettable","",1,"custom-select",3,"close","search","templates","data","placeholder","noResultMessage","customSearchEnabled"],[1,"image"],["alt","img",3,"src"],["formGroupName","full_banner"],[3,"selectedFiles","url","multipleImage","accept","helpText","imageUrl"],["formGroupName","category_product"],[3,"selectedItem","position","selectedOption","options","subArrayKey"],["formGroupName","social_media"],["formGroupName","brand"],["formControlName","brand_ids","multiple","true",1,"custom-select",3,"data","placeholder","noResultMessage"],[3,"id"]],template:function(t,s){if(t&1){let b=w();o(0,"app-page-wrapper",2)(1,"form",3),x("ngSubmit",function(){return g(b),f(s.submit())}),o(2,"div",4)(3,"div",5)(4,"div",6)(5,"ul",7,0),J("activeIdChange",function(S){return g(b),K(s.active,S)||(s.active=S),f(S)}),o(7,"li",8)(8,"a",9),u(9,"i",10),h(10),d(11,"translate"),r(),C(12,rt,5,8,"ng-template",11),r(),o(13,"li",12)(14,"a",9),u(15,"i",10),h(16),d(17,"translate"),r(),C(18,st,5,8,"ng-template",11),r(),o(19,"li",13)(20,"a",9),u(21,"i",10),h(22),d(23,"translate"),r(),C(24,_t,20,14,"ng-template",11),r(),o(25,"li",14)(26,"a",9),u(27,"i",10),h(28),d(29,"translate"),r(),C(30,gt,18,25,"ng-template",11),r(),o(31,"li",15)(32,"a",9),u(33,"i",10),h(34),d(35,"translate"),r(),C(36,ft,11,18,"ng-template",11),r(),o(37,"li",16)(38,"a",9),u(39,"i",10),h(40),d(41,"translate"),r(),C(42,bt,10,13,"ng-template",11),r(),o(43,"li",17)(44,"a",9),u(45,"i",10),h(46),d(47,"translate"),r(),C(48,ht,13,16,"ng-template",11),r(),o(49,"li",18)(50,"a",9),u(51,"i",10),h(52),d(53,"translate"),r(),C(54,Ct,8,5,"ng-template",11),r()()(),o(55,"div",19),u(56,"div",20),r()(),C(57,kt,3,4,"app-button",21),r()()()}if(t&2){let b=z(6);l("gridClass","col-sm-12")("title","goggles_settings"),n(),l("formGroup",s.form),n(4),W("activeId",s.active),n(5),F(_(11,14,"home_banner")),n(6),F(_(17,16,"services")),n(6),F(_(23,18,"offer_banner")),n(6),F(_(29,20,"products_list")),n(6),F(_(35,22,"full_banner")),n(6),F(_(41,24,"category_product")),n(6),F(_(47,26,"social_media")),n(6),F(_(53,28,"brand")),n(4),l("ngbNavOutlet",b),n(),l("hasPermission","theme.edit")}},dependencies:[le,$e,ve,_e,pe,se,ce,de,xe,me,fe,ue,ge,Ue,Me,Oe,Ne,we,Se,ke,Ce,ye,he,Be,Ve,Fe,Ee,Ie,Ge,Ae,De,He,We,Pe,Je,Xe,ae,Te],encapsulation:2});let a=m;return a})();export{ni as Goggles};
