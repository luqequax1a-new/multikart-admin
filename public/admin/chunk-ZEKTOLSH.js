import{a as Q}from"./chunk-GG7AHMIJ.js";import{Ia as A,qa as w,sa as c,ta as y,ua as d}from"./chunk-IKKQDHIF.js";import{d as f}from"./chunk-EY6JDCC6.js";import{$ as p,ea as u,ja as a,l as o}from"./chunk-KIZZVTEV.js";import{a as h,b as m}from"./chunk-4CLCTAJ7.js";var x=(()=>{let t=class t{constructor(e){this.payload=e}};t.type="[Question] Get";let s=t;return s})(),q=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Question] Edit";let s=t;return s})(),S=(()=>{let t=class t{constructor(e,l){this.payload=e,this.id=l}};t.type="[Question] put";let s=t;return s})(),g=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Question] Delete";let s=t;return s})(),v=(()=>{let t=class t{constructor(e){this.ids=e}};t.type="[Question] Delete All";let s=t;return s})();var j=(()=>{let t=class t{constructor(){this.http=a(f)}getQuestionAnswers(e){return this.http.get(`${Q.URL}/question-and-answer.json`,{params:e})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var r,i=(r=class{constructor(){this.store=a(w),this.notificationService=a(A),this.questionsAnswersService=a(j)}static questionAnswers(t){return t.question}static selectedQuestionAnswers(t){return t.selectedQuestion}getQuestionAnswers(t,n){return this.questionsAnswersService.getQuestionAnswers(n.payload).pipe(p({next:e=>{t.patchState({question:{data:e.data,total:e?.total?e?.total:e.data?.length}})},error:e=>{throw new Error(e?.error?.message)}}))}edit(t,{id:n}){return this.questionsAnswersService.getQuestionAnswers().pipe(p({next:e=>{let l=t.getState(),I=e.data.find(b=>b.id==n);t.patchState(m(h({},l),{selectedQuestion:I}))},error:e=>{throw new Error(e?.error?.message)}}))}update(t,{payload:n,id:e}){}delete(t,{id:n}){}deleteAll(t,{ids:n}){}},r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u({token:r,factory:r.\u0275fac}),r);o([c(x)],i.prototype,"getQuestionAnswers",null);o([c(q)],i.prototype,"edit",null);o([c(S)],i.prototype,"update",null);o([c(g)],i.prototype,"delete",null);o([c(v)],i.prototype,"deleteAll",null);o([d()],i,"questionAnswers",null);o([d()],i,"selectedQuestionAnswers",null);i=o([y({name:"question",defaults:{question:{data:[],total:0},selectedQuestion:null}})],i);export{x as a,S as b,g as c,v as d,i as e};
