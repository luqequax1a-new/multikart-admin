import{a as te,b as oe,c as re,d as ne}from"./chunk-OZNJGL5F.js";import{b as X,c as Y,e as Z,h as ee}from"./chunk-UJOUVEQA.js";import{a as ie}from"./chunk-Y2Z4WWCH.js";import{l as K,m as Q}from"./chunk-HMBOAMDM.js";import{a as W}from"./chunk-MLWMDQKS.js";import{B as L,C as O,D as $,d as G,e as _,g as V,h as k,k as g,m as P,q as U,qa as J,t as j}from"./chunk-IKKQDHIF.js";import{e as D,g as R}from"./chunk-OTODDIHK.js";import{c as H,d as z}from"./chunk-AWERIOQH.js";import{Bc as b,Ed as I,Fc as T,Ib as m,Ja as M,Kb as c,Lc as p,Mc as d,Pb as n,Qb as l,Rb as a,Sb as v,Y as B,Yc as A,Z as F,bb as i,bc as x,dc as C,g as N,ja as s,n as S,ob as q,rc as f,sc as y,t as w,tc as E}from"./chunk-KIZZVTEV.js";var le=()=>[];function ae(e,o){e&1&&(l(0,"div",3),f(1),p(2,"translate"),a()),e&2&&(i(),y(d(2,1,"title_is_required")))}function pe(e,o){if(e&1&&v(0,"ngx-editor-menu",8)(1,"ngx-editor",9),e&2){let u=C();n("editor",u.editor),i(),n("editor",u.editor)("placeholder","Type here...")}}function de(e,o){e&1&&(l(0,"div",3),f(1),p(2,"translate"),a()),e&2&&(i(),y(d(2,1,"description_is_required")))}function se(e,o){if(e&1&&(v(0,"select2",6),p(1,"translate"),p(2,"translate")),e&2){let u=C();n("noResultMessage",b(d(1,4,"no_data_found")))("data",u.priority.length?u.priority:T(8,le))("placeholder",d(2,6,"select_notice"))}}function me(e,o){e&1&&(l(0,"div",3),f(1),p(2,"translate"),a()),e&2&&(i(),y(d(2,1,"priority_select_is_required")))}var Ae=(()=>{let o=class o{constructor(){this.store=s(J),this.router=s(R),this.route=s(D),this.formBuilder=s(L),this.type=A(void 0),this.priority=[{label:"High",value:"high"},{label:"Low",value:"low"}],this.destroy$=new N;let r=s(M);this.isBrowser=I(r),this.form=this.formBuilder.group({title:new g("",[_.required]),description:new g("",[_.required]),priority:new g("",[_.required])})}ngOnInit(){this.route.params.pipe(B(r=>r.id?this.store.dispatch(new Y(r.id)).pipe(w(()=>this.store.select(ee.selectedNotice))):S()),F(this.destroy$)).subscribe(r=>{this.notice=r,this.form.patchValue({title:this.notice?.title,description:this.notice?.description,priority:this.notice?.priority})}),this.isBrowser&&(this.editor=new ne)}submit(){this.form.markAllAsTouched();let r=new X(this.form.value);this.type()=="edit"&&this.notice?.id&&(r=new Z(this.form.value,this.notice.id)),this.form.valid&&this.store.dispatch(r).subscribe({complete:()=>{this.router.navigateByUrl("/notice")}})}};o.\u0275fac=function(h){return new(h||o)},o.\u0275cmp=q({type:o,selectors:[["app-form-notice"]],inputs:{type:[1,"type"]},decls:15,vars:22,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","name","title","formControlName","title",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[1,"custom-editor"],[3,"label","for"],["formControlName","priority","resettable","","multiple","false",1,"custom-select",3,"data","placeholder","noResultMessage"],[3,"id"],[3,"editor"],["formControlName","description",3,"editor","placeholder"]],template:function(h,t){h&1&&(l(0,"form",0),x("ngSubmit",function(){return t.submit()}),l(1,"app-form-fields",1),v(2,"input",2),p(3,"translate"),m(4,ae,3,3,"div",3),a(),l(5,"app-form-fields",1)(6,"div",4),m(7,pe,2,3),a(),m(8,de,3,3,"div",3),a(),l(9,"app-form-fields",5),m(10,se,3,9,"select2",6),m(11,me,3,3,"div",3),a(),l(12,"app-button",7),f(13),p(14,"translate"),a()()),h&2&&(n("formGroup",t.form),i(),n("label","title")("for","title")("required",!0),i(),n("placeholder",b(d(3,18,"enter_title"))),i(2),c(t.form.controls.title.touched&&(t.form.controls.title.errors!=null&&t.form.controls.title.errors.required)?4:-1),i(),n("label","description")("for","description")("required",!0),i(2),c(t.isBrowser?7:-1),i(),c(t.form.controls.description.touched&&(t.form.controls.description.errors!=null&&t.form.controls.description.errors.required)?8:-1),i(),n("label","priority")("for","priority"),i(),c(t.isBrowser?10:-1),i(),c(t.form.controls.priority.touched&&(t.form.controls.priority.errors!=null&&t.form.controls.priority.errors.required)?11:-1),i(),n("id","notice_btn"),i(),E(" ",d(14,20,t.type()==="create"?"save_notice":"update_notice")," "))},dependencies:[z,O,P,G,V,k,$,U,j,re,te,oe,Q,K,ie,W,H],encapsulation:2});let e=o;return e})();export{Ae as a};
