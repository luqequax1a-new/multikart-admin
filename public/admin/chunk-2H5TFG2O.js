import{a as b}from"./chunk-AKCHXNCO.js";import{qa as g,sa as p,ta as y,ua as u}from"./chunk-IKKQDHIF.js";import{$ as m,ea as v,ja as c,l}from"./chunk-KIZZVTEV.js";import{a as d,b as h}from"./chunk-4CLCTAJ7.js";var x=(()=>{let e=class e{};e.type="[Sidebar] Get";let r=e;return r})(),f=(()=>{let e=class e{constructor(t){this.payload=t}};e.type="[Sidebar] Badges Get";let r=e;return r})(),o=(()=>{let e=class e{constructor(t,i){this.path=t,this.badgeValue=i}};e.type="[Sidebar] Update Badge";let r=e;return r})();var _=[{id:1,title:"dashboard",path:"/dashboard",active:!1,icon:"ri-home-line",type:"sub",level:1},{id:2,title:"users",active:!1,icon:"ri-contacts-line",type:"sub",level:1,acl_permission:["user.index","user.create","role.index"],children:[{parent_id:2,title:"add user",path:"/user/create",type:"link",level:2,permission:["user.index","user.create"]},{parent_id:2,title:"all users",path:"/user",type:"link",level:2,permission:["user.index"]},{parent_id:2,title:"role",path:"/role",type:"link",level:2,permission:["role.index"]}]},{id:3,title:"products",active:!1,icon:"ri-box-3-line",type:"sub",level:1,acl_permission:["product.index","product.create","category.index","attribute.index","tag.index","brand.index"],children:[{parent_id:3,title:"add product",path:"/product/create",type:"link",level:2,permission:["product.index","product.create"]},{parent_id:3,title:"all products",path:"/product",type:"link",level:2,permission:["product.index"]},{parent_id:3,title:"categories",path:"/category",type:"link",level:2,permission:["category.index"]},{parent_id:3,title:"attributes",path:"/attribute",type:"link",level:2,permission:["attribute.index"]},{parent_id:3,title:"tags",path:"/tag",type:"link",level:2,permission:["tag.index"]},{parent_id:3,title:"brands",path:"/brand",type:"link",level:2,permission:["brand.index"]}]},{id:4,title:"stores",active:!1,icon:"ri-store-2-line",type:"sub",level:1,acl_permission:["store.index","store.create","vendor_wallet.index","commission_history.index","withdraw_request.index"],children:[{parent_id:4,title:"add store",path:"/store/create",type:"link",level:2,permission:["store.index","store.create"]},{parent_id:4,title:"all stores",path:"/store",type:"link",badgeType:"badge bg-theme text-dark ml-3",badgeValue:0,level:2,permission:["store.index"]},{parent_id:4,title:"wallet",path:"/vendor-wallet",type:"link",level:2,permission:["vendor_wallet.index"]},{parent_id:4,title:"commission history",path:"/commission",type:"link",level:2,permission:["commission_history.index"]},{parent_id:4,title:"payout details",path:"/payment-details",type:"link",level:2,canAllow:["vendor"],permission:["withdraw_request.index"]},{parent_id:4,title:"withdrawal",path:"/withdrawal",type:"link",badgeType:"badge bg-danger ml-3",badgeValue:0,level:2,permission:["withdraw_request.index"]}]},{id:5,title:"orders",active:!1,icon:"ri-list-unordered",type:"sub",level:1,acl_permission:["order.index","order.create"],children:[{parent_id:5,title:"all orders",path:"/order",type:"link",level:2,permission:["order.index"]},{parent_id:5,title:"create order",path:"/order/create",type:"link",level:2,permission:["order.index","order.create"]}]},{id:6,title:"media",path:"/media",active:!1,icon:"ri-image-line",type:"sub",level:1,permission:["attachment.index"]},{id:7,title:"blog",active:!1,icon:"ri-article-line",type:"sub",level:1,acl_permission:["blog.index"],children:[{parent_id:7,title:"all blogs",path:"/blog",type:"link",level:2,permission:["blog.index"]},{parent_id:7,title:"categories",path:"/blog/category",type:"link",level:2,permission:["category.index"]},{parent_id:7,title:"tags",path:"/blog/tag",type:"link",level:2,permission:["tag.index"]}]},{id:8,title:"pages",path:"/page",active:!1,icon:"ri-pages-line",type:"sub",level:1,permission:["page.index"]},{id:9,title:"taxes",path:"/tax",active:!1,icon:"ri-percent-line",type:"sub",level:1,permission:["tax.index"]},{id:10,title:"shipping",path:"/shipping",active:!1,icon:"ri-truck-line",type:"sub",level:1,permission:["shipping.index"]},{id:11,title:"coupons",path:"/coupon",active:!1,icon:"ri-coupon-2-line",type:"sub",level:1,permission:["coupon.index"]},{id:12,title:"currencies",path:"/currency",active:!1,icon:"ri-currency-fill",type:"sub",level:1,permission:["currency.index"]},{id:13,title:"points",path:"/point",active:!1,icon:"ri-coins-line",type:"sub",level:1,permission:["point.index"]},{id:14,title:"wallet",path:"/wallet",active:!1,icon:"ri-wallet-line",type:"sub",level:1,permission:["wallet.index"]},{id:15,title:"refund",path:"/refund",active:!1,icon:"ri-exchange-dollar-line",type:"sub",badgeType:"badge bg-danger ml-3",badgeValue:0,level:1,permission:["refund.index"]},{id:16,title:"reviews",path:"/review",active:!1,icon:"ri-star-line",type:"sub",level:1,permission:["review.index"]},{id:17,title:"faqs",path:"/faq",active:!1,icon:"ri-questionnaire-line",type:"sub",level:1,permission:["faq.index"]},{id:18,title:"notice",path:"/notice",active:!1,icon:"ri-article-line",type:"sub",level:1,permission:["notice.index"]},{id:19,title:"Subscription",path:"/subscription",active:!1,icon:"ri-settings-3-line",type:"sub",level:1,permission:["subscribe.index"]},{id:20,title:"store front",active:!1,icon:"ri-window-line",type:"sub",level:1,acl_permission:["theme.index","theme_option.index"],children:[{parent_id:20,title:"themes",path:"/theme",type:"link",level:2,permission:["theme.index"]},{parent_id:20,title:"theme options",path:"/theme-option",type:"link",level:2,permission:["theme_option.index"]},{parent_id:20,title:"Menu",path:"/menu",type:"link",level:2,permission:["theme_option.index"]}]},{id:21,title:"Katalog Y\xF6netimi",active:!1,icon:"ri-folder-3-line",type:"sub",level:1,children:[{parent_id:21,title:"\xDCr\xFCnler",path:"/product",type:"link",level:2,icon:"ri-box-3-line"},{parent_id:21,title:"Birim",path:"/units",type:"link",level:2,icon:"ri-ruler-line"}]},{id:23,title:"settings",path:"/setting",active:!1,icon:"ri-settings-3-line",type:"sub",level:1,permission:["setting.index"]}];var a,s=(a=class{constructor(){this.store=c(g),this.navService=c(b)}static menu(e){return e.menu}static badges(e){return e.badges}updateBadgeValueRecursive(e,n,t){for(let i of e){if(i.path&&i.path.toString()==n.toString()){i.badgeValue=t;break}i.children&&this.updateBadgeValueRecursive(i.children,n,t)}}getMenu(e){e.patchState({menu:{data:_}})}getBadges(e,n){return this.navService.getBadges(n.payload).pipe(m({next:t=>{let i=e.getState();e.patchState(h(d({},i),{badges:t})),this.store.dispatch(new o("/product",t?.product?.total_in_approved_products)),this.store.dispatch(new o("/store",t?.store?.total_in_approved_stores)),this.store.dispatch(new o("/refund",t?.refund?.total_pending_refunds)),this.store.dispatch(new o("/withdrawal",t?.withdraw_request?.total_pending_withdraw_requests))},error:t=>{throw new Error(t?.error?.message)}}))}updateBadgeValue(e,{path:n,badgeValue:t}){let i=e.getState();this.updateBadgeValueRecursive(i?.menu?.data,n,t),e.patchState(d({},i))}},a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=v({token:a,factory:a.\u0275fac}),a);l([p(x)],s.prototype,"getMenu",null);l([p(f)],s.prototype,"getBadges",null);l([p(o)],s.prototype,"updateBadgeValue",null);l([u()],s,"menu",null);l([u()],s,"badges",null);s=l([y({name:"sidebar",defaults:{menu:{data:[]},badges:null}})],s);export{x as a,f as b,_ as c,s as d};
