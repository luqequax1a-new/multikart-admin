import{a as x}from"./chunk-GG7AHMIJ.js";import{Ia as P,qa as f,sa as c,ta as y,ua as d}from"./chunk-IKKQDHIF.js";import{d as m}from"./chunk-EY6JDCC6.js";import{$ as u,ea as n,ja as l,l as o}from"./chunk-KIZZVTEV.js";import{a as g,b as h}from"./chunk-4CLCTAJ7.js";var S=(()=>{let t=class t{constructor(a){this.payload=a}};t.type="[Page] Get";let e=t;return e})(),v=(()=>{let t=class t{constructor(a){this.payload=a}};t.type="[Page] Create";let e=t;return e})(),j=(()=>{let t=class t{constructor(a){this.id=a}};t.type="[Page] Edit";let e=t;return e})(),w=(()=>{let t=class t{constructor(a,p){this.payload=a,this.id=p}};t.type="[Page] Update";let e=t;return e})(),b=(()=>{let t=class t{constructor(a,p){this.id=a,this.status=p}};t.type="[Page] Update Status";let e=t;return e})(),I=(()=>{let t=class t{constructor(a){this.id=a}};t.type="[Page] Delete";let e=t;return e})(),A=(()=>{let t=class t{constructor(a){this.ids=a}};t.type="[Page] Delete All";let e=t;return e})();var E=(()=>{let t=class t{constructor(){this.http=l(m)}getPages(a){return this.http.get(`${x.URL}/page.json`,{params:a})}};t.\u0275fac=function(p){return new(p||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var i,s=(i=class{constructor(){this.store=l(f),this.notificationService=l(P),this.pageService=l(E)}static page(t){return t.page}static pages(t){return t.page.data.map(r=>({label:r?.title,value:r?.slug}))}static selectedPage(t){return t.selectedPage}getPages(t,r){return this.pageService.getPages(r.payload).pipe(u({next:a=>{t.patchState({page:{data:a.data,total:a?.total?a?.total:a.data?.length}})},error:a=>{throw new Error(a?.error?.message)}}))}create(t,r){}edit(t,{id:r}){return this.pageService.getPages().pipe(u({next:a=>{let p=t.getState(),U=a.data.find(k=>k.id==r);t.patchState(h(g({},p),{selectedPage:U}))},error:a=>{throw new Error(a?.error?.message)}}))}update(t,{payload:r,id:a}){}updateStatus(t,{id:r,status:a}){}delete(t,{id:r}){}deleteAll(t,{ids:r}){}},i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=n({token:i,factory:i.\u0275fac}),i);o([c(S)],s.prototype,"getPages",null);o([c(v)],s.prototype,"create",null);o([c(j)],s.prototype,"edit",null);o([c(w)],s.prototype,"update",null);o([c(b)],s.prototype,"updateStatus",null);o([c(I)],s.prototype,"delete",null);o([c(A)],s.prototype,"deleteAll",null);o([d()],s,"page",null);o([d()],s,"pages",null);o([d()],s,"selectedPage",null);s=o([y({name:"page",defaults:{page:{data:[],total:0},selectedPage:null}})],s);export{S as a,v as b,j as c,w as d,b as e,I as f,A as g,s as h};
