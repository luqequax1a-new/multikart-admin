import{a as Ze}from"./chunk-EOJ72O7D.js";import{a as Qe}from"./chunk-RSBT43UQ.js";import{c as Xe,d as Ye,e as D}from"./chunk-L64HS5AO.js";import{a as Je,i as qe}from"./chunk-FDG3HQPX.js";import{a as Le}from"./chunk-N7TZOU7O.js";import{a as Oe}from"./chunk-Q2HG4MQ4.js";import{b as He}from"./chunk-I4EG6FBQ.js";import{b as Re}from"./chunk-SPPECMGV.js";import{a as We}from"./chunk-DRWHSBYU.js";import{a as ze}from"./chunk-LCVX2N4P.js";import"./chunk-M3HD75V3.js";import{a as Ke}from"./chunk-Y2Z4WWCH.js";import"./chunk-QVI36XHK.js";import{l as $e,m as Me}from"./chunk-HMBOAMDM.js";import{a as je}from"./chunk-7RQBIUSJ.js";import{a as V}from"./chunk-VO736VT2.js";import"./chunk-DNDGKAFO.js";import{a as Ue}from"./chunk-3ARB4UI6.js";import"./chunk-HD5XXWEJ.js";import"./chunk-HJPVTB2W.js";import{a as De}from"./chunk-MLWMDQKS.js";import{a as Ge}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import"./chunk-5DTRVH74.js";import"./chunk-GG7AHMIJ.js";import{$ as Ne,A as ue,B as fe,C as ge,D as be,E as he,F as ye,G as ve,H as xe,I as we,J as Ce,X as Fe,Y as ke,Z as Se,_ as Be,aa as Ee,ba as Ae,c as ae,d as oe,fa as Ie,g as le,h as se,i as v,k as p,m as pe,q as ce,qa as N,r as de,s as me,t as _e}from"./chunk-IKKQDHIF.js";import"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as Ve,d as Te}from"./chunk-AWERIOQH.js";import{Ac as te,Ad as ne,Bc as A,Ed as re,Fc as B,Gc as I,Ib as $,J as j,Ja as R,Kb as M,Lc as c,Mb as z,Mc as d,Nb as W,Ob as J,Pb as o,Qb as l,Rb as r,Sb as _,Wb as q,Xb as Q,_b as F,bb as n,bc as y,dc as m,g as U,gb as H,ja as x,mc as X,ob as K,qa as b,qc as Y,ra as h,rc as w,sc as S,tc as G,td as ie,ub as C,uc as Z,va as L,x as O,yc as P,zc as ee}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var T=a=>[a],E=()=>[];function et(a,u){if(a&1){let i=F();l(0,"div",20)(1,"app-form-fields",21)(2,"app-image-upload",22),y("selectedFiles",function(t){b(i);let s=m();return h(s.selectBanner(t,"content.home_banner.image_url"))}),r()(),l(3,"app-link",23),c(4,"async"),c(5,"async"),y("productFilter",function(t){b(i);let s=m();return h(s.getProducts(t))}),r(),l(6,"app-form-fields",21)(7,"div",24)(8,"label",25),_(9,"input",26)(10,"span",27),r()()()()}if(a&2){let i,e,t=m();n(),o("label","image")("for","image_url"),n(),o("url",!0)("multipleImage",!1)("accept",I(15,T,t.mediaConfig.image))("helpText","*Upload image size 1920x637px recommended")("imageUrl",(i=t.form.get("content.home_banner.image_url"))==null?null:i.value),n(),o("products",(e=d(4,11,t.product$))!=null&&e.length?d(5,13,t.product$):B(17,E))("linkForm",t.form.get("content.home_banner.redirect_link")),n(3),o("label","status")("for","status")}}function tt(a,u){if(a&1){let i=F();l(0,"div",28)(1,"div",29)(2,"app-form-fields",21),_(3,"input",30),c(4,"translate"),r(),l(5,"app-form-fields",21)(6,"app-advance-dropdown",31),c(7,"async"),c(8,"async"),y("selectedItem",function(t){b(i);let s=m();return h(s.selectCategoryItem(t,"content.categories.category_ids"))}),r()(),l(9,"app-form-fields",21)(10,"div",24)(11,"label",25),_(12,"input",26)(13,"span",27),r()()()()()}if(a&2){let i,e=m();n(2),o("label","title")("for","title"),n(),o("placeholder",A(d(4,12,"enter_title"))),n(2),o("label","category")("for","category"),n(),o("position","bottom")("selectedOption",e.selectedCategories)("options",!((i=d(7,14,e.category$))==null||i.data==null)&&i.data.length?(i=d(8,16,e.category$))==null?null:i.data:B(18,E))("subArrayKey","subcategories"),n(3),o("label","status")("for","status")}}function it(a,u){if(a&1){let i=F();l(0,"div",32)(1,"app-form-fields",21)(2,"app-image-upload",22),y("selectedFiles",function(t){b(i);let s=m();return h(s.selectBanner(t,"content.deals_banner.image_url"))}),r()(),l(3,"app-link",23),c(4,"async"),c(5,"async"),y("productFilter",function(t){b(i);let s=m();return h(s.getProducts(t))}),r(),l(6,"app-form-fields",21)(7,"div",24)(8,"label",25),_(9,"input",26)(10,"span",27),r()()()()}if(a&2){let i,e,t=m();n(),o("label","image")("for","image_url"),n(),o("url",!0)("multipleImage",!1)("accept",I(15,T,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(i=t.form.get("content.deals_banner.image_url"))==null?null:i.value),n(),o("products",(e=d(4,11,t.product$))!=null&&e.length?d(5,13,t.product$):B(17,E))("linkForm",t.form.get("content.deals_banner.redirect_link")),n(3),o("label","status")("for","status")}}function nt(a,u){if(a&1){let i=F();l(0,"div",33)(1,"app-form-fields",21),_(2,"input",30),c(3,"translate"),r(),l(4,"app-form-fields",21)(5,"app-advance-dropdown",31),c(6,"async"),c(7,"async"),y("selectedItem",function(t){b(i);let s=m();return h(s.selectCategoryItem(t,"content.category_product.category_ids"))}),r()(),l(8,"app-form-fields",21)(9,"div",24)(10,"label",25),_(11,"input",26)(12,"span",27),r()()()()}if(a&2){let i,e=m();n(),o("label","title")("for","title"),n(),o("placeholder",A(d(3,12,"enter_title"))),n(2),o("label","categories")("for","type"),n(),o("position","bottom")("selectedOption",e.selectedCategoriesProduct)("options",!((i=d(6,14,e.category$))==null||i.data==null)&&i.data.length?(i=d(7,16,e.category$))==null?null:i.data:B(18,E))("subArrayKey","subcategories"),n(3),o("label","status")("for","status")}}function rt(a,u){if(a&1){let i=F();l(0,"div",34)(1,"app-form-fields",21)(2,"app-image-upload",22),y("selectedFiles",function(t){b(i);let s=m();return h(s.selectBanner(t,"content.offer_banner.image_url"))}),r()(),l(3,"app-link",23),c(4,"async"),c(5,"async"),y("productFilter",function(t){b(i);let s=m();return h(s.getProducts(t))}),r(),l(6,"app-form-fields",21)(7,"div",24)(8,"label",25),_(9,"input",26)(10,"span",27),r()()()()}if(a&2){let i,e,t=m();n(),o("label","image")("for","image_url"),n(),o("url",!0)("multipleImage",!1)("accept",I(15,T,t.mediaConfig.image))("helpText","*Upload image size 375x586px recommended")("imageUrl",(i=t.form.get("content.offer_banner.image_url"))==null?null:i.value),n(),o("products",(e=d(4,11,t.product$))!=null&&e.length?d(5,13,t.product$):B(17,E))("linkForm",t.form.get("content.offer_banner.redirect_link")),n(3),o("label","status")("for","status")}}function at(a,u){if(a&1){let i=F();l(0,"app-form-fields",21)(1,"app-image-upload",22),y("selectedFiles",function(t){b(i);let s=m().$index,g=m(3);return h(g.selectSocialMediaImage(t,s))}),r()(),l(2,"app-link",23),c(3,"async"),c(4,"async"),y("productFilter",function(t){b(i);let s=m(4);return h(s.getProducts(t))}),r(),l(5,"app-form-fields",21)(6,"div",24)(7,"label",25),_(8,"input",26)(9,"span",27),r()()()}if(a&2){let i,e,t=m(),s=t.$implicit,g=t.$index,f=m(3);o("label","image")("for","image_url"),n(),o("url",!0)("multipleImage",!1)("accept",I(15,T,f.mediaConfig.image))("helpText","*Upload image size 375x586px recommended")("imageUrl",(i=f.form.get("content.social_media.banners"))==null?null:i.value[g].image_url),n(),o("products",(e=d(3,11,f.product$))!=null&&e.length?d(4,13,f.product$):B(17,E))("linkForm",s.get("redirect_link")),n(3),o("label","status")("for","status")}}function ot(a,u){if(a&1){let i=F();l(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"div",42)(5,"button",43),w(6),c(7,"translate"),r()(),l(8,"div",44)(9,"div",45),C(10,at,10,18,"ng-template"),r()()()()(),l(11,"div",46)(12,"a",47),y("click",function(){let t=b(i).$index,s=m(3);return h(s.removeSocialMediaBanner(t))}),_(13,"i",48),r()()()}if(a&2){let i=u.$index;o("formGroupName",A(i)),n(3),o("collapsed",!1),n(3),Z(" ",d(7,5,"social_media")," ",i+1," ")}}function lt(a,u){if(a&1&&(l(0,"div",29)(1,"div",37),q(2),W(3,ot,14,7,"div",38,z),Q(),r()()),a&2){let i=m(2);n(3),J(i.socialMediaArray.controls)}}function st(a,u){if(a&1){let i=F();l(0,"div",35)(1,"app-form-fields",21),_(2,"input",30),c(3,"translate"),r(),l(4,"app-form-fields",21)(5,"div",24)(6,"label",25),_(7,"input",26)(8,"span",27),r()()(),l(9,"app-button",36),y("click",function(t){b(i);let s=m();return h(s.addSocialMediaBanner(t))}),w(10),c(11,"translate"),r(),$(12,lt,5,0,"div",29),r()}if(a&2){let i=m();n(),o("label","title")("for","title"),n(),o("placeholder",A(d(3,12,"enter_title"))),n(2),o("label","status")("for","status"),n(5),Y("btn btn-animation mb-3"),o("id","add_banners_btn")("spinner",!1),n(),G(" ",d(11,14,"add_banners")," "),n(2),M(!(i.socialMediaArray==null||i.socialMediaArray.controls==null)&&i.socialMediaArray.controls.length?12:-1)}}function pt(a,u){if(a&1&&(_(0,"select2",50),c(1,"translate"),c(2,"async"),c(3,"async"),c(4,"translate")),a&2){let i,e=m(2);o("noResultMessage",A(d(1,4,"no_data_found")))("data",(i=d(2,6,e.brand$))!=null&&i.length?d(3,8,e.brand$):B(12,E))("placeholder",d(4,10,"select_brand"))}}function ct(a,u){if(a&1&&(l(0,"div",49)(1,"app-form-fields",21),$(2,pt,5,13,"select2",50),r(),l(3,"app-form-fields",21)(4,"div",24)(5,"label",25),_(6,"input",26)(7,"span",27),r()()()()),a&2){let i=m();n(),o("label","brand")("for","type"),n(),M(i.isBrowser?2:-1),n(),o("label","status")("for","status")}}function dt(a,u){a&1&&(l(0,"app-button",51),w(1),c(2,"translate"),r()),a&2&&(o("id","theme_5_submit"),n(),G(" ",d(2,2,"submit")," "))}var zt=(()=>{let u=class u{constructor(){this.store=x(N),this.formBuilder=x(fe),this.renderer=x(H),this.document=x(L),this.home_page$=x(N).select(D.homePage),this.product$=x(N).select(He.products),this.category$=x(N).select(Re.category),this.blogs$=x(N).select(Le.blogs),this.brand$=x(N).select(qe.brands),this.active="home_banner",this.knockout_deals=1,this.deals=1,this.selectedCategories=[],this.selectedCategoriesProduct=[],this.search=new U,this.filter={status:1,search:"",paginate:15,ids:"",with_union_products:0,is_approved:1},this.mediaConfig=ze;let e=x(R);this.isBrowser=re(e),this.form=new v({content:new v({home_banner:new v({status:new p(!0),image_url:new p(""),redirect_link:new v({link:new p(""),link_type:new p(""),product_ids:new p("")})}),categories:new v({status:new p(!0),title:new p(""),category_ids:new p([])}),deals_banner:new v({title:new p(""),status:new p(!0),image_url:new p(""),redirect_link:new v({link:new p(""),link_type:new p(""),product_ids:new p("")})}),category_product:new v({title:new p(""),category_ids:new p([]),status:new p(!0)}),offer_banner:new v({image_url:new p(""),redirect_link:new v({link:new p(""),link_type:new p(""),product_ids:new p("")}),status:new p}),social_media:new v({status:new p(!0),title:new p(""),banners:new ue([])}),brand:new v({brand_ids:new p(""),status:new p(!1)}),products_ids:new p([])}),slug:new p("fashion_five")})}ngOnInit(){let e=this.store.dispatch(new Oe({status:1})),t=this.store.dispatch(new je({status:1,type:"product"})),s=this.store.dispatch(new Xe({slug:"fashion_five"})),g=this.store.dispatch(new Je({status:1}));O([e,s,t,g]).subscribe({complete:()=>{this.store.select(D.homePage).subscribe({next:f=>{f?.content?.products_ids&&(this.filter.paginate=f?.content?.products_ids?.length>=15?f?.content?.products_ids?.length:15,this.filter.ids=f?.content?.products_ids?.join(),this.filter.with_union_products=f?.content?.products_ids?.length?f?.content?.products_ids?.length>=15?0:1:0),this.store.dispatch(new V(this.filter)).subscribe({complete:()=>{this.patchForm()}})}})}}),this.search.pipe(j(300)).subscribe(f=>{this.store.dispatch(new V({status:1,is_approved:1,paginate:15,search:f})),this.renderer.addClass(this.document.body,"loader-none")})}patchForm(){this.home_page$.subscribe(e=>{this.page_data=e,this.selectedCategories=e.content.categories.category_ids,this.selectedCategoriesProduct=e.content.category_product.category_ids,this.form.patchValue({content:{home_banner:{status:e?.content?.home_banner?.status,image_url:e?.content?.home_banner?.image_url,redirect_link:{link:e?.content?.home_banner?.redirect_link?.link,link_type:e?.content?.home_banner?.redirect_link?.link_type,product_ids:e?.content?.home_banner?.redirect_link?.product_ids}},categories:{status:e?.content?.categories?.status,title:e?.content?.categories?.title,category_ids:e?.content?.categories?.category_ids},deals_banner:{title:e?.content?.deals_banner?.title,status:e?.content?.deals_banner?.status,image_url:e?.content?.deals_banner?.image_url,redirect_link:{link:e?.content?.deals_banner?.redirect_link?.link,link_type:e?.content?.deals_banner?.redirect_link?.link_type,product_ids:e?.content?.deals_banner?.redirect_link?.product_ids}},category_product:{title:e?.content?.category_product?.title,category_ids:this.selectedCategoriesProduct,status:e?.content?.category_product?.status},offer_banner:{status:e?.content?.offer_banner?.status,image_url:e?.content?.offer_banner?.image_url,redirect_link:{link:e?.content?.offer_banner?.redirect_link?.link,link_type:e?.content?.offer_banner?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.redirect_link?.product_ids}},social_media:{title:e?.content.social_media?.title,status:e?.content?.social_media?.status},brand:{brand_ids:e?.content?.brand?.brand_ids,status:e?.content?.brand?.status},products_ids:e?.content?.products_ids},slug:e?.slug}),this.socialMediaArray.clear(),e?.content?.social_media?.banners?.forEach(t=>this.socialMediaArray.push(this.formBuilder.group({redirect_link:new v({link:new p(t?.redirect_link?.link),link_type:new p(t?.redirect_link?.link_type)}),status:new p(t?.status),image_url:new p(t?.image_url)})))})}selectCategoryItem(e,t){Array.isArray(e)&&this.form.get(t)?.setValue(e)}getProducts(e){this.filter.search=e.search,this.filter.ids=this.filter.search.length?"":this.page_data?.content?.products_ids?.join(),this.filter.paginate=this.page_data?.content?.products_ids?.length>=15?this.page_data?.content?.products_ids?.length:15,this.store.dispatch(new V(this.filter)),this.renderer.addClass(this.document.body,"loader-none")}productDropdown(e){e.innerSearchText&&(this.search.next(""),this.getProducts(this.filter))}get socialMediaArray(){return this.form.get("content.social_media.banners")}addSocialMediaBanner(e){e.preventDefault(),this.socialMediaArray.push(this.formBuilder.group({image_url:new p,status:new p(!0)}))}searchProduct(e){this.search.next(e.search)}selectBanner(e,t){this.form.get(t)?.setValue(e||null)}selectSocialMediaImage(e,t){this.socialMediaArray.at(t).get("image_url")?.setValue(e||null)}removeSocialMediaBanner(e){this.socialMediaArray.length<=1||this.socialMediaArray.removeAt(e)}concatDynamicProductKeys(e){let t=[];function s(g){if(Array.isArray(g))g.forEach(s);else if(g!==null&&typeof g=="object")for(let[f,k]of Object.entries(g))f==="product_ids"&&Array.isArray(k)&&k.every(Pe=>typeof Pe=="number")?t.push(...k):s(k)}return s(e),t}submit(){let e=Array.from(new Set(this.concatDynamicProductKeys(this.form.value)));this.form.get("content.products_ids")?.setValue(e),this.form.valid&&this.store.dispatch(new Ye(this.page_data?.id,this.form.value))}};u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=K({type:u,selectors:[["app-fashion-5"]],decls:52,vars:27,consts:[["nav","ngbNav"],[3,"gridClass","title"],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"vertical-tabs"],[1,"row"],[1,"col-xl-3","col-lg-4"],["ngbNav","","orientation","vertical","formGroupName","content",1,"nav-pills",3,"activeIdChange","activeId"],["ngbNavItem","home_banner"],["ngbNavLink",""],[1,"ri-record-circle-line"],["ngbNavContent",""],["ngbNavItem","categories"],["ngbNavItem","deals_banner"],["ngbNavItem","category_product"],["ngbNavItem","offer_banner"],["ngbNavItem","social_media"],["ngbNavItem","brand"],[1,"col-xl-7","col-lg-8"],[3,"ngbNavOutlet"],[3,"id",4,"hasPermission"],["formGroupName","home_banner"],[3,"label","for"],[3,"selectedFiles","url","multipleImage","accept","helpText","imageUrl"],[3,"productFilter","products","linkForm"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],["formGroupName","categories"],[1,"shipping-accordion","variant-accordion"],["id","title","type","text","formControlName","title",1,"form-control",3,"placeholder"],[3,"selectedItem","position","selectedOption","options","subArrayKey"],["formGroupName","deals_banner"],["formGroupName","category_product"],["formGroupName","offer_banner"],["formGroupName","social_media"],[3,"click","id","spinner"],["formArrayName","banners"],[1,"d-flex",3,"formGroupName"],[1,"col-11"],["ngbAccordion",""],["ngbAccordionItem","",3,"collapsed"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"col-1","text-center","fs-20"],["href","javascript:void(0)",1,"invalid-feedback","text-end","cursor-pointer","d-inline-block","w-auto","mt-2",3,"click"],[1,"ri-close-line"],["formGroupName","brand"],["formControlName","brand_ids","multiple","true",1,"custom-select",3,"data","placeholder","noResultMessage"],[3,"id"]],template:function(t,s){if(t&1){let g=F();l(0,"app-page-wrapper",1)(1,"form",2),y("ngSubmit",function(){return b(g),h(s.submit())}),l(2,"div",3)(3,"div",4)(4,"div",5)(5,"ul",6,0),te("activeIdChange",function(k){return b(g),ee(s.active,k)||(s.active=k),h(k)}),l(7,"li",7)(8,"a",8),_(9,"i",9),w(10),c(11,"translate"),r(),C(12,et,11,18,"ng-template",10),r(),l(13,"li",11)(14,"a",8),_(15,"i",9),w(16),c(17,"translate"),r(),C(18,tt,14,19,"ng-template",10),r(),l(19,"li",12)(20,"a",8),_(21,"i",9),w(22),c(23,"translate"),r(),C(24,it,11,18,"ng-template",10),r(),l(25,"li",13)(26,"a",8),_(27,"i",9),w(28),c(29,"translate"),r(),C(30,nt,13,19,"ng-template",10),r(),l(31,"li",14)(32,"a",8),_(33,"i",9),w(34),c(35,"translate"),r(),C(36,rt,11,18,"ng-template",10),r(),l(37,"li",15)(38,"a",8),_(39,"i",9),w(40),c(41,"translate"),r(),C(42,st,13,16,"ng-template",10),r(),l(43,"li",16)(44,"a",8),_(45,"i",9),w(46),c(47,"translate"),r(),C(48,ct,8,5,"ng-template",10),r()()(),l(49,"div",17),_(50,"div",18),r()(),C(51,dt,3,4,"app-button",19),r()()()}if(t&2){let g=X(6);o("gridClass","col-sm-12")("title","fashion_5_settings"),n(),o("formGroup",s.form),n(4),P("activeId",s.active),n(5),S(d(11,13,"home_banner")),n(6),S(d(17,15,"categories")),n(6),S(d(23,17,"deals_banner")),n(6),S(d(29,19,"category_product")),n(6),S(d(35,21,"offer_banner")),n(6),S(d(41,23,"social_media")),n(6),S(d(47,25,"brand")),n(4),o("ngbNavOutlet",g),n(),o("hasPermission","theme.edit")}},dependencies:[ne,Te,ge,pe,oe,ae,le,se,be,ce,_e,de,me,Me,$e,Ue,Ie,ve,Ce,we,xe,he,ye,Fe,Be,Se,ke,Ee,Ne,Ae,Ge,De,Ke,Ze,We,Qe,ie,Ve],encapsulation:2});let a=u;return a})();export{zt as Fashion5};
