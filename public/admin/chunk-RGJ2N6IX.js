import{a as N}from"./chunk-EGIXQ7ZE.js";import"./chunk-VPYJY44D.js";import"./chunk-WPAIU3ME.js";import{a as O}from"./chunk-JCQMHXSD.js";import{a as $,e as j,f as q,g as G,i as H}from"./chunk-KRRVKEPJ.js";import{a as Q}from"./chunk-GJUMWKSA.js";import"./chunk-6TS3CAIM.js";import"./chunk-2MGWSW7E.js";import"./chunk-T5ULGFUG.js";import"./chunk-YJGMUJNE.js";import"./chunk-7RQBIUSJ.js";import"./chunk-VO736VT2.js";import"./chunk-DNDGKAFO.js";import{a as R}from"./chunk-3ARB4UI6.js";import"./chunk-HD5XXWEJ.js";import"./chunk-HJPVTB2W.js";import"./chunk-MLWMDQKS.js";import{a as L}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import"./chunk-5DTRVH74.js";import"./chunk-GG7AHMIJ.js";import{qa as x}from"./chunk-IKKQDHIF.js";import{g as F,h as D,l as E}from"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as I,d as B}from"./chunk-AWERIOQH.js";import{Ad as P,Fc as A,Lc as b,Mc as g,Pb as s,Qb as d,Rb as c,Sb as m,Zc as S,_b as v,bb as r,bc as f,dc as w,ja as u,kc as M,lc as U,ob as V,qa as n,ra as l,rc as _,tc as h,ub as k}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var W=["csvModal"],z=()=>["/user/create"];function J(o,a){if(o&1){let T=v();d(0,"div",5)(1,"a",6),f("click",function(){n(T);let t=w();return l(t.CSVModal().openModal())}),m(2,"i",7),_(3),b(4,"translate"),c(),d(5,"a",6),f("click",function(){n(T);let t=w();return l(t.export())}),m(6,"i",8),_(7),b(8,"translate"),c(),d(9,"a",9),m(10,"i",10),_(11),b(12,"translate"),c()()}o&2&&(r(3),h(" ",g(4,4,"import")," "),r(4),h(" ",g(8,6,"export")," "),r(2),s("routerLink",A(10,z)),r(2),h(" ",g(12,8,"add_user")," "))}var ce=(()=>{let a=class a{constructor(){this.store=u(x),this.router=u(F),this.user$=u(x).select(O.user),this.CSVModal=S("csvModal"),this.tableConfig={columns:[{title:"avatar",dataField:"profile_image",class:"tbl-image rounded-circle",type:"image"},{title:"name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"email",dataField:"email"},{title:"role",dataField:"role_name"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"user.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"user.destroy"}],data:[],total:0}}ngOnInit(){this.user$.subscribe(e=>{let t=e?.data?.filter(i=>(i.role_name=i?.role?.name,i));this.tableConfig.data=e?t:[],this.tableConfig.total=e?e.total:0})}onTableChange(e){this.store.dispatch(new $(e))}onActionClicked(e){e.actionToPerform=="edit"?this.edit(e.data):e.actionToPerform=="status"?this.status(e.data):e.actionToPerform=="delete"?this.delete(e.data):e.actionToPerform=="deleteAll"&&this.deleteAll(e.data)}edit(e){this.router.navigateByUrl(`/user/edit/${e.id}`)}status(e){this.store.dispatch(new j(e.id,e.status))}delete(e){this.store.dispatch(new q(e.id))}deleteAll(e){this.store.dispatch(new G(e))}export(){this.store.dispatch(new H)}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=V({type:a,selectors:[["app-user"]],viewQuery:function(t,i){t&1&&M(i.CSVModal,W,5),t&2&&U()},decls:5,vars:6,consts:[["csvModal",""],[3,"gridClass","title"],["class","d-flex flex-wrap gap-2","button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],[3,"module"],["button","",1,"d-flex","flex-wrap","gap-2"],["href","javascript:void(0)",1,"align-items-center","btn","btn-light-bg","me-2",3,"click"],[1,"ri-upload-2-line"],[1,"ri-download-2-line"],[1,"align-items-center","btn","btn-theme",3,"routerLink"],[1,"ri-add-line"]],template:function(t,i){if(t&1){let C=v();d(0,"app-page-wrapper",1),k(1,J,13,11,"div",2),d(2,"app-table",3),f("tableChanged",function(p){return n(C),l(i.onTableChange(p))})("rowClicked",function(p){return n(C),l(i.edit(p))})("action",function(p){return n(C),l(i.onActionClicked(p))}),c()(),m(3,"app-import-csv-modal",4,0)}t&2&&(s("gridClass","col-sm-12")("title","users"),r(),s("hasPermission","user.create"),r(),s("tableConfig",i.tableConfig)("hasCheckbox",!0),r(),s("module","user"))},dependencies:[E,D,B,R,L,Q,N,P,I],encapsulation:2});let o=a;return o})();export{ce as User};
