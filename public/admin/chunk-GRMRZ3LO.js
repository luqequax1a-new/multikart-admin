import{a as q,b as z,e as G}from"./chunk-L64HS5AO.js";import{a as B}from"./chunk-6TS3CAIM.js";import{a as L}from"./chunk-3ARB4UI6.js";import"./chunk-MLWMDQKS.js";import{a as I}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import"./chunk-5DTRVH74.js";import{a as Q}from"./chunk-GG7AHMIJ.js";import{qa as C}from"./chunk-IKKQDHIF.js";import{g as U}from"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as j,d as D}from"./chunk-AWERIOQH.js";import{Ad as A,Lc as T,Mc as w,Nb as V,Ob as k,Pb as p,Qb as l,Rb as s,Sb as $,Za as y,Zc as F,_b as h,bb as a,bc as _,dc as m,ja as f,kc as b,lc as P,ob as M,oc as S,qa as c,ra as d,rc as v,sc as E,tc as g,td as R,ub as x}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var N=["confirmationModal"],O=(i,o)=>o.id;function W(i,o){if(i&1){let n=h();l(0,"a",11),_("click",function(){c(n);let e=m().$implicit,r=m();return d(r.themeRoute(e.slug))}),v(1),T(2,"translate"),s()}i&2&&(a(),g(" ",w(2,1,"edit_theme")," "))}function J(i,o){if(i&1){let n=h();l(0,"a",6),_("click",function(){c(n);let e=m().$implicit,r=m();return d((e==null?null:e.id)!==r.selectedTheme&&r.ConfirmationModal().openModal("theme",e))}),v(1),s()}if(i&2){let n=m().$implicit,t=m();a(),g(" ",(n==null?null:n.id)===t.selectedTheme?"Activated":"Active"," ")}}function K(i,o){if(i&1){let n=h();l(0,"div")(1,"div",4)(2,"div",5)(3,"a",6),_("click",function(){let e=c(n).$implicit,r=m();return d((e==null?null:e.id)===r.selectedTheme&&r.themeRoute(e.slug))}),$(4,"img",7),s(),x(5,W,3,3,"a",8),s(),l(6,"div",9)(7,"h5"),v(8),s(),x(9,J,2,1,"a",10),s()()()}if(i&2){let n=o.$implicit,t=m();a(),S("active",(n==null?null:n.id)===t.selectedTheme),a(3),p("src",t.storageURL+n.image,y),a(),p("hasPermission","theme.edit"),a(3),E(n.name),a(),p("hasPermission","theme.edit")}}var he=(()=>{let o=class o{constructor(){this.store=f(C),this.router=f(U),this.storageURL=Q.storageURL,this.themes$=f(C).select(G.themes),this.ConfirmationModal=F("confirmationModal")}ngOnInit(){this.store.dispatch(new q),this.themes$.subscribe(t=>{t?.data?.map(e=>{e.status===1&&(this.selectedTheme=e.id)})})}themeRoute(t){this.router.navigateByUrl(`/theme/${t}`)}activeTheme(t){this.selectedTheme=null,this.selectedTheme=t.data.id,this.store.dispatch(new z(t.data.id,1))}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=M({type:o,selectors:[["app-theme"]],viewQuery:function(e,r){e&1&&b(r.ConfirmationModal,N,5),e&2&&P()},decls:7,vars:4,consts:[["confirmationModal",""],[3,"gridClass","title"],[1,"row","row-cols-xl-3","row-cols-lg-2","row-cols-md-3","row-cols-sm-2","row-cols-1","g-lg-5","g-4","layout-selection-sec","ratio_square"],[3,"confirmed"],[1,"theme-card"],[1,"library-box"],["href","javascript:void(0)",3,"click"],["alt","home-pages",1,"img-fluid","bg-img","bg_size_content",3,"src"],["href","javascript:void(0)","class","details-box",3,"click",4,"hasPermission"],[1,"content-sec"],["href","javascript:void(0)",3,"click",4,"hasPermission"],["href","javascript:void(0)",1,"details-box",3,"click"]],template:function(e,r){if(e&1){let u=h();l(0,"app-page-wrapper",1)(1,"div",2),V(2,K,10,6,"div",null,O),T(4,"async"),s()(),l(5,"app-confirmation-modal",3,0),_("confirmed",function(H){return c(u),d(r.activeTheme(H))}),s()}if(e&2){let u;p("gridClass","col-sm-12")("title","themes"),a(2),k((u=w(4,2,r.themes$))==null?null:u.data)}},dependencies:[A,D,L,I,B,R,j],encapsulation:2});let i=o;return i})();export{he as Theme};
