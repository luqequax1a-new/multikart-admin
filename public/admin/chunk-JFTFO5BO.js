import{a as Q}from"./chunk-Z567FFSJ.js";import{a as H}from"./chunk-Y2Z4WWCH.js";import{b as J,c as K,d as L}from"./chunk-VPYJY44D.js";import{a as z}from"./chunk-MLWMDQKS.js";import{B as I,C as O,D as R,c as q,d as k,e as D,g as E,h as V,k as d,m as x,q as G,qa as P,t as U}from"./chunk-IKKQDHIF.js";import{e as M,g as A}from"./chunk-OTODDIHK.js";import{c as j,d as $}from"./chunk-AWERIOQH.js";import{Bc as g,Ca as S,Ib as B,Kb as F,Lc as o,Mc as a,Pb as i,Qb as r,Rb as m,Sb as c,Y as C,Yc as y,Z as _,bb as e,bc as N,g as v,ja as l,n as b,ob as w,rc as f,sc as h,t as T}from"./chunk-KIZZVTEV.js";function W(s,n){s&1&&(r(0,"div",3),f(1),o(2,"translate"),m()),s&2&&(e(),h(a(2,1,"tag_name_is_required")))}var ue=(()=>{let n=class n{constructor(){this.store=l(P),this.router=l(A),this.route=l(M),this.formBuilder=l(I),this.type=y(void 0),this.tagType=y("product"),this.destroy$=new v,this.form=this.formBuilder.group({name:new d("",[D.required]),description:new d,type:new d(this.tagType(),[]),status:new d(!0)})}ngOnChanges(){this.form.controls.type.setValue(this.tagType())}ngOnInit(){this.route.params.pipe(C(t=>t.id?this.store.dispatch(new K(t.id)).pipe(T(()=>this.store.select(Q.selectedTag))):b()),_(this.destroy$)).subscribe(t=>{this.tag=t,this.form.patchValue({name:this.tag?.name,description:this.tag?.description,status:this.tag?.status})})}submit(){this.form.markAllAsTouched();let t=new J(this.form.value);this.type()=="edit"&&this.tag?.id&&(t=new L(this.form.value,this.tag.id)),this.form.valid&&this.store.dispatch(t).subscribe({complete:()=>{this.tagType()=="post"?this.router.navigateByUrl("/blog/tag"):this.router.navigateByUrl("/tag")}})}};n.\u0275fac=function(u){return new(u||n)},n.\u0275cmp=w({type:n,selectors:[["app-form-tag"]],inputs:{type:[1,"type"],tagType:[1,"tagType"]},features:[S],decls:19,vars:29,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],["formControlName","description","rows","3",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"]],template:function(u,p){u&1&&(r(0,"form",0),N("ngSubmit",function(){return p.submit()}),r(1,"app-form-fields",1),o(2,"translate"),c(3,"input",2),o(4,"translate"),B(5,W,3,3,"div",3),m(),r(6,"app-form-fields",1),o(7,"translate"),c(8,"textarea",4),o(9,"translate"),m(),r(10,"app-form-fields",1),o(11,"translate"),r(12,"div",5)(13,"label",6),c(14,"input",7)(15,"span",8),m()()(),r(16,"app-button",9),f(17),o(18,"translate"),m()()),u&2&&(i("formGroup",p.form),e(),i("label",a(2,17,"tag_name"))("for","name")("required",!0),e(2),i("placeholder",g(a(4,19,"enter_tag_name"))),e(2),F(p.form.controls.name.touched&&(p.form.controls.name.errors!=null&&p.form.controls.name.errors.required)?5:-1),e(),i("label",a(7,21,"description"))("for","description")("required",!1),e(2),i("placeholder",g(a(9,23,"enter_description"))),e(2),i("label",a(11,25,"status"))("for","status")("required",!1),e(6),i("id","tag_btn"),e(),h(a(18,27,p.type()==="create"?"save_tag":"update_tag")))},dependencies:[$,O,x,k,q,E,V,R,G,U,H,z,j],encapsulation:2});let s=n;return s})();export{ue as a};
