import{a as Be}from"./chunk-DRWHSBYU.js";import{a as Se}from"./chunk-LCVX2N4P.js";import"./chunk-M3HD75V3.js";import{a as Fe,b as Ee}from"./chunk-G4WEVRSH.js";import{a as be}from"./chunk-Y2Z4WWCH.js";import{b as M}from"./chunk-KHPSOSNT.js";import{b as qe}from"./chunk-6OWXQVRA.js";import"./chunk-QVI36XHK.js";import{l as fe,m as ve}from"./chunk-HMBOAMDM.js";import{h as Ce}from"./chunk-PPVHMWJD.js";import"./chunk-DNDGKAFO.js";import"./chunk-3ARB4UI6.js";import"./chunk-HD5XXWEJ.js";import"./chunk-HJPVTB2W.js";import{a as xe}from"./chunk-MLWMDQKS.js";import{a as he}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import{b as ge,c as we,d as ye,f as $}from"./chunk-5DTRVH74.js";import"./chunk-GG7AHMIJ.js";import{$ as de,B as ie,C as re,D as ne,X as oe,Y as ae,Z as le,_ as pe,aa as se,ba as ce,c as J,d as K,e as g,fa as me,g as Q,h as X,k as _,m as Y,n as Z,q as ee,qa as F,t as te}from"./chunk-IKKQDHIF.js";import"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as _e,d as ue}from"./chunk-AWERIOQH.js";import{Ac as O,Ad as j,Bc as h,Cc as R,Ed as H,Fc as V,Gc as k,Ib as f,Ja as P,Kb as v,Lc as o,Mc as a,Pb as l,Pc as W,Qb as r,Rb as n,Sb as c,_b as B,bb as t,bc as S,dc as w,ja as b,mc as I,ob as L,qa as x,qc as U,r as A,ra as C,rc as m,sc as u,tc as T,td as z,ub as q,yc as D,zc as G}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var Ne=i=>[i],Ae=()=>[];function Ie(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"name_is_required")))}function Te(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"email_is_required")))}function Ve(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"enter_valid_email")))}function ke(i,s){if(i&1&&(r(0,"div",24)(1,"div",25),c(2,"div"),n(),r(3,"span",26),m(4),n()()),i&2){let d=s.data;t(2),U(R("iti-flag ",d==null?null:d.class)),t(2),u(d.code)}}function $e(i,s){if(i&1){let d=B();r(0,"select2",23),o(1,"async"),S("update",function(p){x(d);let y=w(2);return C(y.selectCode(p))}),q(2,ke,5,4,"ng-template",null,1,W),n()}if(i&2){let d,e=I(3),p=w(2);l("templates",e)("data",p.codes)("value",(d=a(1,3,p.user$))==null?null:d.country_code)}}function Me(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"phone_number_is_required")))}function Pe(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"phone_number_is_invalid")))}function Le(i,s){if(i&1){let d=B();r(0,"form",13),S("ngSubmit",function(){x(d);let p=w();return C(p.profileFormSubmit())}),r(1,"div",14)(2,"app-form-fields",15)(3,"app-image-upload",16),o(4,"async"),S("selectedFiles",function(p){x(d);let y=w();return C(y.selectedFiles(p))}),n()(),r(5,"app-form-fields",15),o(6,"translate"),c(7,"input",17),o(8,"translate"),f(9,Ie,3,3,"div",18),n(),r(10,"app-form-fields",15),c(11,"input",19),o(12,"translate"),f(13,Te,3,3,"div",18),f(14,Ve,3,3,"div",18),n(),r(15,"app-form-fields",15),f(16,$e,4,5,"select2",20),c(17,"input",21),o(18,"translate"),f(19,Me,3,3,"div",18),f(20,Pe,3,3,"div",18),n()(),r(21,"app-button",22),m(22),o(23,"translate"),n()()}if(i&2){let d,e=w();l("formGroup",e.profileForm),t(2),l("label","avatar")("for","image")("required",!1),t(),l("multipleImage",!1)("accept",k(43,Ne,e.mediaConfig.image))("image",(d=a(4,31,e.user$))==null?null:d.profile_image)("helpText","*Upload image size 100x100px recommended"),t(2),l("label",a(6,33,"name"))("for","name")("required",!0),t(2),l("placeholder",h(a(8,35,"enter_full_name"))),t(2),v(e.profileForm.controls.name.touched&&(e.profileForm.controls.name.errors!=null&&e.profileForm.controls.name.errors.required)?9:-1),t(),l("label","email")("for","email")("required",!0),t(),l("placeholder",h(a(12,37,"enter_email"))),t(2),v(e.profileForm.controls.email.touched&&(e.profileForm.controls.email.errors!=null&&e.profileForm.controls.email.errors.required)?13:-1),t(),v(e.profileForm.controls.email.touched&&(e.profileForm.controls.email.errors!=null&&e.profileForm.controls.email.errors.email)?14:-1),t(),l("label","phone")("for","phone")("required",!0),t(),v(e.isBrowser?16:-1),t(),l("placeholder",h(a(18,39,"enter_phone"))),t(2),v(e.profileForm.controls.phone.touched&&(e.profileForm.controls.phone.errors!=null&&e.profileForm.controls.phone.errors.required)?19:-1),t(),v(e.profileForm.controls.phone.touched&&(e.profileForm.controls.phone.errors!=null&&e.profileForm.controls.phone.errors.pattern)?20:-1),t(),l("id","profile_btn"),t(),u(a(23,41,"save"))}}function Ue(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"store_name_is_required")))}function De(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"description_is_required")))}function Ge(i,s){if(i&1){let d=B();r(0,"select2",46),o(1,"async"),o(2,"async"),o(3,"translate"),S("update",function(p){x(d);let y=w(3);return C(y.countryChange(p))}),n()}if(i&2){let d,e=w(3);l("data",(d=a(1,2,e.countries$))!=null&&d.length?a(2,4,e.countries$):V(8,Ae))("placeholder",a(3,6,"select_country"))}}function Oe(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"country_is_required")))}function Re(i,s){if(i&1&&(c(0,"select2",31),o(1,"async"),o(2,"async"),o(3,"translate")),i&2){let d,e=w(3);l("data",(d=a(1,2,e.states$))!=null&&d.length?a(2,4,e.states$):V(8,Ae))("placeholder",a(3,6,"select_state"))}}function We(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"state_is_required")))}function ze(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"city_is_required")))}function je(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"address_is_required")))}function He(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"pincode_is_required")))}function Je(i,s){if(i&1){let d=B();r(0,"form",13),S("ngSubmit",function(){x(d);let p=w(2);return C(p.updateStore())}),r(1,"div",14)(2,"app-form-fields",15),o(3,"translate"),r(4,"app-image-upload",27),o(5,"async"),S("selectedFiles",function(p){x(d);let y=w(2);return C(y.selectStoreLogo(p))}),n()(),r(6,"app-form-fields",15),c(7,"input",28),o(8,"translate"),f(9,Ue,3,3,"div",18),n(),r(10,"app-form-fields",15),c(11,"textarea",29),o(12,"translate"),f(13,De,3,3,"div",18),n(),r(14,"app-form-fields",15),f(15,Ge,4,9,"select2",30),f(16,Oe,3,3,"div",18),n(),r(17,"app-form-fields",15),f(18,Re,4,9,"select2",31),f(19,We,3,3,"div",18),n(),r(20,"app-form-fields",15),c(21,"input",32),o(22,"translate"),f(23,ze,3,3,"div",18),n(),r(24,"app-form-fields",15),c(25,"input",33),o(26,"translate"),f(27,je,3,3,"div",18),n(),r(28,"app-form-fields",15),c(29,"input",34),o(30,"translate"),f(31,He,3,3,"div",18),n(),r(32,"app-form-fields",35),c(33,"input",36),o(34,"translate"),n(),r(35,"app-form-fields",35),c(36,"input",37),o(37,"translate"),n(),r(38,"app-form-fields",35),c(39,"input",38),o(40,"translate"),n(),r(41,"app-form-fields",35),c(42,"input",39),o(43,"translate"),n(),r(44,"app-form-fields",35),c(45,"input",40),o(46,"translate"),n(),r(47,"app-form-fields",15),o(48,"translate"),r(49,"div",41)(50,"label",42),c(51,"input",43)(52,"span",44),n()()(),r(53,"app-form-fields",15),o(54,"translate"),r(55,"div",41)(56,"label",42),c(57,"input",45)(58,"span",44),n()()()(),r(59,"app-button",22),m(60),o(61,"translate"),n()()}if(i&2){let d,e=w(2);l("formGroup",e.form),t(2),l("label",a(3,75,"store_logo"))("for","logo")("required",!1),t(2),l("accept",k(105,Ne,e.mediaConfig.image))("multipleImage",!1)("image",(d=a(5,77,e.user$))==null||d.store==null?null:d.store.store_logo),t(2),l("label","store_name")("for","store_name")("required",!0),t(),l("placeholder",h(a(8,79,"enter_store_name"))),t(2),v(e.form!=null&&e.form.controls.store_name.touched&&(e.form.controls.store_name.errors!=null&&e.form.controls.store_name.errors.required)?9:-1),t(),l("label","store_description")("for","description")("required",!0),t(),l("placeholder",h(a(12,81,"enter_description"))),t(2),v(e.form.controls.description.touched&&(e.form.controls.description.errors!=null&&e.form.controls.description.errors.required)?13:-1),t(),l("label","country")("for","country")("required",!0),t(),v(e.isBrowser?15:-1),t(),v(!(e.form==null||e.form.controls.country_id==null)&&e.form.controls.country_id.touched&&(!(e.form==null||e.form.controls.country_id==null||e.form.controls.country_id.errors==null)&&e.form.controls.country_id.errors.required)?16:-1),t(),l("label","state")("for","state")("required",!0),t(),v(e.isBrowser?18:-1),t(),v(e.form!=null&&e.form.controls.state_id.touched&&(!(e.form==null||e.form.controls.state_id.errors==null)&&e.form.controls.state_id.errors.required)?19:-1),t(),l("label","city")("for","city")("required",!0),t(),l("placeholder",h(a(22,83,"enter_city_name"))),t(2),v(e.form.controls.city.touched&&(e.form.controls.city.errors!=null&&e.form.controls.city.errors.required)?23:-1),t(),l("label","address")("for","address")("required",!0),t(),l("placeholder",h(a(26,85,"enter_store_address"))),t(2),v(e.form.controls.address.touched&&(e.form.controls.address.errors!=null&&e.form.controls.address.errors.required)?27:-1),t(),l("label","pincode")("for","pincode")("required",!0),t(),l("placeholder",h(a(30,87,"enter_pincode"))),t(2),v(e.form.controls.pincode.touched&&(e.form.controls.pincode.errors!=null&&e.form.controls.pincode.errors.required)?31:-1),t(),l("label","faceBook")("for","facebook"),t(),l("placeholder",h(a(34,89,"enter_url"))),t(2),l("label","instagram")("for","instagram"),t(),l("placeholder",h(a(37,91,"enter_url"))),t(2),l("label","twitter")("for","Twitter"),t(),l("placeholder",h(a(40,93,"enter_url"))),t(2),l("label","youtube")("for","youtube"),t(),l("placeholder",h(a(43,95,"enter_url"))),t(2),l("label","pinterest")("for","pinterest"),t(),l("placeholder",h(a(46,97,"enter_url"))),t(2),l("label",a(48,99,"hide_email"))("for","hide_vendor_email")("required",!1),t(6),l("label",a(54,101,"hide_phone"))("for","hide_vendor_phone")("required",!1),t(6),l("id","store_setting_btn"),t(),u(a(61,103,"save"))}}function Ke(i,s){i&1&&(r(0,"li",9)(1,"a",6),c(2,"i",7),m(3),o(4,"translate"),n(),q(5,Je,62,107,"ng-template",8),n()),i&2&&(t(3),u(a(4,1,"store_setting")))}function Qe(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"current_password_is_required")))}function Xe(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"new_password_is_required")))}function Ye(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),u(a(2,1,"confirm_password_is_required")))}function Ze(i,s){i&1&&(r(0,"div",18),m(1),o(2,"translate"),n()),i&2&&(t(),T(" ",a(2,1,"confirm_password_does_not_matched")," "))}function et(i,s){if(i&1){let d=B();r(0,"form",13),S("ngSubmit",function(){x(d);let p=w();return C(p.passwordFormSubmit())}),r(1,"div",14)(2,"app-form-fields",15),c(3,"input",47),o(4,"translate"),f(5,Qe,3,3,"div",18),n(),r(6,"app-form-fields",15),c(7,"input",48),o(8,"translate"),f(9,Xe,3,3,"div",18),n(),r(10,"app-form-fields",15),c(11,"input",49),o(12,"translate"),f(13,Ye,3,3,"div",18)(14,Ze,3,3,"div",18),n()(),r(15,"app-button",22),m(16),o(17,"translate"),n()()}if(i&2){let d=w();l("formGroup",d.passwordForm),t(2),l("label","current_password")("for","current_password")("required",!0),t(),l("placeholder",h(a(4,21,"enter_current_password"))),t(2),v(d.passwordForm.controls.current_password.touched&&(d.passwordForm.controls.current_password.errors!=null&&d.passwordForm.controls.current_password.errors.required)?5:-1),t(),l("label","new_password")("for","new_password")("required",!0),t(),l("placeholder",h(a(8,23,"enter_new_password"))),t(2),v(d.passwordForm.controls.password.touched&&(d.passwordForm.controls.password.errors!=null&&d.passwordForm.controls.password.errors.required)?9:-1),t(),l("label","confirm_password")("for","confirm_password")("required",!0),t(),l("placeholder",h(a(12,25,"enter_confirm_password"))),t(2),v(d.passwordForm.controls.password_confirmation.touched&&(d.passwordForm.controls.password_confirmation.errors!=null&&d.passwordForm.controls.password_confirmation.errors.required)?13:d.passwordMatchError?14:-1),t(2),l("id","password_btn"),t(),u(a(17,27,"save"))}}var Nt=(()=>{let s=class s{constructor(){this.store=b(F),this.formBuilder=b(ie),this.platformId=b(P),this.user$=b(F).select($.user),this.store$=b(F).select(Ce.selectedStore),this.countries$=b(F).select(qe.countries),this.roleName$=b(F).select($.getRoleName),this.active="profile",this.codes=Fe,this.flicker=!1,this.mediaConfig=Se;let e=this.platformId;this.isBrowser=H(e),this.user$.subscribe(p=>{this.profileForm=this.formBuilder.group({name:new _(p?.name,[g.required]),email:new _(p?.email,[g.required,g.email]),phone:new _(p?.phone,[g.required,g.pattern(/^[0-9]*$/)]),country_code:new _(p?.country_code,[g.required]),profile_image_id:new _(p?.profile_image_id)}),this.flicker=!0,p?.store&&(this.form=this.formBuilder.group({store_name:new _(p.store.store_name,[g.required]),description:new _(p.store.description,[g.required]),country_id:new _(p.store?.country_id,[g.required]),state_id:new _(p?.store?.state_id,[g.required]),city:new _(p?.store?.city,[g.required]),address:new _(p?.store?.address,[g.required]),pincode:new _(p?.store?.pincode,[g.required]),store_logo_id:new _(p?.store?.store_logo_id),hide_vendor_email:new _(p?.store?.hide_vendor_email),hide_vendor_phone:new _(p?.store?.hide_vendor_phone),facebook:new _(p?.store?.facebook),instagram:new _(p?.store?.instagram),pinterest:new _(p?.store?.pinterest),youtube:new _(p?.store?.youtube),twitter:new _(p?.store?.twitter)})),setTimeout(()=>this.flicker=!1,200)}),this.passwordForm=this.formBuilder.group({current_password:new _("",[g.required]),password:new _("",[g.required]),password_confirmation:new _("",[g.required])},{validator:Ee.MatchValidator("password","password_confirmation")})}ngOnInit(){this.states$=this.store.select(M.states).pipe(A(e=>e(null)))}countryChange(e){e&&e?.value?(this.states$=this.store.select(M.states).pipe(A(p=>p(+e?.value))),e.component.focused&&this.form.controls.state_id.setValue("")):this.form.controls.state_id.setValue("")}get passwordMatchError(){return this.passwordForm?.getError("mismatch")&&this.passwordForm?.get("password_confirmation")?.touched}selectCode(e){this.profileForm.controls.country_code.setValue(e?.value)}selectedFiles(e){Array.isArray(e)||this.profileForm.controls.profile_image_id.setValue(e?e.id:"")}profileFormSubmit(){this.profileForm.markAllAsTouched(),this.profileForm.valid&&this.store.dispatch(new ge(this.profileForm.value))}passwordFormSubmit(){this.passwordForm.markAllAsTouched(),this.passwordForm.valid&&(this.store.dispatch(new we(this.passwordForm.value)),this.passwordForm.reset())}selectStoreLogo(e){Array.isArray(e)||this.form.controls.store_logo_id.setValue(e?e.id:"")}updateStore(){this.store.dispatch(new ye(this.form.value))}};s.\u0275fac=function(p){return new(p||s)},s.\u0275cmp=L({type:s,selectors:[["app-account"]],decls:19,vars:12,consts:[["nav","ngbNav"],["template",""],[3,"title"],[1,"inside-horizontal-tabs","mt-0"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],["ngbNavItem","profile"],["ngbNavLink",""],[1,"ri-account-pin-box-line"],["ngbNavContent",""],["ngbNavItem","vendor-setting"],["ngbNavItem","password"],[1,"ri-phone-lock-line"],[1,"mt-3",3,"ngbNavOutlet"],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"row"],[3,"label","for","required"],[3,"selectedFiles","multipleImage","accept","image","helpText"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],["type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"custom-select","intl-tel-input",3,"templates","data","value"],["type","number","formControlName","phone","name","phone",1,"form-control","intl-input-padding",3,"placeholder"],[3,"id"],[1,"custom-select","intl-tel-input",3,"update","templates","data","value"],[1,"country"],[1,"flag-box"],[1,"dial-code"],[3,"selectedFiles","accept","multipleImage","image"],["type","text","formControlName","store_name",1,"form-control",3,"placeholder"],["formControlName","description","rows","3",1,"form-control",3,"placeholder"],["formControlName","country_id","resettable","",1,"custom-select",3,"data","placeholder"],["formControlName","state_id","resettable","",1,"custom-select",3,"data","placeholder"],["type","text","name","city","formControlName","city",1,"form-control",3,"placeholder"],["type","text","name","address","formControlName","address",1,"form-control",3,"placeholder"],["type","number","name","pincode","formControlName","pincode",1,"form-control",3,"placeholder"],[3,"label","for"],["type","url","formControlName","facebook",1,"form-control",3,"placeholder"],["type","url","formControlName","instagram",1,"form-control",3,"placeholder"],["type","url","formControlName","twitter",1,"form-control",3,"placeholder"],["type","url","formControlName","youtube",1,"form-control",3,"placeholder"],["type","url","formControlName","pinterest",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","hide_vendor_email","formControlName","hide_vendor_email"],[1,"switch-state"],["type","checkbox","id","hide_vendor_phone","formControlName","hide_vendor_phone"],["formControlName","country_id","resettable","",1,"custom-select",3,"update","data","placeholder"],["type","password","name","current_password","formControlName","current_password",1,"form-control",3,"placeholder"],["type","password","name","password","formControlName","password",1,"form-control",3,"placeholder"],["type","password","name","password_confirmation","formControlName","password_confirmation",1,"form-control",3,"placeholder"]],template:function(p,y){if(p&1){let E=B();r(0,"app-page-wrapper",2)(1,"div",3)(2,"ul",4,0),O("activeIdChange",function(N){return x(E),G(y.active,N)||(y.active=N),C(N)}),r(4,"li",5)(5,"a",6),c(6,"i",7),m(7),o(8,"translate"),n(),q(9,Le,24,45,"ng-template",8),n(),f(10,Ke,6,3,"li",9),o(11,"async"),r(12,"li",10)(13,"a",6),c(14,"i",11),m(15),o(16,"translate"),n(),q(17,et,18,29,"ng-template",8),n()(),c(18,"div",12),n()()}if(p&2){let E=I(3);l("title","my_account"),t(2),D("activeId",y.active),t(5),u(a(8,6,"profile_setting")),t(3),v(a(11,8,y.roleName$)==="vendor"&&!y.flicker?10:-1),t(5),T(" ",a(16,10,"change_password")),t(3),l("ngbNavOutlet",E)}},dependencies:[ue,re,Y,K,Z,J,Q,X,ne,ee,te,me,oe,pe,le,ae,se,de,ce,j,ve,fe,he,be,Be,xe,_e,z],encapsulation:2});let i=s;return i})();export{Nt as Account};
