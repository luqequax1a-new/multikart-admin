import{a as h}from"./chunk-GG7AHMIJ.js";import{Ia as d,sa as p,ta as f,ua as u}from"./chunk-IKKQDHIF.js";import{d as m}from"./chunk-EY6JDCC6.js";import{$ as l,ea as s,ja as c,l as n}from"./chunk-KIZZVTEV.js";var y=(()=>{let t=class t{constructor(o){this.payload=o}};t.type="[Point] Transaction Get";let r=t;return r})(),b=(()=>{let t=class t{constructor(o){this.payload=o}};t.type="[Point] Credit";let r=t;return r})(),v=(()=>{let t=class t{constructor(o){this.payload=o}};t.type="[Point] Debit";let r=t;return r})();var x=(()=>{let t=class t{constructor(){this.http=c(m)}getUserTransaction(o){return this.http.get(`${h.URL}/points.json`,{params:o})}};t.\u0275fac=function(S){return new(S||t)},t.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var a,i=(a=class{constructor(){this.notificationService=c(d),this.pointService=c(x)}static point(t){return t.point}getUserTransaction(t,{payload:e}){return this.pointService.getUserTransaction(e).pipe(l({next:o=>{t.patchState({point:{consumer_id:o?.consumer_id,balance:o?.balance,transactions:{data:o?.transactions?.data,total:o?.transactions?.total?o?.transactions?.total:o?.transactions?.data?.length}}})},error:o=>{throw t.patchState({point:{consumer_id:null,balance:0,transactions:{data:[],total:0}}}),new Error(o?.error?.message)}}))}credit(t,e){}debit(t,e){}},a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=s({token:a,factory:a.\u0275fac}),a);n([p(y)],i.prototype,"getUserTransaction",null);n([p(b)],i.prototype,"credit",null);n([p(v)],i.prototype,"debit",null);n([u()],i,"point",null);i=n([f({name:"point",defaults:{point:{consumer_id:null,balance:0,transactions:{data:[],total:0}}}})],i);export{y as a,b,v as c,i as d};
