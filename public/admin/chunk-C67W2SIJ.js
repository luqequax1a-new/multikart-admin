import{b as Z,c as x,d as ee,i as ie}from"./chunk-FDG3HQPX.js";import{a as Y}from"./chunk-DRWHSBYU.js";import{a as X}from"./chunk-LCVX2N4P.js";import{a as W}from"./chunk-Y2Z4WWCH.js";import{a as Q}from"./chunk-MLWMDQKS.js";import{B as P,C as z,D as H,c as k,d as D,e as G,g as U,h as R,k as d,m as j,q as $,qa as L,t as O}from"./chunk-IKKQDHIF.js";import{e as T,g as V}from"./chunk-OTODDIHK.js";import{c as J,d as K}from"./chunk-AWERIOQH.js";import{Bc as b,Gc as g,Ib as I,Kb as q,Lc as o,Mc as m,Pb as r,Qb as a,Rb as n,Sb as f,Y as C,Yc as N,Z as w,bb as t,bc as c,g as B,ja as u,n as F,ob as A,rc as y,sc as E,t as S,tc as M}from"./chunk-KIZZVTEV.js";var v=l=>[l];function te(l,p){l&1&&(a(0,"div",3),y(1),o(2,"translate"),n()),l&2&&(t(),E(m(2,1,"name_is_required")))}var ye=(()=>{let p=class p{constructor(){this.store=u(L),this.router=u(V),this.route=u(T),this.formBuilder=u(P),this.type=N(void 0),this.mediaConfig=X,this.destroy$=new B,this.form=this.formBuilder.group({name:new d("",[G.required]),brand_image_id:new d,status:new d(!0),brand_banner_id:new d,brand_meta_image_id:new d,meta_title:new d,meta_description:new d})}ngOnInit(){this.route.params.pipe(C(e=>e.id?this.store.dispatch(new x(e.id)).pipe(S(()=>this.store.select(ie.selectedBrand))):F()),w(this.destroy$)).subscribe(e=>{this.brand=e,this.form.patchValue({name:this.brand?.name,brand_image_id:this.brand?.brand_image_id,brand_meta_image_id:this.brand?.brand_meta_image_id,meta_title:this.brand?.meta_title,brand_banner_id:this.brand?.brand_banner_id,meta_description:this.brand?.meta_description,status:this.brand?.status})})}selectBrandImage(e){Array.isArray(e)||this.form.controls.brand_image_id.setValue(e?e.id:"")}selectBannerImage(e){Array.isArray(e)||this.form.controls.brand_banner_id.setValue(e?e.id:"")}selectMetaImage(e){Array.isArray(e)||this.form.controls.brand_meta_image_id.setValue(e?e.id:"")}submit(){this.form.markAllAsTouched();let e=new Z(this.form.value);this.type()=="edit"&&this.brand?.id&&(e=new ee(this.form.value,this.brand.id)),this.form.valid&&this.store.dispatch(e).subscribe({complete:()=>{this.router.navigateByUrl("/brand")}})}};p.\u0275fac=function(_){return new(_||p)},p.\u0275cmp=A({type:p,selectors:[["app-form-brand"]],inputs:{type:[1,"type"]},decls:28,vars:60,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[3,"selectedFiles","accept","multipleImage","image"],["type","text","formControlName","meta_title",1,"form-control",3,"placeholder"],["formControlName","meta_description","rows","3",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"]],template:function(_,i){_&1&&(a(0,"form",0),c("ngSubmit",function(){return i.submit()}),a(1,"app-form-fields",1),f(2,"input",2),o(3,"translate"),I(4,te,3,3,"div",3),n(),a(5,"app-form-fields",1),o(6,"translate"),a(7,"app-image-upload",4),c("selectedFiles",function(s){return i.selectBrandImage(s)}),n()(),a(8,"app-form-fields",1),o(9,"translate"),a(10,"app-image-upload",4),c("selectedFiles",function(s){return i.selectBannerImage(s)}),n()(),a(11,"app-form-fields",1),f(12,"input",5),o(13,"translate"),n(),a(14,"app-form-fields",1),f(15,"textarea",6),o(16,"translate"),n(),a(17,"app-form-fields",1),o(18,"translate"),a(19,"app-image-upload",4),c("selectedFiles",function(s){return i.selectMetaImage(s)}),n()(),a(20,"app-form-fields",1)(21,"div",7)(22,"label",8),f(23,"input",9)(24,"span",10),n()()(),a(25,"app-button",11),y(26),o(27,"translate"),n()()),_&2&&(r("formGroup",i.form),t(),r("label","name")("for","name")("required",!0),t(),r("placeholder",b(m(3,40,"enter_name"))),t(2),q(i.form.controls.name.touched&&(i.form.controls.name.errors!=null&&i.form.controls.name.errors.required)?4:-1),t(),r("label",m(6,42,"image"))("for","image")("required",!1),t(2),r("accept",g(54,v,i.mediaConfig.image))("multipleImage",!1)("image",i.brand==null?null:i.brand.brand_image),t(),r("label",m(9,44,"banner_image"))("for","banner_image")("required",!1),t(2),r("accept",g(56,v,i.mediaConfig.image))("multipleImage",!1)("image",i.brand==null?null:i.brand.brand_banner),t(),r("label","meta_title")("for","metatitle")("required",!1),t(),r("placeholder",b(m(13,46,"enter_meta_title"))),t(2),r("label","meta_description")("for","desc")("required",!1),t(),r("placeholder",b(m(16,48,"enter_meta_description"))),t(2),r("label",m(18,50,"meta_image"))("for","meta_image")("required",!1),t(2),r("accept",g(58,v,i.mediaConfig.image))("multipleImage",!1)("image",i.brand==null?null:i.brand.brand_meta_image),t(),r("label","status")("for","status")("required",!1),t(5),r("id","brand_btn"),t(),M(" ",m(27,52,i.type()==="create"?"save_brand":"update_brand")," "))},dependencies:[K,z,j,D,k,U,R,H,$,O,W,Y,Q,J],encapsulation:2});let l=p;return l})();export{ye as a};
