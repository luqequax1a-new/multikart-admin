import{a as S}from"./chunk-GG7AHMIJ.js";import{Ia as x,qa as y,sa as i,ta as C,ua as l}from"./chunk-IKKQDHIF.js";import{d as f}from"./chunk-EY6JDCC6.js";import{$ as d,ea as u,ja as c,l as s}from"./chunk-KIZZVTEV.js";import{a as h,b as m}from"./chunk-4CLCTAJ7.js";var g=(()=>{let t=class t{constructor(e){this.payload=e}};t.type="[Coupon] Get";let o=t;return o})(),v=(()=>{let t=class t{constructor(e){this.payload=e}};t.type="[Coupon] Create";let o=t;return o})(),j=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Coupon] Edit";let o=t;return o})(),w=(()=>{let t=class t{constructor(e,p){this.payload=e,this.id=p}};t.type="[Coupon] Update";let o=t;return o})(),b=(()=>{let t=class t{constructor(e,p){this.id=e,this.status=p}};t.type="[Coupon] Update Status";let o=t;return o})(),I=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Coupon] Delete";let o=t;return o})(),A=(()=>{let t=class t{constructor(e){this.ids=e}};t.type="[Coupon] Delete All";let o=t;return o})();var E=(()=>{let t=class t{constructor(){this.http=c(f)}getCoupons(e){return this.http.get(`${S.URL}/coupon.json`,{params:e})}};t.\u0275fac=function(p){return new(p||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var n,a=(n=class{constructor(){this.store=c(y),this.notificationService=c(x),this.couponService=c(E)}static coupon(t){return t.coupon}static selectedCoupon(t){return t.selectedCoupon}static coupons(t){return t.coupon.data.map(r=>({label:r?.title,value:r?.id}))}getCoupons(t,r){return this.couponService.getCoupons(r.payload).pipe(d({next:e=>{t.patchState({coupon:{data:e.data,total:e?.total?e?.total:e.data?.length}})},error:e=>{throw new Error(e?.error?.message)}}))}create(t,r){}edit(t,{id:r}){return this.couponService.getCoupons().pipe(d({next:e=>{let p=t.getState(),U=e.data.find(k=>k.id==r);t.patchState(m(h({},p),{selectedCoupon:U}))},error:e=>{throw new Error(e?.error?.message)}}))}update(t,{payload:r,id:e}){}updateStatus(t,{id:r,status:e}){}delete(t,{id:r}){}deleteAll(t,{ids:r}){}},n.\u0275fac=function(r){return new(r||n)},n.\u0275prov=u({token:n,factory:n.\u0275fac}),n);s([i(g)],a.prototype,"getCoupons",null);s([i(v)],a.prototype,"create",null);s([i(j)],a.prototype,"edit",null);s([i(w)],a.prototype,"update",null);s([i(b)],a.prototype,"updateStatus",null);s([i(I)],a.prototype,"delete",null);s([i(A)],a.prototype,"deleteAll",null);s([l()],a,"coupon",null);s([l()],a,"selectedCoupon",null);s([l()],a,"coupons",null);a=s([C({name:"coupon",defaults:{coupon:{data:[],total:0},selectedCoupon:null}})],a);export{g as a,v as b,j as c,w as d,b as e,I as f,A as g,a as h};
