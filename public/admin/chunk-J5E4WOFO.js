import{a as Ge}from"./chunk-EOJ72O7D.js";import{a as Te}from"./chunk-RSBT43UQ.js";import{c as Be,d as Ae,e as O}from"./chunk-L64HS5AO.js";import{a as Ne,i as Ve}from"./chunk-FDG3HQPX.js";import{b as Ee}from"./chunk-I4EG6FBQ.js";import{b as Ce}from"./chunk-SPPECMGV.js";import{a as Se}from"./chunk-DRWHSBYU.js";import{a as Ie}from"./chunk-LCVX2N4P.js";import"./chunk-M3HD75V3.js";import{a as Fe}from"./chunk-Y2Z4WWCH.js";import"./chunk-QVI36XHK.js";import{l as ve,m as ye}from"./chunk-HMBOAMDM.js";import{a as ke}from"./chunk-7RQBIUSJ.js";import{a as U}from"./chunk-VO736VT2.js";import"./chunk-DNDGKAFO.js";import{a as he}from"./chunk-3ARB4UI6.js";import"./chunk-HD5XXWEJ.js";import"./chunk-HJPVTB2W.js";import{a as we}from"./chunk-MLWMDQKS.js";import{a as xe}from"./chunk-MPC4A6Z2.js";import"./chunk-Q3XL2YFP.js";import"./chunk-5DTRVH74.js";import"./chunk-GG7AHMIJ.js";import{$ as de,B as ae,C as le,D as oe,X as pe,Y as ce,Z as se,_ as _e,aa as me,ba as ue,c as Z,fa as fe,g as P,h as ee,i as u,k as c,m as te,q as ne,qa as V,r as ie,t as re}from"./chunk-IKKQDHIF.js";import"./chunk-OTODDIHK.js";import"./chunk-EY6JDCC6.js";import{c as ge,d as be}from"./chunk-AWERIOQH.js";import{Ac as $,Ad as X,Bc as q,Ed as Y,Fc as C,Gc as S,Ib as H,J as L,Ja as j,Kb as J,Lc as s,Mc as _,Pb as a,Qb as p,Rb as r,Sb as v,_b as h,bb as i,bc as y,dc as d,g as D,gb as R,ja as k,mc as B,ob as K,qa as g,ra as b,rc as w,sc as N,tc as I,td as Q,ub as x,va as z,x as W,yc as A,zc as G}from"./chunk-KIZZVTEV.js";import"./chunk-4CLCTAJ7.js";var T=o=>[o],F=()=>[];function Ue(o,f){if(o&1){let n=h();p(0,"div",22)(1,"app-form-fields",23)(2,"app-image-upload",24),y("selectedFiles",function(t){g(n);let l=d(2);return b(l.selectImage(t,"content.home_banner.banner_1.image_url"))}),r()(),p(3,"app-link",25),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=d(2);return b(l.getProducts(t))}),r(),p(6,"app-form-fields",23)(7,"div",26)(8,"label",27),v(9,"input",28)(10,"span",29),r()()()()}if(o&2){let n,e,t=d(2);i(),a("label","image")("for","image_url"),i(),a("url",!0)("multipleImage",!1)("accept",S(15,T,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.home_banner.banner_1.image_url"))==null?null:n.value),i(),a("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):C(17,F))("linkForm",t.form.get("content.home_banner.banner_1.redirect_link")),i(3),a("label","status")("for","status")}}function Me(o,f){if(o&1){let n=h();p(0,"div",30)(1,"app-form-fields",23)(2,"app-image-upload",24),y("selectedFiles",function(t){g(n);let l=d(2);return b(l.selectImage(t,"content.home_banner.banner_2.image_url"))}),r()(),p(3,"app-link",25),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=d(2);return b(l.getProducts(t))}),r(),p(6,"app-form-fields",23)(7,"div",26)(8,"label",27),v(9,"input",28)(10,"span",29),r()()()()}if(o&2){let n,e,t=d(2);i(),a("label","image")("for","image_url"),i(),a("url",!0)("multipleImage",!1)("accept",S(15,T,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.home_banner.banner_2.image_url"))==null?null:n.value),i(),a("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):C(17,F))("linkForm",t.form.get("content.home_banner.banner_2.redirect_link")),i(3),a("label","status")("for","status")}}function Oe(o,f){if(o&1){let n=h();p(0,"div",31)(1,"app-form-fields",23)(2,"app-image-upload",24),y("selectedFiles",function(t){g(n);let l=d(2);return b(l.selectImage(t,"content.home_banner.banner_3.image_url"))}),r()(),p(3,"app-link",25),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=d(2);return b(l.getProducts(t))}),r(),p(6,"app-form-fields",23)(7,"div",26)(8,"label",27),v(9,"input",28)(10,"span",29),r()()()()}if(o&2){let n,e,t=d(2);i(),a("label","image")("for","image_url"),i(),a("url",!0)("multipleImage",!1)("accept",S(15,T,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.home_banner.banner_3.image_url"))==null?null:n.value),i(),a("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):C(17,F))("linkForm",t.form.get("content.home_banner.banner_3.redirect_link")),i(3),a("label","status")("for","status")}}function De(o,f){if(o&1){let n=h();p(0,"div",17)(1,"div",18)(2,"ul",19,0),$("activeIdChange",function(t){g(n);let l=d();return G(l.banner,t)||(l.banner=t),b(t)}),p(4,"li",20)(5,"a",8),w(6),s(7,"translate"),r(),x(8,Ue,11,18,"ng-template",10),r(),p(9,"li",20)(10,"a",8),w(11),s(12,"translate"),r(),x(13,Me,11,18,"ng-template",10),r(),p(14,"li",20)(15,"a",8),w(16),s(17,"translate"),r(),x(18,Oe,11,18,"ng-template",10),r()(),v(19,"div",21),r()()}if(o&2){let n=B(3),e=d();i(2),A("activeId",e.banner),i(2),a("ngbNavItem",1),i(2),N(_(7,8,"main_banner")),i(3),a("ngbNavItem",2),i(2),I("",_(12,10,"home_banner")," 1"),i(3),a("ngbNavItem",3),i(2),I("",_(17,12,"home_banner")," 2"),i(3),a("ngbNavOutlet",n)}}function We(o,f){if(o&1){let n=h();p(0,"div",22)(1,"app-form-fields",23)(2,"app-image-upload",24),y("selectedFiles",function(t){g(n);let l=d(2);return b(l.selectImage(t,"content.offer_banner.banner_1.image_url"))}),r()(),p(3,"app-link",25),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=d(2);return b(l.getProducts(t))}),r(),p(6,"app-form-fields",23)(7,"div",26)(8,"label",27),v(9,"input",28)(10,"span",29),r()()()()}if(o&2){let n,e,t=d(2);i(),a("label","image")("for","image_url"),i(),a("url",!0)("multipleImage",!1)("accept",S(15,T,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.offer_banner.banner_1.image_url"))==null?null:n.value),i(),a("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):C(17,F))("linkForm",t.form.get("content.offer_banner.banner_1.redirect_link")),i(3),a("label","status")("for","status")}}function Le(o,f){if(o&1){let n=h();p(0,"div",30)(1,"app-form-fields",23)(2,"app-image-upload",24),y("selectedFiles",function(t){g(n);let l=d(2);return b(l.selectImage(t,"content.offer_banner.banner_2.image_url"))}),r()(),p(3,"app-link",25),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=d(2);return b(l.getProducts(t))}),r(),p(6,"app-form-fields",23)(7,"div",26)(8,"label",27),v(9,"input",28)(10,"span",29),r()()()()}if(o&2){let n,e,t=d(2);i(),a("label","image")("for","image_url"),i(),a("url",!0)("multipleImage",!1)("accept",S(15,T,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.offer_banner.banner_2.image_url"))==null?null:n.value),i(),a("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):C(17,F))("linkForm",t.form.get("content.offer_banner.banner_2.redirect_link")),i(3),a("label","status")("for","status")}}function ze(o,f){if(o&1){let n=h();p(0,"div",31)(1,"app-form-fields",23)(2,"app-image-upload",24),y("selectedFiles",function(t){g(n);let l=d(2);return b(l.selectImage(t,"content.offer_banner.banner_3.image_url"))}),r()(),p(3,"app-link",25),s(4,"async"),s(5,"async"),y("productFilter",function(t){g(n);let l=d(2);return b(l.getProducts(t))}),r(),p(6,"app-form-fields",23)(7,"div",26)(8,"label",27),v(9,"input",28)(10,"span",29),r()()()()}if(o&2){let n,e,t=d(2);i(),a("label","image")("for","image_url"),i(),a("url",!0)("multipleImage",!1)("accept",S(15,T,t.mediaConfig.image))("helpText","*Upload image size 806x670px recommended")("imageUrl",(n=t.form.get("content.offer_banner.banner_3.image_url"))==null?null:n.value),i(),a("products",(e=_(4,11,t.product$))!=null&&e.length?_(5,13,t.product$):C(17,F))("linkForm",t.form.get("content.offer_banner.banner_3.redirect_link")),i(3),a("label","status")("for","status")}}function je(o,f){if(o&1){let n=h();p(0,"div",32)(1,"div",18)(2,"ul",19,0),$("activeIdChange",function(t){g(n);let l=d();return G(l.banner,t)||(l.banner=t),b(t)}),p(4,"li",20)(5,"a",8),w(6),s(7,"translate"),r(),x(8,We,11,18,"ng-template",10),r(),p(9,"li",20)(10,"a",8),w(11),s(12,"translate"),r(),x(13,Le,11,18,"ng-template",10),r(),p(14,"li",20)(15,"a",8),w(16),s(17,"translate"),r(),x(18,ze,11,18,"ng-template",10),r()(),v(19,"div",21),r()()}if(o&2){let n=B(3),e=d();i(2),A("activeId",e.banner),i(2),a("ngbNavItem",1),i(2),I("",_(7,8,"banner")," 1"),i(3),a("ngbNavItem",2),i(2),I("",_(12,10,"banner")," 2"),i(3),a("ngbNavItem",3),i(2),I("",_(17,12,"banner")," 3"),i(3),a("ngbNavOutlet",n)}}function Re(o,f){if(o&1){let n=h();p(0,"div",33)(1,"app-form-fields",23)(2,"app-advance-dropdown",34),s(3,"async"),s(4,"async"),y("selectedItem",function(t){g(n);let l=d();return b(l.selectCategoryItem(t,"content.category_product.category_ids"))}),r()(),p(5,"app-form-fields",23)(6,"div",26)(7,"label",27),v(8,"input",28)(9,"span",29),r()()()()}if(o&2){let n,e=d();i(),a("label","categories")("for","type"),i(),a("position","bottom")("selectedOption",e.selectedCategories)("options",!((n=_(3,8,e.category$))==null||n.data==null)&&n.data.length?(n=_(4,10,e.category$))==null?null:n.data:C(12,F))("subArrayKey","subcategories"),i(3),a("label","status")("for","status")}}function Ke(o,f){if(o&1&&(v(0,"select2",36),s(1,"translate"),s(2,"async"),s(3,"async"),s(4,"translate")),o&2){let n,e=d(2);a("noResultMessage",q(_(1,4,"no_data_found")))("data",(n=_(2,6,e.brand$))!=null&&n.length?_(3,8,e.brand$):C(12,F))("placeholder",_(4,10,"select_brand"))}}function He(o,f){if(o&1&&(p(0,"div",35)(1,"app-form-fields",23),H(2,Ke,5,13,"select2",36),r(),p(3,"app-form-fields",23)(4,"div",26)(5,"label",27),v(6,"input",28)(7,"span",29),r()()()()),o&2){let n=d();i(),a("label","brand")("for","type"),i(),J(n.isBrowser?2:-1),i(),a("label","status")("for","status")}}function Je(o,f){o&1&&(p(0,"app-button",37),w(1),s(2,"translate"),r()),o&2&&(a("id","theme_12_submit"),i(),I(" ",_(2,2,"submit")," "))}var Et=(()=>{let f=class f{constructor(){this.store=k(V),this.formBuilder=k(ae),this.renderer=k(R),this.document=k(z),this.home_page$=k(V).select(O.homePage),this.product$=k(V).select(Ee.products),this.category$=k(V).select(Ce.category),this.brand$=k(V).select(Ve.brands),this.active="home_banner",this.banner=1,this.selectedCategories=[],this.search=new D,this.filter={status:1,search:"",paginate:15,ids:"",with_union_products:0,is_approved:1},this.mediaConfig=Ie;let e=k(j);this.isBrowser=Y(e),this.form=new u({content:new u({home_banner:new u({banner_1:new u({image_url:new c,status:new c(!0),redirect_link:new u({link:new c(""),link_type:new c(""),product_ids:new c("")})}),banner_2:new u({image_url:new c,status:new c(!0),redirect_link:new u({link:new c(""),link_type:new c(""),product_ids:new c("")})}),banner_3:new u({image_url:new c,status:new c(!0),redirect_link:new u({link:new c(""),link_type:new c(""),product_ids:new c("")})})}),offer_banner:new u({banner_1:new u({image_url:new c,status:new c(!0),redirect_link:new u({link:new c(""),link_type:new c(""),product_ids:new c("")})}),banner_2:new u({image_url:new c,status:new c(!0),redirect_link:new u({link:new c(""),link_type:new c(""),product_ids:new c("")})}),banner_3:new u({image_url:new c,status:new c(!0),redirect_link:new u({link:new c(""),link_type:new c(""),product_ids:new c("")})})}),category_product:new u({title:new c(""),sub_title:new c(""),category_ids:new c([]),status:new c(!0)}),brand:new u({brand_ids:new c(""),status:new c(!1)}),products_ids:new c([])}),slug:new c("electronics_two")})}ngOnInit(){let e=this.store.dispatch(new ke({status:1,type:"product"})),t=this.store.dispatch(new Be({slug:"electronics_two"})),l=this.store.dispatch(new Ne({status:1}));W([t,e,l]).subscribe({complete:()=>{this.store.select(O.homePage).subscribe({next:m=>{m?.content?.products_ids&&(this.filter.paginate=m?.content?.products_ids?.length>=15?m?.content?.products_ids?.length:15,this.filter.ids=m?.content?.products_ids?.join(),this.filter.with_union_products=m?.content?.products_ids?.length?m?.content?.products_ids?.length>=15?0:1:0),this.store.dispatch(new U(this.filter)).subscribe({complete:()=>{this.patchForm()}})}})}}),this.search.pipe(L(300)).subscribe(m=>{this.store.dispatch(new U({status:1,is_approved:1,paginate:15,search:m})),this.renderer.addClass(this.document.body,"loader-none")})}patchForm(){this.home_page$.subscribe(e=>{this.page_data=e,this.selectedCategories=e?.content?.category_product?.category_ids||[],this.form.patchValue({content:{home_banner:{banner_1:{image_url:e?.content?.home_banner?.banner_1?.image_url,status:e?.content?.home_banner?.banner_1?.status,redirect_link:{link:e?.content?.home_banner?.banner_1?.redirect_link?.link,link_type:e?.content?.home_banner?.banner_1?.redirect_link?.link_type,product_ids:e?.content?.home_banner?.banner_1?.redirect_link?.product_ids}},banner_2:{image_url:e?.content?.home_banner?.banner_2?.image_url,status:e?.content?.home_banner?.banner_2?.status,redirect_link:{link:e?.content?.home_banner?.banner_2?.redirect_link?.link,link_type:e?.content?.home_banner?.banner_2?.redirect_link?.link_type,product_ids:e?.content?.home_banner?.banner_2?.redirect_link?.product_ids}},banner_3:{image_url:e?.content?.home_banner?.banner_3?.image_url,status:e?.content?.home_banner?.banner_3?.status,redirect_link:{link:e?.content?.home_banner?.banner_3?.redirect_link?.link,link_type:e?.content?.home_banner?.banner_3?.redirect_link?.link_type,product_ids:e?.content?.home_banner?.banner_3?.redirect_link?.product_ids}}},offer_banner:{banner_1:{image_url:e?.content?.offer_banner?.banner_1?.image_url,status:e?.content?.offer_banner?.banner_1?.status,redirect_link:{link:e?.content?.offer_banner?.banner_1?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_1?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_1?.redirect_link?.product_ids}},banner_2:{image_url:e?.content?.offer_banner?.banner_2?.image_url,status:e?.content?.offer_banner?.banner_2?.status,redirect_link:{link:e?.content?.offer_banner?.banner_2?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_2?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_2?.redirect_link?.product_ids}},banner_3:{image_url:e?.content?.offer_banner?.banner_3?.image_url,status:e?.content?.offer_banner?.banner_3?.status,redirect_link:{link:e?.content?.offer_banner?.banner_3?.redirect_link?.link,link_type:e?.content?.offer_banner?.banner_3?.redirect_link?.link_type,product_ids:e?.content?.offer_banner?.banner_3?.redirect_link?.product_ids}}},category_product:{title:e?.content?.category_product?.title,sub_title:e?.content?.category_product?.sub_title,category_ids:e?.content?.category_product?.category_ids,status:e?.content?.category_product?.status},brand:{brand_ids:e?.content?.brand?.brand_ids,status:e?.content?.brand?.status},products_ids:e?.content?.products_ids},slug:e?.slug})})}selectCategoryItem(e,t){Array.isArray(e)&&this.form.get(t)?.setValue(e)}getProducts(e){this.filter.search=e.search,this.filter.ids=this.filter.search.length?"":this.page_data?.content?.products_ids?.join(),this.filter.paginate=this.page_data?.content?.products_ids?.length>=15?this.page_data?.content?.products_ids?.length:15,this.store.dispatch(new U(this.filter)),this.renderer.addClass(this.document.body,"loader-none")}productDropdown(e){e.innerSearchText&&(this.search.next(""),this.getProducts(this.filter))}searchProduct(e){this.search.next(e.search)}selectImage(e,t){this.form.get(t)?.setValue(e||null)}concatDynamicProductKeys(e){let t=[];function l(m){if(Array.isArray(m))m.forEach(l);else if(m!==null&&typeof m=="object")for(let[M,E]of Object.entries(m))M==="product_ids"&&Array.isArray(E)&&E.every($e=>typeof $e=="number")?t.push(...E):l(E)}return l(e),t}submit(){let e=Array.from(new Set(this.concatDynamicProductKeys(this.form.value)));this.form.get("content.products_ids")?.setValue(e),this.form.valid&&this.store.dispatch(new Ae(this.page_data.id,this.form.value))}};f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=K({type:f,selectors:[["app-electronics-2"]],decls:34,vars:18,consts:[["nav","ngbNav"],[3,"gridClass","title"],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"vertical-tabs"],[1,"row"],[1,"col-xl-3","col-lg-4"],["ngbNav","","orientation","vertical","formGroupName","content",1,"nav-pills",3,"activeIdChange","activeId"],["ngbNavItem","home_banner"],["ngbNavLink",""],[1,"ri-record-circle-line"],["ngbNavContent",""],["ngbNavItem","offer_banner"],["ngbNavItem","category_product"],["ngbNavItem","brand"],[1,"col-xl-7","col-lg-8"],[3,"ngbNavOutlet"],[3,"id",4,"hasPermission"],["formGroupName","home_banner"],[1,"inside-horizontal-tabs"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],[1,"mt-3",3,"ngbNavOutlet"],["formGroupName","banner_1"],[3,"label","for"],[3,"selectedFiles","url","multipleImage","accept","helpText","imageUrl"],[3,"productFilter","products","linkForm"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],["formGroupName","banner_2"],["formGroupName","banner_3"],["formGroupName","offer_banner"],["formGroupName","category_product"],[3,"selectedItem","position","selectedOption","options","subArrayKey"],["formGroupName","brand"],["formControlName","brand_ids","multiple","true",1,"custom-select",3,"data","placeholder","noResultMessage"],[3,"id"]],template:function(t,l){if(t&1){let m=h();p(0,"app-page-wrapper",1)(1,"form",2),y("ngSubmit",function(){return g(m),b(l.submit())}),p(2,"div",3)(3,"div",4)(4,"div",5)(5,"ul",6,0),$("activeIdChange",function(E){return g(m),G(l.active,E)||(l.active=E),b(E)}),p(7,"li",7)(8,"a",8),v(9,"i",9),w(10),s(11,"translate"),r(),x(12,De,20,14,"ng-template",10),r(),p(13,"li",11)(14,"a",8),v(15,"i",9),w(16),s(17,"translate"),r(),x(18,je,20,14,"ng-template",10),r(),p(19,"li",12)(20,"a",8),v(21,"i",9),w(22),s(23,"translate"),r(),x(24,Re,10,13,"ng-template",10),r(),p(25,"li",13)(26,"a",8),v(27,"i",9),w(28),s(29,"translate"),r(),x(30,He,8,5,"ng-template",10),r()()(),p(31,"div",14),v(32,"div",15),r()(),x(33,Je,3,4,"app-button",16),r()()()}if(t&2){let m=B(6);a("gridClass","col-sm-12")("title","electronic_2_settings"),i(),a("formGroup",l.form),i(4),A("activeId",l.active),i(5),N(_(11,10,"home_banner")),i(6),N(_(17,12,"offer_banner")),i(6),N(_(23,14,"category_product")),i(6),N(_(29,16,"brand")),i(4),a("ngbNavOutlet",m),i(),a("hasPermission","theme.edit")}},dependencies:[X,be,le,te,Z,P,ee,oe,ne,re,ie,ye,ve,he,fe,pe,_e,se,ce,me,de,ue,xe,we,Fe,Ge,Se,Te,Q,ge],encapsulation:2});let o=f;return o})();export{Et as Electronics2};
