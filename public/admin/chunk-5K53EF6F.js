import{Ia as c}from"./chunk-IKKQDHIF.js";import{c as p,d as u}from"./chunk-EY6JDCC6.js";import{G as o,ea as l,ja as s,o as e,r as h}from"./chunk-KIZZVTEV.js";var S=(()=>{let n=class n{constructor(){this.http=s(u),this.notificationService=s(c),this.apiUrl="http://localhost:8000/api/admin/v1/units"}list(t){let i=new p;return t&&Object.keys(t).forEach(r=>{t[r]!==null&&t[r]!==void 0&&(i=i.set(r,t[r].toString()))}),this.http.get(this.apiUrl,{params:i}).pipe(h(r=>Array.isArray(r)?r:[]),o(r=>(this.notificationService.showError("Birimler listesi al\u0131n\u0131rken hata olu\u015Ftu."),e(()=>r))))}create(t){return this.http.post(this.apiUrl,t).pipe(o(i=>(this.notificationService.showError("Birim kayd\u0131 olu\u015Fturulamad\u0131."),e(()=>i))))}update(t,i){return this.http.put(`${this.apiUrl}/${t}`,i).pipe(o(r=>(this.notificationService.showError("Birim g\xFCncellenirken hata olu\u015Ftu."),e(()=>r))))}updateStatus(t,i){return this.http.patch(`${this.apiUrl}/${t}`,{is_active:i}).pipe(o(r=>e(()=>r)))}remove(t){return console.log("UnitsService.remove \xE7a\u011Fr\u0131ld\u0131, ID:",t),console.log("API URL:",`${this.apiUrl}/${t}`),this.http.delete(`${this.apiUrl}/${t}`).pipe(o(i=>(this.notificationService.showError("Birim silinirken hata olu\u015Ftu."),e(()=>i))))}getById(t){return this.list().pipe(h(i=>{let r=i.find(f=>f.id===t);if(!r)throw new Error(`ID ${t} ile birim bulunamad\u0131`);return r}),o(i=>(this.notificationService.showError("Birim bilgileri al\u0131n\u0131rken hata olu\u015Ftu."),e(()=>i))))}replace(t,i){return this.http.patch(`${this.apiUrl}/${t}/replace`,{new_unit_id:i}).pipe(o(r=>(this.notificationService.showError("Birim de\u011Fi\u015Ftirme i\u015Flemi s\u0131ras\u0131nda hata olu\u015Ftu."),e(()=>r))))}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();export{S as a};
